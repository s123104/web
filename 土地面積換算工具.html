<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ğŸ¡ é¢ç©æ›ç®—å·¥å…· - ç²¾æº–å¿«é€Ÿè½‰æ›</title>
  
  <!-- Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  
  <!-- Font Awesome Icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Noto+Sans+TC:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: {
              50: '#eff6ff',
              100: '#dbeafe', 
              200: '#bfdbfe',
              300: '#93c5fd',
              400: '#60a5fa',
              500: '#2B76F9',
              600: '#2563eb',
              700: '#1d4ed8',
              800: '#1e40af',
              900: '#1e3a8a'
            },
            secondary: {
              50: '#f8fafc',
              100: '#f1f5f9',
              200: '#e2e8f0',
              300: '#cbd5e1',
              400: '#94A3B8',
              500: '#64748b',
              600: '#475569',
              700: '#334155',
              800: '#1e293b',
              900: '#0f172a'
            },
            accent: {
              highlight: '#FEF7C3',
              success: '#10b981',
              warning: '#f59e0b',
              error: '#ef4444'
            }
          },
          fontFamily: {
            sans: ['Inter', 'Noto Sans TC', 'sans-serif'],
            display: ['Inter', 'sans-serif']
          },
          spacing: {
            '0.25': '0.0625rem',
            '0.5': '0.125rem', 
            '1.25': '0.3125rem',
            '2.5': '0.625rem',
            '3.5': '0.875rem',
            '4.5': '1.125rem',
            '5.5': '1.375rem',
            '6.5': '1.625rem',
            '7.5': '1.875rem',
            '8.5': '2.125rem',
            '9.5': '2.375rem'
          },
          animation: {
            'fade-in': 'fadeIn 0.5s ease-in-out',
            'scale-in': 'scaleIn 0.3s ease-out',
            'slide-up': 'slideUp 0.4s ease-out',
            'bounce-gentle': 'bounceGentle 0.6s ease-in-out',
            'pulse-soft': 'pulseSoft 2s infinite'
          }
        }
      }
    }
  </script>
  
  <style>
    /* è‡ªå®šç¾© CSS å¢å¼· Tailwind åŠŸèƒ½ */
    
    /* å‹•ç•«é—œéµå¹€ */
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    @keyframes scaleIn {
      from { opacity: 0; transform: scale(0.95); }
      to { opacity: 1; transform: scale(1); }
    }
    
    @keyframes slideUp {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    @keyframes bounceGentle {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.05); }
    }
    
    @keyframes pulseSoft {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.7; }
    }
    
    /* è¼¸å…¥æ¡†å¢å¼·æ¨£å¼ */
    .input-enhanced {
      @apply transition-all duration-300 ease-in-out;
      @apply border border-secondary-200 rounded-lg px-4 py-3;
      @apply focus:ring-2 focus:ring-primary-500 focus:border-transparent;
      @apply hover:border-secondary-300;
      @apply bg-white shadow-sm;
    }
    
    .input-highlighted {
      @apply bg-accent-highlight border-primary-400 shadow-md;
      @apply ring-2 ring-primary-200;
    }
    
    /* æŒ‰éˆ•æ¼¸è®Šæ•ˆæœ */
    .btn-primary {
      @apply bg-gradient-to-r from-primary-500 to-primary-600;
      @apply hover:from-primary-600 hover:to-primary-700;
      @apply transform transition-all duration-200 ease-out;
      @apply hover:scale-105 active:scale-95;
      @apply shadow-lg hover:shadow-xl;
    }
    
    .btn-secondary {
      @apply bg-gradient-to-r from-secondary-400 to-secondary-500;
      @apply hover:from-secondary-500 hover:to-secondary-600;
      @apply transform transition-all duration-200 ease-out;
      @apply hover:scale-105 active:scale-95;
      @apply shadow-md hover:shadow-lg;
    }
    
    /* å¡ç‰‡å®¹å™¨æ•ˆæœ */
    .card-modern {
      @apply bg-white rounded-2xl shadow-lg;
      @apply border border-secondary-100;
      @apply transition-all duration-300 ease-in-out;
      @apply hover:shadow-xl hover:scale-[1.02];
    }
    
    /* éŸ¿æ‡‰å¼ç¶²æ ¼ä½ˆå±€ */
    .grid-responsive {
      @apply grid gap-4;
      @apply grid-cols-1 sm:grid-cols-2 lg:grid-cols-4;
    }
    
    /* æ–‡å­—å¾Œç¶´ UI */
    .input-with-suffix {
      @apply relative;
    }
    
    .input-suffix {
      @apply absolute right-3 top-1/2 transform -translate-y-1/2;
      @apply text-secondary-500 font-medium pointer-events-none;
      @apply text-sm;
    }
    
    /* éš±è—å½©è›‹æŒ‰éˆ• */
    .easter-egg-btn {
      @apply fixed bottom-6 right-6 z-50;
      @apply w-12 h-12 rounded-full;
      @apply bg-gradient-to-r from-pink-400 to-purple-500;
      @apply shadow-lg hover:shadow-xl;
      @apply transform transition-all duration-300 ease-out;
      @apply hover:scale-110 active:scale-95;
      @apply opacity-60 hover:opacity-100;
      @apply flex items-center justify-center;
      @apply cursor-pointer;
    }
    
    /* å½©è›‹ Modal */
    .easter-modal {
      @apply fixed inset-0 z-[100] flex items-center justify-center;
      @apply bg-black bg-opacity-50 backdrop-blur-sm;
      @apply opacity-0 pointer-events-none;
      @apply transition-all duration-300 ease-out;
    }
    
    .easter-modal.active {
      @apply opacity-100 pointer-events-auto;
    }
    
    .easter-content {
      @apply bg-white rounded-2xl p-8 max-w-md mx-4;
      @apply transform scale-95 transition-all duration-300 ease-out;
      @apply shadow-2xl;
    }
    
    .easter-modal.active .easter-content {
      @apply scale-100;
    }
    
    /* ç„¡éšœç¤™ç„¦é»æ¨£å¼ */
    .focus-visible {
      @apply focus:outline-none focus:ring-2 focus:ring-primary-500;
    }
    
    /* éŸ¿æ‡‰å¼å­—é«” */
    .text-responsive {
      @apply text-sm sm:text-base lg:text-lg;
    }
    
    /* é€²å ´å‹•ç•« */
    .animate-on-scroll {
      @apply opacity-0 translate-y-8;
      @apply transition-all duration-600 ease-out;
    }
    
    .animate-on-scroll.visible {
      @apply opacity-100 translate-y-0;
    }
  </style>
</head>

<body class="min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 font-sans">
  
  <!-- Header å€å¡Š -->
  <header class="bg-white shadow-sm border-b border-secondary-100 sticky top-0 z-40">
    <div class="container mx-auto px-4 py-4 lg:py-6">
      <div class="flex items-center justify-between">
        <div class="flex items-center space-x-3">
          <div class="w-10 h-10 bg-gradient-to-r from-primary-500 to-primary-600 rounded-xl flex items-center justify-center">
            <i class="fas fa-ruler-combined text-white text-lg"></i>
          </div>
          <div>
            <h1 class="text-xl lg:text-2xl font-bold text-secondary-800">é¢ç©æ›ç®—å·¥å…·</h1>
            <p class="text-sm text-secondary-500 hidden sm:block">ç²¾æº–å¿«é€Ÿçš„åœŸåœ°é¢ç©å–®ä½è½‰æ›</p>
          </div>
        </div>
        
        <!-- ä¸»é¡Œåˆ‡æ›æŒ‰éˆ• (è£é£¾ç”¨) -->
        <button class="p-2 rounded-lg hover:bg-secondary-100 transition-colors duration-200">
          <i class="fas fa-palette text-secondary-600"></i>
        </button>
      </div>
    </div>
  </header>

  <!-- ä¸»è¦å…§å®¹å€ -->
  <main class="container mx-auto px-4 py-8 lg:py-12">
    
    <!-- é é¢ä»‹ç´¹å¡ç‰‡ -->
    <div class="card-modern p-6 lg:p-8 mb-8 animate-on-scroll">
      <div class="text-center mb-6">
        <h2 class="text-2xl lg:text-3xl font-bold text-secondary-800 mb-3">
          <i class="fas fa-calculator text-primary-500 mr-2"></i>
          å¿«é€Ÿé¢ç©å–®ä½æ›ç®—
        </h2>
        <p class="text-secondary-600 text-responsive leading-relaxed max-w-2xl mx-auto">
          æ”¯æ´8ç¨®å¸¸ç”¨é¢ç©å–®ä½äº’ç›¸è½‰æ›ï¼Œæ¡ç”¨ç²¾ç¢ºæ›ç®—ä¿‚æ•¸ï¼Œé©ç”¨æ–¼åœŸåœ°æ¸¬é‡ã€æˆ¿åœ°ç”¢ä¼°åƒ¹ç­‰å°ˆæ¥­ç”¨é€”
        </p>
      </div>
      
      <!-- ä½¿ç”¨æç¤º -->
      <div class="bg-primary-50 border border-primary-200 rounded-xl p-4 mb-6">
        <div class="flex items-start space-x-3">
          <i class="fas fa-info-circle text-primary-500 mt-0.5"></i>
          <div>
            <h3 class="font-semibold text-primary-800 mb-2">ä½¿ç”¨èªªæ˜</h3>
            <ol class="text-sm text-primary-700 space-y-1 list-decimal list-inside">
              <li>é¸æ“‡ä»»ä¸€å–®ä½æ¬„ä½è¼¸å…¥æ•¸å€¼ï¼ˆè©²æ¬„ä½æœƒè‡ªå‹•é«˜äº®é¡¯ç¤ºï¼‰</li>
              <li>é»æ“Šã€Œè¨ˆç®—ã€æŒ‰éˆ•æˆ–æŒ‰ Enter éµé€²è¡Œæ›ç®—</li>
              <li>å…¶ä»–å–®ä½æœƒè‡ªå‹•å¡«å…¥å°æ‡‰çš„æ›ç®—çµæœ</li>
              <li>ä½¿ç”¨ã€Œå…¨éƒ¨æ¸…é™¤ã€å¯é‡ç½®æ‰€æœ‰æ•¸å€¼</li>
            </ol>
          </div>
        </div>
      </div>
    </div>

    <!-- æ›ç®—å·¥å…·ä¸»ä»‹é¢ -->
    <div class="card-modern p-6 lg:p-8 mb-8 animate-on-scroll">
      <form id="converter-form" class="space-y-6">
        
        <!-- è¼¸å…¥æ¬„ä½ç¶²æ ¼ -->
        <div class="grid-responsive" id="input-grid">
          
          <!-- å¹³æ–¹å…¬å°º -->
          <div class="input-with-suffix">
            <label for="sqm" class="block text-sm font-medium text-secondary-700 mb-2">
              <i class="fas fa-square text-primary-500 mr-1"></i>
              å¹³æ–¹å…¬å°º
            </label>
            <input 
              type="number" 
              id="sqm" 
              class="input-enhanced w-full pr-12 focus-visible" 
              placeholder="0.00"
              step="any"
              aria-label="å¹³æ–¹å…¬å°ºæ•¸å€¼è¼¸å…¥"
              autocomplete="off"
            >
            <span class="input-suffix">ã¡</span>
          </div>

          <!-- åª -->
          <div class="input-with-suffix">
            <label for="ping" class="block text-sm font-medium text-secondary-700 mb-2">
              <i class="fas fa-home text-primary-500 mr-1"></i>
              åª
            </label>
            <input 
              type="number" 
              id="ping" 
              class="input-enhanced w-full pr-12 focus-visible" 
              placeholder="0.00"
              step="any"
              aria-label="åªæ•¸å€¼è¼¸å…¥"
              autocomplete="off"
            >
            <span class="input-suffix">åª</span>
          </div>

          <!-- å…¬é ƒ -->
          <div class="input-with-suffix">
            <label for="hectare" class="block text-sm font-medium text-secondary-700 mb-2">
              <i class="fas fa-map text-primary-500 mr-1"></i>
              å…¬é ƒ
            </label>
            <input 
              type="number" 
              id="hectare" 
              class="input-enhanced w-full pr-12 focus-visible" 
              placeholder="0.00"
              step="any"
              aria-label="å…¬é ƒæ•¸å€¼è¼¸å…¥"
              autocomplete="off"
            >
            <span class="input-suffix">ha</span>
          </div>

          <!-- ç”² -->
          <div class="input-with-suffix">
            <label for="jia" class="block text-sm font-medium text-secondary-700 mb-2">
              <i class="fas fa-seedling text-primary-500 mr-1"></i>
              ç”²
            </label>
            <input 
              type="number" 
              id="jia" 
              class="input-enhanced w-full pr-12 focus-visible" 
              placeholder="0.00"
              step="any"
              aria-label="ç”²æ•¸å€¼è¼¸å…¥"
              autocomplete="off"
            >
            <span class="input-suffix">ç”²</span>
          </div>

          <!-- åˆ† -->
          <div class="input-with-suffix">
            <label for="fen" class="block text-sm font-medium text-secondary-700 mb-2">
              <i class="fas fa-leaf text-primary-500 mr-1"></i>
              åˆ†
            </label>
            <input 
              type="number" 
              id="fen" 
              class="input-enhanced w-full pr-12 focus-visible" 
              placeholder="0.00"
              step="any"
              aria-label="åˆ†æ•¸å€¼è¼¸å…¥"
              autocomplete="off"
            >
            <span class="input-suffix">åˆ†</span>
          </div>

          <!-- å…¬ç• -->
          <div class="input-with-suffix">
            <label for="are" class="block text-sm font-medium text-secondary-700 mb-2">
              <i class="fas fa-chart-area text-primary-500 mr-1"></i>
              å…¬ç•
            </label>
            <input 
              type="number" 
              id="are" 
              class="input-enhanced w-full pr-12 focus-visible" 
              placeholder="0.00"
              step="any"
              aria-label="å…¬ç•æ•¸å€¼è¼¸å…¥"
              autocomplete="off"
            >
            <span class="input-suffix">a</span>
          </div>

          <!-- è‹±ç• -->
          <div class="input-with-suffix">
            <label for="acre" class="block text-sm font-medium text-secondary-700 mb-2">
              <i class="fas fa-flag text-primary-500 mr-1"></i>
              è‹±ç•
            </label>
            <input 
              type="number" 
              id="acre" 
              class="input-enhanced w-full pr-12 focus-visible" 
              placeholder="0.00"
              step="any"
              aria-label="è‹±ç•æ•¸å€¼è¼¸å…¥"
              autocomplete="off"
            >
            <span class="input-suffix">acre</span>
          </div>

          <!-- å¸‚ç• -->
          <div class="input-with-suffix">
            <label for="mu" class="block text-sm font-medium text-secondary-700 mb-2">
              <i class="fas fa-landmark text-primary-500 mr-1"></i>
              å¸‚ç•
            </label>
            <input 
              type="number" 
              id="mu" 
              class="input-enhanced w-full pr-12 focus-visible" 
              placeholder="0.00"
              step="any"
              aria-label="å¸‚ç•æ•¸å€¼è¼¸å…¥"
              autocomplete="off"
            >
            <span class="input-suffix">å¸‚ç•</span>
          </div>

        </div>

        <!-- æ“ä½œæŒ‰éˆ•çµ„ -->
        <div class="flex flex-col sm:flex-row gap-4 pt-6 border-t border-secondary-100">
          <button 
            type="submit" 
            class="btn-primary text-white font-semibold py-3 px-8 rounded-lg focus-visible flex-1 sm:flex-none"
            aria-label="åŸ·è¡Œé¢ç©æ›ç®—è¨ˆç®—"
          >
            <i class="fas fa-calculator mr-2"></i>
            è¨ˆç®—
          </button>
          
          <button 
            type="button" 
            id="clear-btn"
            class="btn-secondary text-white font-semibold py-3 px-8 rounded-lg focus-visible flex-1 sm:flex-none"
            aria-label="æ¸…é™¤æ‰€æœ‰è¼¸å…¥æ•¸å€¼"
          >
            <i class="fas fa-eraser mr-2"></i>
            å…¨éƒ¨æ¸…é™¤
          </button>
          
          <!-- çµæœè¤‡è£½æŒ‰éˆ• (éš±è—ï¼Œè¨ˆç®—å¾Œé¡¯ç¤º) -->
          <button 
            type="button" 
            id="copy-btn"
            class="hidden btn-secondary text-white font-semibold py-3 px-8 rounded-lg focus-visible flex-1 sm:flex-none"
            aria-label="è¤‡è£½æ›ç®—çµæœ"
          >
            <i class="fas fa-copy mr-2"></i>
            è¤‡è£½çµæœ
          </button>
        </div>

      </form>
    </div>

    <!-- å‚™è¨»èªªæ˜èˆ‡å…è²¬æ¢æ¬¾ -->
    <div class="card-modern p-6 animate-on-scroll">
      <details class="group" open>
        <summary class="cursor-pointer select-none">
          <div class="flex items-center justify-between">
            <h3 class="text-lg font-semibold text-secondary-800 flex items-center">
              <i class="fas fa-info-circle text-primary-500 mr-2"></i>
              å‚™è¨»èªªæ˜èˆ‡å…è²¬æ¢æ¬¾
            </h3>
            <i class="fas fa-chevron-down text-secondary-400 transform transition-transform duration-200 group-open:rotate-180"></i>
          </div>
        </summary>
        
        <div class="mt-4 pt-4 border-t border-secondary-100 space-y-4">
          <div class="bg-accent-highlight bg-opacity-50 border border-yellow-200 rounded-lg p-4">
            <h4 class="font-semibold text-secondary-800 mb-2">å‚™è¨»èªªæ˜ï¼š</h4>
            <ol class="text-sm text-secondary-700 space-y-1 list-decimal list-inside">
              <li>è«‹å…ˆé¸æ“‡æ›ç®—çš„åŸå§‹å–®ä½æ¬„ä½ï¼Œè¼¸å…¥æ•¸å­—è³‡æ–™ã€‚</li>
              <li>é»æ“Š [è¨ˆç®—]ï¼Œæœƒå°‡è¼¸å…¥å€¼(é»ƒè‰²)ï¼Œæ›ç®—ç‚ºå„ç¨®å…¶ä»–çš„å–®ä½å€¼ã€‚</li>
            </ol>
          </div>
          
          <div class="bg-red-50 border border-red-200 rounded-lg p-4">
            <p class="text-sm text-red-700">
              <i class="fas fa-exclamation-triangle mr-1"></i>
              <strong>å…è²¬è²æ˜ï¼š</strong>æœ¬æŸ¥è©¢ç³»çµ±è³‡æ–™ä»¥å„åœ°æ”¿äº‹å‹™æ‰€ç‚ºæº–ï¼Œæœ¬ç³»çµ±è³‡æ–™åƒ…ä¾›åƒè€ƒã€‚
            </p>
          </div>
          
          <!-- æ›ç®—ä¿‚æ•¸åƒè€ƒè¡¨ -->
          <div class="bg-blue-50 border border-blue-200 rounded-lg p-4">
            <h4 class="font-semibold text-blue-800 mb-3">
              <i class="fas fa-table mr-1"></i>
              æ›ç®—ä¿‚æ•¸åƒè€ƒ
            </h4>
            <div class="grid grid-cols-1 sm:grid-cols-2 gap-2 text-xs text-blue-700">
              <div>â€¢ 1 å…¬é ƒ = 10,000 ã¡</div>
              <div>â€¢ 1 ã¡ = 0.3025 åª</div>
              <div>â€¢ 1 ç”² = 3,305.785 ã¡</div>
              <div>â€¢ 1 åˆ† = 330.578 ã¡</div>
              <div>â€¢ 1 å…¬ç• = 100 ã¡</div>
              <div>â€¢ 1 è‹±ç• = 4,046.8564224 ã¡</div>
              <div>â€¢ 1 å¸‚ç• = 666.6667 ã¡</div>
            </div>
          </div>
        </div>
      </details>
    </div>

  </main>

  <!-- Footer -->
  <footer class="bg-secondary-800 text-white py-8 mt-16">
    <div class="container mx-auto px-4">
      <div class="flex flex-col md:flex-row items-center justify-between">
        <div class="flex items-center space-x-3 mb-4 md:mb-0">
          <div class="w-8 h-8 bg-primary-500 rounded-lg flex items-center justify-center">
            <i class="fas fa-ruler-combined text-white"></i>
          </div>
          <span class="font-semibold">é¢ç©æ›ç®—å·¥å…·</span>
        </div>
        
        <div class="text-sm text-secondary-300 text-center md:text-right">
          <p>Â© 2024 ç²¾æº–é¢ç©æ›ç®—ç³»çµ±</p>
          <p class="mt-1">å°ˆæ¥­åœŸåœ°æ¸¬é‡ â€¢ å¿«é€Ÿå–®ä½è½‰æ›</p>
        </div>
      </div>
    </div>
  </footer>

  <!-- éš±è—å½©è›‹æŒ‰éˆ• -->
  <div class="easter-egg-btn" id="easter-egg">
    <i class="fas fa-magic text-white text-lg animate-pulse-soft"></i>
  </div>

  <!-- å½©è›‹ Modal -->
  <div class="easter-modal" id="easter-modal">
    <div class="easter-content">
      <div class="text-center">
        <div class="w-16 h-16 bg-gradient-to-r from-pink-400 to-purple-500 rounded-full flex items-center justify-center mx-auto mb-4">
          <i class="fas fa-rocket text-white text-2xl"></i>
        </div>
        <h3 class="text-xl font-bold text-secondary-800 mb-3">ğŸ‰ æ­å–œç™¼ç¾éš±è—åŠŸèƒ½ï¼</h3>
        <p class="text-secondary-600 mb-6">ä½ ç™¼ç¾äº†æˆ‘å€‘çš„å°ç§˜å¯†ï¼é€™è£¡æœ‰å€‹ç‰¹åˆ¥çš„é¢ç©æ›ç®—å°çŸ¥è­˜ï¼š</p>
        
        <div class="bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl p-4 mb-6">
          <h4 class="font-semibold text-secondary-800 mb-2">ğŸ’¡ æœ‰è¶£çš„é¢ç©æ¯”è¼ƒ</h4>
          <p class="text-sm text-secondary-700">
            å°åŒ—101å¤§æ¨“çš„åœŸåœ°é¢ç©ç´„ç‚º <span class="font-bold text-primary-600">3,056 åª</span>ï¼Œ
            ç›¸ç•¶æ–¼ <span class="font-bold text-primary-600">10,100 å¹³æ–¹å…¬å°º</span>ï¼Œ
            å¤§ç´„æ˜¯ <span class="font-bold text-primary-600">1.01 å…¬é ƒ</span>ï¼
          </p>
        </div>
        
        <div class="flex gap-3">
          <button class="btn-primary text-white px-6 py-2 rounded-lg text-sm flex-1" onclick="generateRandomConversion()">
            <i class="fas fa-dice mr-1"></i>
            éš¨æ©Ÿæ›ç®—
          </button>
          <button class="btn-secondary text-white px-6 py-2 rounded-lg text-sm flex-1" onclick="closeEasterEgg()">
            <i class="fas fa-times mr-1"></i>
            é—œé–‰
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- é€šçŸ¥ Toast -->
  <div id="toast" class="fixed top-4 right-4 z-50 transform translate-x-full opacity-0 transition-all duration-300 ease-out">
    <div class="bg-white border border-secondary-200 rounded-lg shadow-xl p-4 min-w-72">
      <div class="flex items-center space-x-3">
        <div class="flex-shrink-0">
          <i id="toast-icon" class="fas fa-check-circle text-accent-success"></i>
        </div>
        <div class="flex-1">
          <p id="toast-message" class="text-sm font-medium text-secondary-800"></p>
        </div>
        <button onclick="hideToast()" class="flex-shrink-0 text-secondary-400 hover:text-secondary-600">
          <i class="fas fa-times"></i>
        </button>
      </div>
    </div>
  </div>

  <script>
    // ===== æ ¸å¿ƒè®Šæ•¸èˆ‡è¨­å®š =====
    
    // æ›ç®—ä¿‚æ•¸ (ä»¥å¹³æ–¹å…¬å°ºç‚ºåŸºæº–å–®ä½)
    const CONVERSION_FACTORS = {
      sqm: 1,                    // å¹³æ–¹å…¬å°º (åŸºæº–)
      ping: 0.3025,              // åª (1ã¡ = 0.3025åª)
      hectare: 10000,            // å…¬é ƒ (1ha = 10,000ã¡)
      jia: 3305.785,             // ç”² (1ç”² = 3,305.785ã¡)
      fen: 330.578,              // åˆ† (1åˆ† = 330.578ã¡)
      are: 100,                  // å…¬ç• (1a = 100ã¡)
      acre: 4046.8564224,        // è‹±ç• (1acre = 4,046.8564224ã¡)
      mu: 666.6667               // å¸‚ç• (1å¸‚ç• = 666.6667ã¡)
    };
    
    // å…¨åŸŸç‹€æ…‹
    let currentActiveInput = null;
    let lastCalculatedValues = {};
    
    // ===== DOM å…ƒç´ å¼•ç”¨ =====
    const form = document.getElementById('converter-form');
    const clearBtn = document.getElementById('clear-btn');
    const copyBtn = document.getElementById('copy-btn');
    const easterEgg = document.getElementById('easter-egg');
    const easterModal = document.getElementById('easter-modal');
    
    // æ‰€æœ‰è¼¸å…¥æ¬„ä½
    const inputs = {
      sqm: document.getElementById('sqm'),
      ping: document.getElementById('ping'),
      hectare: document.getElementById('hectare'),
      jia: document.getElementById('jia'),
      fen: document.getElementById('fen'),
      are: document.getElementById('are'),
      acre: document.getElementById('acre'),
      mu: document.getElementById('mu')
    };

    // ===== æ ¸å¿ƒæ›ç®—é‚è¼¯ =====
    
    /**
     * åŸ·è¡Œé¢ç©å–®ä½æ›ç®—è¨ˆç®—
     * @param {string} sourceUnit - ä¾†æºå–®ä½éµå€¼
     * @param {number} sourceValue - ä¾†æºæ•¸å€¼
     */
    function calculateConversions(sourceUnit, sourceValue) {
      if (!sourceValue || sourceValue <= 0) {
        showToast('è«‹è¼¸å…¥æœ‰æ•ˆçš„æ­£æ•¸å€¼', 'error');
        return;
      }
      
      // å…ˆè½‰æ›ç‚ºå¹³æ–¹å…¬å°º (åŸºæº–å–®ä½)
      const sqmValue = sourceUnit === 'sqm' 
        ? sourceValue 
        : sourceValue * CONVERSION_FACTORS[sourceUnit];
      
      // è¨ˆç®—æ‰€æœ‰å…¶ä»–å–®ä½çš„æ•¸å€¼
      const results = {};
      
      Object.keys(CONVERSION_FACTORS).forEach(unit => {
        if (unit === sourceUnit) {
          results[unit] = sourceValue; // ä¿æŒåŸå§‹è¼¸å…¥å€¼
        } else if (unit === 'sqm') {
          results[unit] = sqmValue;
        } else {
          results[unit] = sqmValue / CONVERSION_FACTORS[unit];
        }
      });
      
      // æ›´æ–°æ‰€æœ‰è¼¸å…¥æ¬„ä½
      Object.keys(results).forEach(unit => {
        if (unit !== sourceUnit) {
          // æ ¼å¼åŒ–æ•¸å€¼ï¼šä¿ç•™6ä½å°æ•¸ï¼Œç§»é™¤å°¾éš¨0
          let formattedValue = parseFloat(results[unit].toFixed(6));
          inputs[unit].value = formattedValue;
        }
      });
      
      // å„²å­˜è¨ˆç®—çµæœä¾›è¤‡è£½åŠŸèƒ½ä½¿ç”¨
      lastCalculatedValues = results;
      
      // é¡¯ç¤ºè¤‡è£½æŒ‰éˆ•
      copyBtn.classList.remove('hidden');
      
      // é¡¯ç¤ºæˆåŠŸæç¤º
      showToast('æ›ç®—å®Œæˆï¼', 'success');
      
      // æ·»åŠ çµæœå‹•ç•«æ•ˆæœ
      Object.keys(inputs).forEach(unit => {
        if (unit !== sourceUnit) {
          inputs[unit].classList.add('animate-bounce-gentle');
          setTimeout(() => {
            inputs[unit].classList.remove('animate-bounce-gentle');
          }, 600);
        }
      });
    }
    
    /**
     * æ¸…é™¤æ‰€æœ‰è¼¸å…¥æ¬„ä½ä¸¦é‡ç½®ç‹€æ…‹
     */
    function clearAllInputs() {
      Object.values(inputs).forEach(input => {
        input.value = '';
        input.classList.remove('input-highlighted');
      });
      
      currentActiveInput = null;
      lastCalculatedValues = {};
      copyBtn.classList.add('hidden');
      
      showToast('å·²æ¸…é™¤æ‰€æœ‰æ•¸å€¼', 'info');
    }
    
    /**
     * è¤‡è£½æ›ç®—çµæœåˆ°å‰ªè²¼ç°¿
     */
    async function copyResults() {
      if (Object.keys(lastCalculatedValues).length === 0) {
        showToast('æ²’æœ‰å¯è¤‡è£½çš„çµæœ', 'error');
        return;
      }
      
      // æ ¼å¼åŒ–çµæœæ–‡å­—
      const resultText = Object.entries(lastCalculatedValues)
        .map(([unit, value]) => {
          const unitNames = {
            sqm: 'å¹³æ–¹å…¬å°º',
            ping: 'åª',
            hectare: 'å…¬é ƒ',
            jia: 'ç”²',
            fen: 'åˆ†',
            are: 'å…¬ç•',
            acre: 'è‹±ç•',
            mu: 'å¸‚ç•'
          };
          
          const formattedValue = parseFloat(value.toFixed(6));
          return `${unitNames[unit]}: ${formattedValue}`;
        })
        .join('\n');
      
      try {
        await navigator.clipboard.writeText(resultText);
        showToast('çµæœå·²è¤‡è£½åˆ°å‰ªè²¼ç°¿ï¼', 'success');
      } catch (err) {
        console.error('è¤‡è£½å¤±æ•—:', err);
        showToast('è¤‡è£½å¤±æ•—ï¼Œè«‹æ‰‹å‹•é¸å–æ–‡å­—', 'error');
      }
    }

    // ===== äº‹ä»¶è™•ç†å™¨ =====
    
    /**
     * è™•ç†è¼¸å…¥æ¬„ä½ç„¦é»èˆ‡äº’æ–¥é‚è¼¯
     */
    Object.entries(inputs).forEach(([unit, input]) => {
      // è¼¸å…¥æ¬„ä½ç²å¾—ç„¦é»æ™‚
      input.addEventListener('focus', () => {
        setActiveInput(unit);
      });
      
      // è¼¸å…¥å…§å®¹è®ŠåŒ–æ™‚
      input.addEventListener('input', (e) => {
        if (e.target.value) {
          setActiveInput(unit);
        }
      });
      
      // Enter éµå¿«é€Ÿè¨ˆç®—
      input.addEventListener('keydown', (e) => {
        if (e.key === 'Enter') {
          e.preventDefault();
          form.dispatchEvent(new Event('submit'));
        }
      });
    });
    
    /**
     * è¨­å®šç•¶å‰æ´»å‹•çš„è¼¸å…¥æ¬„ä½ (äº’æ–¥æ©Ÿåˆ¶)
     * @param {string} activeUnit - è¦è¨­ç‚ºæ´»å‹•çš„å–®ä½
     */
    function setActiveInput(activeUnit) {
      // ç§»é™¤æ‰€æœ‰é«˜äº®æ¨£å¼
      Object.values(inputs).forEach(input => {
        input.classList.remove('input-highlighted');
      });
      
      // æ¸…ç©ºå…¶ä»–æ¬„ä½ (äº’æ–¥æ©Ÿåˆ¶)
      Object.entries(inputs).forEach(([unit, input]) => {
        if (unit !== activeUnit) {
          input.value = '';
        }
      });
      
      // é«˜äº®ç•¶å‰æ´»å‹•æ¬„ä½
      inputs[activeUnit].classList.add('input-highlighted');
      currentActiveInput = activeUnit;
      
      // éš±è—è¤‡è£½æŒ‰éˆ•
      copyBtn.classList.add('hidden');
    }
    
    // è¡¨å–®æäº¤è™•ç†
    form.addEventListener('submit', (e) => {
      e.preventDefault();
      
      if (!currentActiveInput) {
        showToast('è«‹å…ˆé¸æ“‡ä¸€å€‹å–®ä½æ¬„ä½ä¸¦è¼¸å…¥æ•¸å€¼', 'warning');
        return;
      }
      
      const sourceValue = parseFloat(inputs[currentActiveInput].value);
      
      if (isNaN(sourceValue) || sourceValue <= 0) {
        showToast('è«‹è¼¸å…¥æœ‰æ•ˆçš„æ­£æ•¸å€¼', 'error');
        inputs[currentActiveInput].focus();
        return;
      }
      
      calculateConversions(currentActiveInput, sourceValue);
    });
    
    // æ¸…é™¤æŒ‰éˆ•
    clearBtn.addEventListener('click', clearAllInputs);
    
    // è¤‡è£½æŒ‰éˆ•
    copyBtn.addEventListener('click', copyResults);

    // ===== é€šçŸ¥ç³»çµ± =====
    
    /**
     * é¡¯ç¤ºé€šçŸ¥ Toast
     * @param {string} message - é€šçŸ¥è¨Šæ¯
     * @param {string} type - é€šçŸ¥é¡å‹ ('success', 'error', 'warning', 'info')
     */
    function showToast(message, type = 'info') {
      const toast = document.getElementById('toast');
      const icon = document.getElementById('toast-icon');
      const messageEl = document.getElementById('toast-message');
      
      // è¨­å®šåœ–ç¤ºèˆ‡æ¨£å¼
      const styles = {
        success: { icon: 'fa-check-circle', color: 'text-accent-success' },
        error: { icon: 'fa-exclamation-circle', color: 'text-accent-error' },
        warning: { icon: 'fa-exclamation-triangle', color: 'text-accent-warning' },
        info: { icon: 'fa-info-circle', color: 'text-primary-500' }
      };
      
      const style = styles[type] || styles.info;
      icon.className = `fas ${style.icon} ${style.color}`;
      messageEl.textContent = message;
      
      // é¡¯ç¤ºå‹•ç•«
      toast.classList.remove('translate-x-full', 'opacity-0');
      toast.classList.add('translate-x-0', 'opacity-100');
      
      // 3ç§’å¾Œè‡ªå‹•éš±è—
      setTimeout(() => {
        hideToast();
      }, 3000);
    }
    
    /**
     * éš±è—é€šçŸ¥ Toast
     */
    function hideToast() {
      const toast = document.getElementById('toast');
      toast.classList.remove('translate-x-0', 'opacity-100');
      toast.classList.add('translate-x-full', 'opacity-0');
    }

    // ===== éš±è—å½©è›‹åŠŸèƒ½ =====
    
    let easterEggClicks = 0;
    let easterEggTimeout;
    
    // å½©è›‹æŒ‰éˆ•é»æ“Šäº‹ä»¶
    easterEgg.addEventListener('click', () => {
      easterEggClicks++;
      
      // æ¸…é™¤ä¹‹å‰çš„è¨ˆæ™‚å™¨
      clearTimeout(easterEggTimeout);
      
      // 3æ¬¡é»æ“Šè§¸ç™¼å½©è›‹
      if (easterEggClicks >= 3) {
        showEasterEgg();
        easterEggClicks = 0;
      } else {
        // 1ç§’å…§æ²’æœ‰ç¹¼çºŒé»æ“Šå°±é‡ç½®è¨ˆæ•¸
        easterEggTimeout = setTimeout(() => {
          easterEggClicks = 0;
        }, 1000);
      }
    });
    
    // éµç›¤å½©è›‹ï¼šè¼¸å…¥ "AREA" è§¸ç™¼
    let keySequence = '';
    document.addEventListener('keydown', (e) => {
      keySequence += e.key.toLowerCase();
      
      if (keySequence.length > 4) {
        keySequence = keySequence.slice(-4);
      }
      
      if (keySequence === 'area') {
        showEasterEgg();
        keySequence = '';
      }
    });
    
    /**
     * é¡¯ç¤ºå½©è›‹ Modal
     */
    function showEasterEgg() {
      easterModal.classList.add('active');
      document.body.style.overflow = 'hidden';
      
      // æ’­æ”¾æ…¶ç¥å‹•ç•«
      easterEgg.classList.add('animate-bounce-gentle');
      setTimeout(() => {
        easterEgg.classList.remove('animate-bounce-gentle');
      }, 600);
    }
    
    /**
     * é—œé–‰å½©è›‹ Modal
     */
    function closeEasterEgg() {
      easterModal.classList.remove('active');
      document.body.style.overflow = '';
    }
    
    /**
     * ç”¢ç”Ÿéš¨æ©Ÿæ›ç®—ç¤ºç¯„
     */
    function generateRandomConversion() {
      const units = Object.keys(inputs);
      const randomUnit = units[Math.floor(Math.random() * units.length)];
      const randomValue = Math.floor(Math.random() * 1000) + 1;
      
      // æ¸…é™¤æ‰€æœ‰è¼¸å…¥
      clearAllInputs();
      
      // è¨­å®šéš¨æ©Ÿå€¼
      inputs[randomUnit].value = randomValue;
      setActiveInput(randomUnit);
      
      // åŸ·è¡Œè¨ˆç®—
      calculateConversions(randomUnit, randomValue);
      
      // é—œé–‰å½©è›‹
      closeEasterEgg();
      
      showToast(`éš¨æ©Ÿç”¢ç”Ÿï¼š${randomValue} å–®ä½çš„æ›ç®—çµæœ`, 'success');
    }
    
    // é»æ“Š Modal èƒŒæ™¯é—œé–‰
    easterModal.addEventListener('click', (e) => {
      if (e.target === easterModal) {
        closeEasterEgg();
      }
    });
    
    // ESC éµé—œé–‰å½©è›‹
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape' && easterModal.classList.contains('active')) {
        closeEasterEgg();
      }
    });

    // ===== ç„¡éšœç¤™èˆ‡ UX å¢å¼· =====
    
    /**
     * æ»¾å‹•é€²å ´å‹•ç•«è§€å¯Ÿå™¨
     */
    const observerOptions = {
      threshold: 0.1,
      rootMargin: '0px 0px -50px 0px'
    };
    
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('visible');
        }
      });
    }, observerOptions);
    
    // è§€å¯Ÿæ‰€æœ‰éœ€è¦å‹•ç•«çš„å…ƒç´ 
    document.querySelectorAll('.animate-on-scroll').forEach(el => {
      observer.observe(el);
    });
    
    /**
     * éµç›¤å°èˆªå¢å¼·
     */
    document.addEventListener('keydown', (e) => {
      // Ctrl+D å¿«é€Ÿæ¸…é™¤
      if (e.ctrlKey && e.key === 'd') {
        e.preventDefault();
        clearAllInputs();
      }
      
      // Ctrl+Enter å¿«é€Ÿè¨ˆç®—
      if (e.ctrlKey && e.key === 'Enter') {
        e.preventDefault();
        form.dispatchEvent(new Event('submit'));
      }
    });
    
    /**
     * è¦–çª—å¤§å°è®ŠåŒ–æ™‚çš„éŸ¿æ‡‰å¼èª¿æ•´
     */
    window.addEventListener('resize', () => {
      // ç¢ºä¿ Modal åœ¨å°è¢å¹•ä¸Šæ­£ç¢ºå±…ä¸­
      if (easterModal.classList.contains('active')) {
        // é‡æ–°è¨ˆç®—ä½ç½® (å¦‚éœ€è¦)
      }
    });
    
    // ===== åˆå§‹åŒ– =====
    
    /**
     * é é¢è¼‰å…¥å®Œæˆå¾Œçš„åˆå§‹åŒ–
     */
    document.addEventListener('DOMContentLoaded', () => {
      // é è¨­ç„¦é»åˆ°ç¬¬ä¸€å€‹è¼¸å…¥æ¬„ä½
      inputs.sqm.focus();
      
      // é¡¯ç¤ºæ­¡è¿è¨Šæ¯
      setTimeout(() => {
        showToast('æ­¡è¿ä½¿ç”¨é¢ç©æ›ç®—å·¥å…·ï¼', 'info');
      }, 500);
      
      // è¼‰å…¥å‹•ç•«
      document.body.classList.add('animate-fade-in');
    });
    
    // é˜²æ­¢è¡¨å–®é‡è¤‡æäº¤
    let isCalculating = false;
    const originalSubmitHandler = form.onsubmit;
    
    form.addEventListener('submit', (e) => {
      if (isCalculating) {
        e.preventDefault();
        return;
      }
      
      isCalculating = true;
      setTimeout(() => {
        isCalculating = false;
      }, 500);
    });
    
    // ===== è¼”åŠ©å‡½æ•¸ =====
    
    /**
     * æ ¼å¼åŒ–æ•¸å­—é¡¯ç¤º
     * @param {number} value - è¦æ ¼å¼åŒ–çš„æ•¸å€¼
     * @param {number} precision - å°æ•¸é»ä½æ•¸
     * @returns {string} æ ¼å¼åŒ–å¾Œçš„å­—ä¸²
     */
    function formatNumber(value, precision = 6) {
      return parseFloat(value.toFixed(precision)).toString();
    }
    
    /**
     * é©—è­‰è¼¸å…¥å€¼
     * @param {string} value - è¼¸å…¥å€¼
     * @returns {boolean} æ˜¯å¦ç‚ºæœ‰æ•ˆæ•¸å€¼
     */
    function validateInput(value) {
      const num = parseFloat(value);
      return !isNaN(num) && num > 0 && num < Infinity;
    }
    
    // ===== é–‹ç™¼è€…å·¥å…· (åƒ…é–‹ç™¼æ¨¡å¼) =====
    
    if (window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1') {
      // é–‹ç™¼è€…å¿«æ·éµ
      window.addEventListener('keydown', (e) => {
        if (e.ctrlKey && e.shiftKey && e.key === 'D') {
          console.log('ç•¶å‰ç‹€æ…‹:', {
            activeInput: currentActiveInput,
            lastValues: lastCalculatedValues,
            conversionFactors: CONVERSION_FACTORS
          });
        }
      });
      
      // æš´éœ²å‡½æ•¸åˆ°å…¨åŸŸ (æ–¹ä¾¿é™¤éŒ¯)
      window.areaConverter = {
        calculateConversions,
        clearAllInputs,
        showToast,
        inputs,
        CONVERSION_FACTORS
      };
    }
    
  </script>

</body>
</html>