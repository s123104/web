<!DOCTYPE html>
<html lang="zh-TW">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, user-scalable=no"
    />
    <title>ğŸ¡ Premium åœŸåœ°é¢ç©æ›ç®—å·¥å…· - å°ˆæ¥­ç‰ˆ</title>

    <!-- å…§åµŒGoogle Fontsæ›¿ä»£ -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Noto+Sans+TC:wght@300;400;500;600;700;800&display=swap"
      rel="stylesheet"
    />

    <style>
      /* ===== æ ¸å¿ƒè®Šæ•¸å®šç¾© ===== */
      :root {
        /* è‰²å½©ç³»çµ± */
        --primary-50: #f0fdf4;
        --primary-100: #dcfce7;
        --primary-200: #bbf7d0;
        --primary-300: #86efac;
        --primary-400: #4ade80;
        --primary-500: #22c55e;
        --primary-600: #16a34a;
        --primary-700: #15803d;
        --primary-800: #166534;
        --primary-900: #14532d;

        --gray-50: #f9fafb;
        --gray-100: #f3f4f6;
        --gray-200: #e5e7eb;
        --gray-300: #d1d5db;
        --gray-400: #9ca3af;
        --gray-500: #6b7280;
        --gray-600: #4b5563;
        --gray-700: #374151;
        --gray-800: #1f2937;
        --gray-900: #111827;

        --blue-50: #eff6ff;
        --blue-100: #dbeafe;
        --blue-200: #bfdbfe;
        --blue-300: #93c5fd;
        --blue-400: #60a5fa;
        --blue-500: #3b82f6;
        --blue-600: #2563eb;
        --blue-700: #1d4ed8;
        --blue-800: #1e40af;
        --blue-900: #1e3a8a;

        --purple-500: #8b5cf6;
        --purple-600: #7c3aed;
        --orange-500: #f97316;
        --pink-500: #ec4899;
        --cyan-500: #06b6d4;
        --yellow-500: #eab308;
        --emerald-500: #10b981;
        --rose-500: #f43f5e;

        /* é–“è·ç³»çµ± */
        --space-1: 0.25rem;
        --space-2: 0.5rem;
        --space-3: 0.75rem;
        --space-4: 1rem;
        --space-5: 1.25rem;
        --space-6: 1.5rem;
        --space-8: 2rem;
        --space-10: 2.5rem;
        --space-12: 3rem;
        --space-16: 4rem;
        --space-20: 5rem;
        --space-24: 6rem;

        /* å­—é«”ç³»çµ± */
        --font-family: "Inter", "Noto Sans TC", system-ui, sans-serif;
        --font-size-xs: 0.75rem;
        --font-size-sm: 0.875rem;
        --font-size-base: 1rem;
        --font-size-lg: 1.125rem;
        --font-size-xl: 1.25rem;
        --font-size-2xl: 1.5rem;
        --font-size-3xl: 1.875rem;
        --font-size-4xl: 2.25rem;

        /* åœ“è§’ç³»çµ± */
        --radius-sm: 0.375rem;
        --radius-md: 0.5rem;
        --radius-lg: 0.75rem;
        --radius-xl: 1rem;
        --radius-2xl: 1.5rem;
        --radius-3xl: 2rem;

        /* é™°å½±ç³»çµ± */
        --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
        --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1),
          0 2px 4px -1px rgba(0, 0, 0, 0.06);
        --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1),
          0 4px 6px -2px rgba(0, 0, 0, 0.05);
        --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1),
          0 10px 10px -5px rgba(0, 0, 0, 0.04);
        --shadow-2xl: 0 25px 50px -12px rgba(0, 0, 0, 0.25);

        /* å‹•ç•«æ™‚é–“ */
        --transition-fast: 150ms;
        --transition-normal: 300ms;
        --transition-slow: 500ms;
      }

      /* ===== åŸºç¤é‡ç½®èˆ‡è¨­å®š ===== */
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      html {
        scroll-behavior: smooth;
        -webkit-text-size-adjust: 100%;
      }

      body {
        font-family: var(--font-family);
        line-height: 1.6;
        color: var(--gray-800);
        background: linear-gradient(
          135deg,
          var(--blue-50) 0%,
          var(--purple-50) 50%,
          var(--pink-50) 100%
        );
        min-height: 100vh;
        overflow-x: hidden;
        touch-action: manipulation;
      }

      /* ===== å‹•ç•«å®šç¾© ===== */
      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      @keyframes slideIn {
        from {
          transform: translateX(-100%);
          opacity: 0;
        }
        to {
          transform: translateX(0);
          opacity: 1;
        }
      }

      @keyframes scaleIn {
        from {
          transform: scale(0.9);
          opacity: 0;
        }
        to {
          transform: scale(1);
          opacity: 1;
        }
      }

      @keyframes bounce {
        0%,
        100% {
          transform: translateY(0);
        }
        50% {
          transform: translateY(-10px);
        }
      }

      @keyframes pulse {
        0%,
        100% {
          opacity: 1;
        }
        50% {
          opacity: 0.7;
        }
      }

      @keyframes spin {
        from {
          transform: rotate(0deg);
        }
        to {
          transform: rotate(360deg);
        }
      }

      @keyframes shimmer {
        0% {
          background-position: -200px 0;
        }
        100% {
          background-position: 200px 0;
        }
      }

      @keyframes rainbow {
        0%,
        100% {
          background-position: 0% 50%;
        }
        50% {
          background-position: 100% 50%;
        }
      }

      /* ===== å‹•ç•«é¡åˆ¥ ===== */
      .animate-fadeIn {
        animation: fadeIn 0.6s ease-out forwards;
      }
      .animate-slideIn {
        animation: slideIn 0.8s ease-out forwards;
      }
      .animate-scaleIn {
        animation: scaleIn 0.5s ease-out forwards;
      }
      .animate-bounce {
        animation: bounce 2s infinite;
      }
      .animate-pulse {
        animation: pulse 2s infinite;
      }
      .animate-spin {
        animation: spin 1s linear infinite;
      }
      .animate-shimmer {
        animation: shimmer 2s linear infinite;
      }
      .animate-rainbow {
        animation: rainbow 3s ease-in-out infinite;
      }

      /* ===== å·¥å…·é¡åˆ¥ ===== */
      .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 var(--space-4);
      }

      .grid {
        display: grid;
        gap: var(--space-6);
      }

      .grid-2 {
        grid-template-columns: repeat(2, 1fr);
      }
      .grid-3 {
        grid-template-columns: repeat(3, 1fr);
      }
      .grid-4 {
        grid-template-columns: repeat(4, 1fr);
      }

      .flex {
        display: flex;
      }
      .flex-col {
        flex-direction: column;
      }
      .items-center {
        align-items: center;
      }
      .justify-center {
        justify-content: center;
      }
      .justify-between {
        justify-content: space-between;
      }
      .space-x-2 > * + * {
        margin-left: var(--space-2);
      }
      .space-x-3 > * + * {
        margin-left: var(--space-3);
      }
      .space-x-4 > * + * {
        margin-left: var(--space-4);
      }
      .space-y-3 > * + * {
        margin-top: var(--space-3);
      }
      .space-y-4 > * + * {
        margin-top: var(--space-4);
      }
      .space-y-6 > * + * {
        margin-top: var(--space-6);
      }

      .hidden {
        display: none;
      }
      .block {
        display: block;
      }
      .relative {
        position: relative;
      }
      .absolute {
        position: absolute;
      }
      .fixed {
        position: fixed;
      }
      .top-0 {
        top: 0;
      }
      .right-0 {
        right: 0;
      }
      .left-0 {
        left: 0;
      }
      .bottom-0 {
        bottom: 0;
      }
      .z-10 {
        z-index: 10;
      }
      .z-50 {
        z-index: 50;
      }
      .z-100 {
        z-index: 100;
      }

      .w-full {
        width: 100%;
      }
      .h-full {
        height: 100%;
      }
      .min-h-screen {
        min-height: 100vh;
      }

      .text-xs {
        font-size: var(--font-size-xs);
      }
      .text-sm {
        font-size: var(--font-size-sm);
      }
      .text-base {
        font-size: var(--font-size-base);
      }
      .text-lg {
        font-size: var(--font-size-lg);
      }
      .text-xl {
        font-size: var(--font-size-xl);
      }
      .text-2xl {
        font-size: var(--font-size-2xl);
      }
      .text-3xl {
        font-size: var(--font-size-3xl);
      }
      .text-4xl {
        font-size: var(--font-size-4xl);
      }

      .font-light {
        font-weight: 300;
      }
      .font-normal {
        font-weight: 400;
      }
      .font-medium {
        font-weight: 500;
      }
      .font-semibold {
        font-weight: 600;
      }
      .font-bold {
        font-weight: 700;
      }
      .font-extrabold {
        font-weight: 800;
      }

      .text-center {
        text-align: center;
      }

      .text-gray-400 {
        color: var(--gray-400);
      }
      .text-gray-500 {
        color: var(--gray-500);
      }
      .text-gray-600 {
        color: var(--gray-600);
      }
      .text-gray-700 {
        color: var(--gray-700);
      }
      .text-gray-800 {
        color: var(--gray-800);
      }
      .text-gray-900 {
        color: var(--gray-900);
      }
      .text-white {
        color: white;
      }
      .text-primary-600 {
        color: var(--primary-600);
      }

      .bg-white {
        background-color: white;
      }
      .bg-gray-50 {
        background-color: var(--gray-50);
      }
      .bg-gray-100 {
        background-color: var(--gray-100);
      }
      .bg-primary-50 {
        background-color: var(--primary-50);
      }
      .bg-primary-500 {
        background-color: var(--primary-500);
      }
      .bg-primary-600 {
        background-color: var(--primary-600);
      }
      .bg-blue-500 {
        background-color: var(--blue-500);
      }
      .bg-purple-500 {
        background-color: var(--purple-500);
      }

      .border {
        border: 1px solid var(--gray-200);
      }
      .border-2 {
        border: 2px solid var(--gray-200);
      }
      .border-gray-200 {
        border-color: var(--gray-200);
      }
      .border-gray-300 {
        border-color: var(--gray-300);
      }
      .border-primary-300 {
        border-color: var(--primary-300);
      }
      .border-primary-500 {
        border-color: var(--primary-500);
      }

      .rounded {
        border-radius: var(--radius-md);
      }
      .rounded-lg {
        border-radius: var(--radius-lg);
      }
      .rounded-xl {
        border-radius: var(--radius-xl);
      }
      .rounded-2xl {
        border-radius: var(--radius-2xl);
      }
      .rounded-3xl {
        border-radius: var(--radius-3xl);
      }
      .rounded-full {
        border-radius: 9999px;
      }

      .shadow-sm {
        box-shadow: var(--shadow-sm);
      }
      .shadow-md {
        box-shadow: var(--shadow-md);
      }
      .shadow-lg {
        box-shadow: var(--shadow-lg);
      }
      .shadow-xl {
        box-shadow: var(--shadow-xl);
      }
      .shadow-2xl {
        box-shadow: var(--shadow-2xl);
      }

      .p-2 {
        padding: var(--space-2);
      }
      .p-3 {
        padding: var(--space-3);
      }
      .p-4 {
        padding: var(--space-4);
      }
      .p-6 {
        padding: var(--space-6);
      }
      .p-8 {
        padding: var(--space-8);
      }
      .px-3 {
        padding-left: var(--space-3);
        padding-right: var(--space-3);
      }
      .px-4 {
        padding-left: var(--space-4);
        padding-right: var(--space-4);
      }
      .px-6 {
        padding-left: var(--space-6);
        padding-right: var(--space-6);
      }
      .py-2 {
        padding-top: var(--space-2);
        padding-bottom: var(--space-2);
      }
      .py-3 {
        padding-top: var(--space-3);
        padding-bottom: var(--space-3);
      }
      .py-4 {
        padding-top: var(--space-4);
        padding-bottom: var(--space-4);
      }
      .py-8 {
        padding-top: var(--space-8);
        padding-bottom: var(--space-8);
      }

      .m-2 {
        margin: var(--space-2);
      }
      .m-4 {
        margin: var(--space-4);
      }
      .mx-auto {
        margin-left: auto;
        margin-right: auto;
      }
      .mb-2 {
        margin-bottom: var(--space-2);
      }
      .mb-3 {
        margin-bottom: var(--space-3);
      }
      .mb-4 {
        margin-bottom: var(--space-4);
      }
      .mb-6 {
        margin-bottom: var(--space-6);
      }
      .mb-8 {
        margin-bottom: var(--space-8);
      }
      .mr-2 {
        margin-right: var(--space-2);
      }
      .mr-3 {
        margin-right: var(--space-3);
      }
      .mt-4 {
        margin-top: var(--space-4);
      }
      .mt-6 {
        margin-top: var(--space-6);
      }

      .transition {
        transition: all var(--transition-normal) ease;
      }
      .transition-all {
        transition: all var(--transition-normal) ease;
      }
      .hover\:scale-105:hover {
        transform: scale(1.05);
      }
      .hover\:shadow-lg:hover {
        box-shadow: var(--shadow-lg);
      }
      .hover\:bg-gray-50:hover {
        background-color: var(--gray-50);
      }
      .hover\:bg-primary-700:hover {
        background-color: var(--primary-700);
      }
      .hover\:border-primary-500:hover {
        border-color: var(--primary-500);
      }

      .focus\:outline-none:focus {
        outline: none;
      }
      .focus\:ring-4:focus {
        box-shadow: 0 0 0 4px rgba(59, 130, 246, 0.1);
      }
      .focus\:border-primary-500:focus {
        border-color: var(--primary-500);
      }

      .cursor-pointer {
        cursor: pointer;
      }
      .select-none {
        user-select: none;
      }

      /* ===== è‡ªå®šç¾©çµ„ä»¶ ===== */
      .glass-card {
        background: rgba(255, 255, 255, 0.9);
        backdrop-filter: blur(20px);
        border: 1px solid rgba(255, 255, 255, 0.2);
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
      }

      .gradient-border {
        position: relative;
        background: white;
        border-radius: var(--radius-xl);
      }

      .gradient-border::before {
        content: "";
        position: absolute;
        inset: 0;
        padding: 2px;
        background: linear-gradient(
          135deg,
          var(--primary-500),
          var(--blue-500),
          var(--purple-500)
        );
        border-radius: inherit;
        mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
        mask-composite: exclude;
      }

      .input-field {
        width: 100%;
        padding: var(--space-4);
        border: 2px solid var(--gray-200);
        border-radius: var(--radius-xl);
        font-size: var(--font-size-lg);
        font-weight: 500;
        background: white;
        transition: all var(--transition-normal) ease;
        position: relative;
      }

      .input-field:focus {
        outline: none;
        border-color: var(--primary-500);
        box-shadow: 0 0 0 4px rgba(34, 197, 94, 0.1);
        transform: translateY(-2px);
      }

      .input-field.highlighted {
        border-color: var(--primary-400);
        background: linear-gradient(135deg, #fef7cd 0%, #fef3c7 100%);
        box-shadow: 0 0 0 4px rgba(34, 197, 94, 0.2);
      }

      .input-field.calculating {
        border-color: var(--blue-500);
        background: linear-gradient(
          45deg,
          transparent 25%,
          rgba(59, 130, 246, 0.1) 25%,
          rgba(59, 130, 246, 0.1) 50%,
          transparent 50%,
          transparent 75%,
          rgba(59, 130, 246, 0.1) 75%
        );
        background-size: 20px 20px;
        animation: shimmer 1.5s linear infinite;
      }

      .btn {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        padding: var(--space-4) var(--space-6);
        border-radius: var(--radius-xl);
        font-weight: 600;
        font-size: var(--font-size-base);
        text-decoration: none;
        border: none;
        cursor: pointer;
        transition: all var(--transition-normal) ease;
        min-height: 56px;
        position: relative;
        overflow: hidden;
      }

      .btn:hover {
        transform: translateY(-2px);
      }

      .btn:active {
        transform: translateY(0);
      }

      .btn-primary {
        background: linear-gradient(
          135deg,
          var(--primary-500) 0%,
          var(--primary-600) 100%
        );
        color: white;
        box-shadow: var(--shadow-md);
      }

      .btn-primary:hover {
        background: linear-gradient(
          135deg,
          var(--primary-600) 0%,
          var(--primary-700) 100%
        );
        box-shadow: var(--shadow-lg);
      }

      .btn-secondary {
        background: var(--gray-100);
        color: var(--gray-700);
        border: 1px solid var(--gray-200);
      }

      .btn-secondary:hover {
        background: var(--gray-200);
        border-color: var(--gray-300);
      }

      .btn-gradient {
        background: linear-gradient(
          135deg,
          var(--blue-500) 0%,
          var(--purple-500) 100%
        );
        color: white;
        box-shadow: var(--shadow-md);
      }

      .btn-gradient:hover {
        background: linear-gradient(
          135deg,
          var(--blue-600) 0%,
          var(--purple-600) 100%
        );
        box-shadow: var(--shadow-lg);
      }

      .btn-disabled {
        opacity: 0.5;
        cursor: not-allowed;
        transform: none !important;
      }

      .icon {
        width: 1.5rem;
        height: 1.5rem;
        display: inline-block;
      }

      .icon-sm {
        width: 1rem;
        height: 1rem;
      }

      .icon-lg {
        width: 2rem;
        height: 2rem;
      }

      .badge {
        display: inline-flex;
        align-items: center;
        padding: var(--space-1) var(--space-3);
        border-radius: var(--radius-full);
        font-size: var(--font-size-xs);
        font-weight: 600;
        background: var(--primary-100);
        color: var(--primary-700);
      }

      .modal-backdrop {
        position: fixed;
        inset: 0;
        background: rgba(0, 0, 0, 0.5);
        backdrop-filter: blur(4px);
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 100;
        opacity: 0;
        pointer-events: none;
        transition: all var(--transition-normal) ease;
      }

      .modal-backdrop.active {
        opacity: 1;
        pointer-events: auto;
      }

      .modal-content {
        background: white;
        border-radius: var(--radius-3xl);
        box-shadow: var(--shadow-2xl);
        max-width: 90vw;
        max-height: 80vh;
        overflow-y: auto;
        transform: scale(0.9);
        transition: all var(--transition-normal) ease;
      }

      .modal-backdrop.active .modal-content {
        transform: scale(1);
      }

      .notification {
        position: fixed;
        top: var(--space-6);
        right: var(--space-6);
        background: white;
        border-radius: var(--radius-xl);
        box-shadow: var(--shadow-xl);
        padding: var(--space-4);
        max-width: 400px;
        z-index: 200;
        transform: translateX(100%);
        opacity: 0;
        transition: all var(--transition-slow) ease;
      }

      .notification.show {
        transform: translateX(0);
        opacity: 1;
      }

      .notification.success {
        border-left: 4px solid var(--primary-500);
      }

      .notification.error {
        border-left: 4px solid var(--rose-500);
      }

      .notification.warning {
        border-left: 4px solid var(--yellow-500);
      }

      .notification.info {
        border-left: 4px solid var(--blue-500);
      }

      .easter-egg {
        position: fixed;
        top: var(--space-6);
        left: var(--space-6);
        width: 48px;
        height: 48px;
        border-radius: 50%;
        background: linear-gradient(
          135deg,
          var(--pink-500) 0%,
          var(--purple-500) 100%
        );
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        transition: all var(--transition-normal) ease;
        z-index: 50;
        opacity: 0.7;
      }

      .easter-egg:hover {
        opacity: 1;
        transform: scale(1.1) rotate(15deg);
      }

      .rainbow-text {
        background: linear-gradient(
          45deg,
          #ff6b6b,
          #4ecdc4,
          #45b7d1,
          #96ceb4,
          #ffeaa7,
          #dda0dd
        );
        background-size: 400% 400%;
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        animation: rainbow 3s ease-in-out infinite;
      }

      .sparkle {
        position: relative;
      }

      .sparkle::after {
        content: "âœ¨";
        position: absolute;
        top: -10px;
        right: -10px;
        animation: bounce 2s infinite;
      }

      /* ===== éŸ¿æ‡‰å¼è¨­è¨ˆ ===== */
      @media (max-width: 768px) {
        .container {
          padding: 0 var(--space-3);
        }

        .grid-4 {
          grid-template-columns: repeat(2, 1fr);
        }

        .grid-3 {
          grid-template-columns: repeat(1, 1fr);
        }

        .grid-2 {
          grid-template-columns: repeat(1, 1fr);
        }

        .text-4xl {
          font-size: var(--font-size-3xl);
        }

        .text-3xl {
          font-size: var(--font-size-2xl);
        }

        .text-2xl {
          font-size: var(--font-size-xl);
        }

        .p-8 {
          padding: var(--space-6);
        }

        .py-8 {
          padding-top: var(--space-6);
          padding-bottom: var(--space-6);
        }

        .notification {
          right: var(--space-3);
          left: var(--space-3);
          max-width: none;
        }

        .modal-content {
          margin: var(--space-4);
          max-width: none;
        }
      }

      @media (max-width: 480px) {
        .easter-egg {
          top: var(--space-4);
          left: var(--space-4);
          width: 40px;
          height: 40px;
        }

        .input-field {
          padding: var(--space-3);
          font-size: var(--font-size-base);
        }

        .btn {
          min-height: 48px;
          padding: var(--space-3) var(--space-4);
        }
      }

      /* ===== SVG Icons ===== */
      .icon svg {
        width: 100%;
        height: 100%;
        fill: currentColor;
      }

      /* ===== ç„¡éšœç¤™æ”¯æ´ ===== */
      @media (prefers-reduced-motion: reduce) {
        *,
        *::before,
        *::after {
          animation-duration: 0.01ms !important;
          animation-iteration-count: 1 !important;
          transition-duration: 0.01ms !important;
        }
      }

      /* ===== è‡ªå®šç¾©æ»¾å‹•æ¢ ===== */
      ::-webkit-scrollbar {
        width: 8px;
        height: 8px;
      }

      ::-webkit-scrollbar-track {
        background: var(--gray-100);
        border-radius: var(--radius-full);
      }

      ::-webkit-scrollbar-thumb {
        background: var(--primary-400);
        border-radius: var(--radius-full);
      }

      ::-webkit-scrollbar-thumb:hover {
        background: var(--primary-500);
      }

      /* ===== é˜²æ­¢ç¸®æ”¾ ===== */
      input[type="number"] {
        -moz-appearance: textfield;
      }

      input[type="number"]::-webkit-outer-spin-button,
      input[type="number"]::-webkit-inner-spin-button {
        -webkit-appearance: none;
        margin: 0;
      }
    </style>
  </head>
  <body>
    <!-- å½©è›‹æŒ‰éˆ• -->
    <div class="easter-egg" id="easterEgg" title="é»æ“Š3æ¬¡è§£é–éš±è—åŠŸèƒ½ï¼">
      <div class="icon text-white">
        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path
            d="M12 2L13.09 8.26L22 9L13.09 9.74L12 16L10.91 9.74L2 9L10.91 8.26L12 2Z"
            fill="currentColor"
          />
        </svg>
      </div>
    </div>

    <!-- ä¸»è¦å…§å®¹ -->
    <div class="min-h-screen">
      <!-- æ¨™é¡Œå€åŸŸ -->
      <header class="py-8 mb-8">
        <div class="container">
          <div class="text-center animate-fadeIn">
            <h1 class="text-4xl font-extrabold text-gray-900 mb-4">
              ğŸ¡ <span class="rainbow-text">Premium</span> åœŸåœ°é¢ç©æ›ç®—å·¥å…·
            </h1>
            <p class="text-xl text-gray-600 max-w-2xl mx-auto">
              å°ˆæ¥­ç´šåœŸåœ°æ¸¬é‡èˆ‡é¢ç©å–®ä½è½‰æ›ï¼Œæ”¯æ´8ç¨®å¸¸ç”¨å–®ä½çš„ç²¾ç¢ºè¨ˆç®—
            </p>
            <div class="flex justify-center space-x-4 mt-6">
              <div class="badge sparkle">å³æ™‚æ›ç®—</div>
              <div class="badge">é«˜ç²¾åº¦è¨ˆç®—</div>
              <div class="badge">éŸ¿æ‡‰å¼è¨­è¨ˆ</div>
            </div>
          </div>
        </div>
      </header>

      <!-- ä¸»è¦åŠŸèƒ½å€åŸŸ -->
      <main class="container mb-8">
        <!-- ä½¿ç”¨èªªæ˜å¡ç‰‡ -->
        <div class="glass-card rounded-2xl p-6 mb-8 animate-slideIn">
          <div class="flex items-start space-x-4">
            <div
              class="w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-500 rounded-xl flex items-center justify-center flex-shrink-0"
            >
              <div class="icon text-white">
                <svg
                  viewBox="0 0 24 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M12 18C15.3137 18 18 15.3137 18 12C18 8.68629 15.3137 6 12 6C8.68629 6 6 8.68629 6 12C6 15.3137 8.68629 18 12 18Z"
                    stroke="currentColor"
                    stroke-width="2"
                  />
                  <path
                    d="M12 8V12L15 15"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                  />
                </svg>
              </div>
            </div>
            <div>
              <h2 class="text-xl font-bold text-gray-800 mb-2">
                ğŸš€ æ™ºèƒ½å³æ™‚æ›ç®—
              </h2>
              <p class="text-gray-600 leading-relaxed">
                åœ¨ä»»ä¸€æ¬„ä½è¼¸å…¥æ•¸å€¼ï¼Œç³»çµ±å°‡è‡ªå‹•è¨ˆç®—ä¸¦å³æ™‚é¡¯ç¤ºæ‰€æœ‰å…¶ä»–å–®ä½çš„å°æ‡‰å€¼ã€‚
                ç•¶å‰è¼¸å…¥çš„æ¬„ä½æœƒä»¥
                <span
                  class="px-2 py-1 bg-yellow-200 rounded-lg font-semibold text-yellow-800"
                  >é»ƒè‰²é«˜äº®</span
                >
                æ¨™ç¤ºã€‚
              </p>
            </div>
          </div>
        </div>

        <!-- é¢ç©æ›ç®—å™¨ -->
        <div class="glass-card rounded-3xl p-8 mb-8 animate-scaleIn">
          <div class="mb-8">
            <h3 class="text-2xl font-bold text-gray-800 mb-2 flex items-center">
              <div class="icon text-primary-500 mr-3">
                <svg
                  viewBox="0 0 24 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M3 12L21 12M12 3L12 21"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                  />
                </svg>
              </div>
              é¢ç©å–®ä½æ›ç®—å™¨
            </h3>
            <p class="text-gray-600">æ”¯æ´8ç¨®å¸¸ç”¨é¢ç©å–®ä½çš„ç²¾ç¢ºäº’ç›¸è½‰æ›</p>
          </div>

          <form id="converterForm" class="grid grid-4 gap-6">
            <!-- å¹³æ–¹å…¬å°º -->
            <div class="space-y-3">
              <label
                for="sqm"
                class="flex items-center text-sm font-semibold text-gray-700"
              >
                <div
                  class="w-6 h-6 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg flex items-center justify-center mr-3"
                >
                  <div class="icon-sm text-white">
                    <svg viewBox="0 0 24 24" fill="currentColor">
                      <rect x="4" y="4" width="16" height="16" rx="2" />
                    </svg>
                  </div>
                </div>
                å¹³æ–¹å…¬å°º
              </label>
              <div class="relative">
                <input
                  type="number"
                  id="sqm"
                  class="input-field"
                  placeholder="è¼¸å…¥æ•¸å€¼"
                  step="any"
                  inputmode="decimal"
                />
                <div
                  class="absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-500 font-semibold pointer-events-none bg-gray-100 px-2 py-1 rounded-lg text-sm"
                >
                  ã¡
                </div>
                <div
                  class="absolute right-16 top-1/2 transform -translate-y-1/2 text-blue-500 hidden animate-spin"
                  id="spinner-sqm"
                >
                  <div class="icon-sm">
                    <svg
                      viewBox="0 0 24 24"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        d="M12 2V6M12 18V22M4.93 4.93L7.76 7.76M16.24 16.24L19.07 19.07M2 12H6M18 12H22M4.93 19.07L7.76 16.24M16.24 7.76L19.07 4.93"
                        stroke="currentColor"
                        stroke-width="2"
                        stroke-linecap="round"
                      />
                    </svg>
                  </div>
                </div>
              </div>
            </div>

            <!-- åª -->
            <div class="space-y-3">
              <label
                for="ping"
                class="flex items-center text-sm font-semibold text-gray-700"
              >
                <div
                  class="w-6 h-6 bg-gradient-to-br from-emerald-500 to-emerald-600 rounded-lg flex items-center justify-center mr-3"
                >
                  <div class="icon-sm text-white">
                    <svg viewBox="0 0 24 24" fill="currentColor">
                      <path d="M12 2L22 7L12 12L2 7L12 2Z" />
                      <path d="M2 17L12 22L22 17" />
                      <path d="M2 12L12 17L22 12" />
                    </svg>
                  </div>
                </div>
                åª
              </label>
              <div class="relative">
                <input
                  type="number"
                  id="ping"
                  class="input-field"
                  placeholder="è¼¸å…¥æ•¸å€¼"
                  step="any"
                  inputmode="decimal"
                />
                <div
                  class="absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-500 font-semibold pointer-events-none bg-gray-100 px-2 py-1 rounded-lg text-sm"
                >
                  åª
                </div>
                <div
                  class="absolute right-16 top-1/2 transform -translate-y-1/2 text-blue-500 hidden animate-spin"
                  id="spinner-ping"
                >
                  <div class="icon-sm">
                    <svg
                      viewBox="0 0 24 24"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        d="M12 2V6M12 18V22M4.93 4.93L7.76 7.76M16.24 16.24L19.07 19.07M2 12H6M18 12H22M4.93 19.07L7.76 16.24M16.24 7.76L19.07 4.93"
                        stroke="currentColor"
                        stroke-width="2"
                        stroke-linecap="round"
                      />
                    </svg>
                  </div>
                </div>
              </div>
            </div>

            <!-- å…¬é ƒ -->
            <div class="space-y-3">
              <label
                for="hectare"
                class="flex items-center text-sm font-semibold text-gray-700"
              >
                <div
                  class="w-6 h-6 bg-gradient-to-br from-orange-500 to-orange-600 rounded-lg flex items-center justify-center mr-3"
                >
                  <div class="icon-sm text-white">
                    <svg viewBox="0 0 24 24" fill="currentColor">
                      <path
                        d="M21 16V8C21 6.89543 20.1046 6 19 6H5C3.89543 6 3 6.89543 3 8V16C3 17.1046 3.89543 18 5 18H19C20.1046 18 21 17.1046 21 16Z"
                      />
                    </svg>
                  </div>
                </div>
                å…¬é ƒ
              </label>
              <div class="relative">
                <input
                  type="number"
                  id="hectare"
                  class="input-field"
                  placeholder="è¼¸å…¥æ•¸å€¼"
                  step="any"
                  inputmode="decimal"
                />
                <div
                  class="absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-500 font-semibold pointer-events-none bg-gray-100 px-2 py-1 rounded-lg text-sm"
                >
                  ha
                </div>
                <div
                  class="absolute right-16 top-1/2 transform -translate-y-1/2 text-blue-500 hidden animate-spin"
                  id="spinner-hectare"
                >
                  <div class="icon-sm">
                    <svg
                      viewBox="0 0 24 24"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        d="M12 2V6M12 18V22M4.93 4.93L7.76 7.76M16.24 16.24L19.07 19.07M2 12H6M18 12H22M4.93 19.07L7.76 16.24M16.24 7.76L19.07 4.93"
                        stroke="currentColor"
                        stroke-width="2"
                        stroke-linecap="round"
                      />
                    </svg>
                  </div>
                </div>
              </div>
            </div>

            <!-- ç”² -->
            <div class="space-y-3">
              <label
                for="jia"
                class="flex items-center text-sm font-semibold text-gray-700"
              >
                <div
                  class="w-6 h-6 bg-gradient-to-br from-green-500 to-green-600 rounded-lg flex items-center justify-center mr-3"
                >
                  <div class="icon-sm text-white">
                    <svg viewBox="0 0 24 24" fill="currentColor">
                      <path
                        d="M12 2L15.09 8.26L22 9L17 14L18.18 21L12 17.77L5.82 21L7 14L2 9L8.91 8.26L12 2Z"
                      />
                    </svg>
                  </div>
                </div>
                ç”²
              </label>
              <div class="relative">
                <input
                  type="number"
                  id="jia"
                  class="input-field"
                  placeholder="è¼¸å…¥æ•¸å€¼"
                  step="any"
                  inputmode="decimal"
                />
                <div
                  class="absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-500 font-semibold pointer-events-none bg-gray-100 px-2 py-1 rounded-lg text-sm"
                >
                  ç”²
                </div>
                <div
                  class="absolute right-16 top-1/2 transform -translate-y-1/2 text-blue-500 hidden animate-spin"
                  id="spinner-jia"
                >
                  <div class="icon-sm">
                    <svg
                      viewBox="0 0 24 24"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        d="M12 2V6M12 18V22M4.93 4.93L7.76 7.76M16.24 16.24L19.07 19.07M2 12H6M18 12H22M4.93 19.07L7.76 16.24M16.24 7.76L19.07 4.93"
                        stroke="currentColor"
                        stroke-width="2"
                        stroke-linecap="round"
                      />
                    </svg>
                  </div>
                </div>
              </div>
            </div>

            <!-- åˆ† -->
            <div class="space-y-3">
              <label
                for="fen"
                class="flex items-center text-sm font-semibold text-gray-700"
              >
                <div
                  class="w-6 h-6 bg-gradient-to-br from-cyan-500 to-cyan-600 rounded-lg flex items-center justify-center mr-3"
                >
                  <div class="icon-sm text-white">
                    <svg viewBox="0 0 24 24" fill="currentColor">
                      <path
                        d="M20.84 4.61C19.32 6.04 15.95 4.17 12.61 7.06C9.27 9.95 8.46 14.54 5.12 17.43C4.5 18 3.58 18 2.96 17.43C2.34 16.86 2.34 15.9 2.96 15.33C5.59 12.84 6.4 8.25 9.74 5.36C13.08 2.47 16.45 4.34 17.97 2.91C18.59 2.34 19.51 2.34 20.13 2.91C20.75 3.48 20.75 4.44 20.13 5.01L20.84 4.61Z"
                      />
                    </svg>
                  </div>
                </div>
                åˆ†
              </label>
              <div class="relative">
                <input
                  type="number"
                  id="fen"
                  class="input-field"
                  placeholder="è¼¸å…¥æ•¸å€¼"
                  step="any"
                  inputmode="decimal"
                />
                <div
                  class="absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-500 font-semibold pointer-events-none bg-gray-100 px-2 py-1 rounded-lg text-sm"
                >
                  åˆ†
                </div>
                <div
                  class="absolute right-16 top-1/2 transform -translate-y-1/2 text-blue-500 hidden animate-spin"
                  id="spinner-fen"
                >
                  <div class="icon-sm">
                    <svg
                      viewBox="0 0 24 24"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        d="M12 2V6M12 18V22M4.93 4.93L7.76 7.76M16.24 16.24L19.07 19.07M2 12H6M18 12H22M4.93 19.07L7.76 16.24M16.24 7.76L19.07 4.93"
                        stroke="currentColor"
                        stroke-width="2"
                        stroke-linecap="round"
                      />
                    </svg>
                  </div>
                </div>
              </div>
            </div>

            <!-- å…¬ç• -->
            <div class="space-y-3">
              <label
                for="are"
                class="flex items-center text-sm font-semibold text-gray-700"
              >
                <div
                  class="w-6 h-6 bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg flex items-center justify-center mr-3"
                >
                  <div class="icon-sm text-white">
                    <svg viewBox="0 0 24 24" fill="currentColor">
                      <path
                        d="M19 3H5C3.9 3 3 3.9 3 5V19C3 20.1 3.9 21 5 21H19C20.1 21 21 20.1 21 19V5C21 3.9 20.1 3 19 3ZM19 19H5V5H19V19Z"
                      />
                    </svg>
                  </div>
                </div>
                å…¬ç•
              </label>
              <div class="relative">
                <input
                  type="number"
                  id="are"
                  class="input-field"
                  placeholder="è¼¸å…¥æ•¸å€¼"
                  step="any"
                  inputmode="decimal"
                />
                <div
                  class="absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-500 font-semibold pointer-events-none bg-gray-100 px-2 py-1 rounded-lg text-sm"
                >
                  a
                </div>
                <div
                  class="absolute right-16 top-1/2 transform -translate-y-1/2 text-blue-500 hidden animate-spin"
                  id="spinner-are"
                >
                  <div class="icon-sm">
                    <svg
                      viewBox="0 0 24 24"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        d="M12 2V6M12 18V22M4.93 4.93L7.76 7.76M16.24 16.24L19.07 19.07M2 12H6M18 12H22M4.93 19.07L7.76 16.24M16.24 7.76L19.07 4.93"
                        stroke="currentColor"
                        stroke-width="2"
                        stroke-linecap="round"
                      />
                    </svg>
                  </div>
                </div>
              </div>
            </div>

            <!-- è‹±ç• -->
            <div class="space-y-3">
              <label
                for="acre"
                class="flex items-center text-sm font-semibold text-gray-700"
              >
                <div
                  class="w-6 h-6 bg-gradient-to-br from-pink-500 to-pink-600 rounded-lg flex items-center justify-center mr-3"
                >
                  <div class="icon-sm text-white">
                    <svg viewBox="0 0 24 24" fill="currentColor">
                      <path
                        d="M12 2L13.09 8.26L22 9L13.09 9.74L12 16L10.91 9.74L2 9L10.91 8.26L12 2Z"
                      />
                    </svg>
                  </div>
                </div>
                è‹±ç•
              </label>
              <div class="relative">
                <input
                  type="number"
                  id="acre"
                  class="input-field"
                  placeholder="è¼¸å…¥æ•¸å€¼"
                  step="any"
                  inputmode="decimal"
                />
                <div
                  class="absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-500 font-semibold pointer-events-none bg-gray-100 px-2 py-1 rounded-lg text-sm"
                >
                  acre
                </div>
                <div
                  class="absolute right-16 top-1/2 transform -translate-y-1/2 text-blue-500 hidden animate-spin"
                  id="spinner-acre"
                >
                  <div class="icon-sm">
                    <svg
                      viewBox="0 0 24 24"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        d="M12 2V6M12 18V22M4.93 4.93L7.76 7.76M16.24 16.24L19.07 19.07M2 12H6M18 12H22M4.93 19.07L7.76 16.24M16.24 7.76L19.07 4.93"
                        stroke="currentColor"
                        stroke-width="2"
                        stroke-linecap="round"
                      />
                    </svg>
                  </div>
                </div>
              </div>
            </div>

            <!-- å¸‚ç• -->
            <div class="space-y-3">
              <label
                for="mu"
                class="flex items-center text-sm font-semibold text-gray-700"
              >
                <div
                  class="w-6 h-6 bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-lg flex items-center justify-center mr-3"
                >
                  <div class="icon-sm text-white">
                    <svg viewBox="0 0 24 24" fill="currentColor">
                      <path
                        d="M12 1L3 5V11C3 16.55 6.84 21.74 12 23C17.16 21.74 21 16.55 21 11V5L12 1ZM12 7C13.1 7 14 7.9 14 9S13.1 11 12 11 10 10.1 10 9 10.9 7 12 7ZM18 15H6V13.5H18V15Z"
                      />
                    </svg>
                  </div>
                </div>
                å¸‚ç•
              </label>
              <div class="relative">
                <input
                  type="number"
                  id="mu"
                  class="input-field"
                  placeholder="è¼¸å…¥æ•¸å€¼"
                  step="any"
                  inputmode="decimal"
                />
                <div
                  class="absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-500 font-semibold pointer-events-none bg-gray-100 px-2 py-1 rounded-lg text-sm"
                >
                  å¸‚ç•
                </div>
                <div
                  class="absolute right-16 top-1/2 transform -translate-y-1/2 text-blue-500 hidden animate-spin"
                  id="spinner-mu"
                >
                  <div class="icon-sm">
                    <svg
                      viewBox="0 0 24 24"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        d="M12 2V6M12 18V22M4.93 4.93L7.76 7.76M16.24 16.24L19.07 19.07M2 12H6M18 12H22M4.93 19.07L7.76 16.24M16.24 7.76L19.07 4.93"
                        stroke="currentColor"
                        stroke-width="2"
                        stroke-linecap="round"
                      />
                    </svg>
                  </div>
                </div>
              </div>
            </div>
          </form>
        </div>

        <!-- æ“ä½œæŒ‰éˆ• -->
        <div class="flex flex-col sm:flex-row gap-4 mb-8 animate-fadeIn">
          <button id="clearBtn" class="btn btn-secondary flex-1">
            <div class="icon mr-2">
              <svg
                viewBox="0 0 24 24"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M19 7L18.1327 19.1425C18.0579 20.1891 17.187 21 16.1378 21H7.86224C6.81296 21 5.94208 20.1891 5.86732 19.1425L5 7M10 11V17M14 11V17M15 7V4C15 3.44772 14.5523 3 14 3H10C9.44772 3 9 3.44772 9 4V7M4 7H20"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                />
              </svg>
            </div>
            æ¸…é™¤æ‰€æœ‰æ•¸å€¼
          </button>
          <button
            id="copyBtn"
            class="btn btn-gradient flex-1 btn-disabled"
            disabled
          >
            <div class="icon mr-2">
              <svg
                viewBox="0 0 24 24"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M16 4H18C19.1046 4 20 4.89543 20 6V18C20 19.1046 19.1046 20 18 20H6C4.89543 20 4 19.1046 4 18V6C4 4.89543 4.89543 4 6 4H8M16 4C16 2.89543 15.1046 2 14 2H10C8.89543 2 8 2.89543 8 4M16 4C16 5.10457 15.1046 6 14 6H10C8.89543 6 8 5.10457 8 4"
                  stroke="currentColor"
                  stroke-width="2"
                />
              </svg>
            </div>
            è¤‡è£½æ›ç®—çµæœ
          </button>
          <button id="calculateBtn" class="btn btn-primary flex-1">
            <div class="icon mr-2">
              <svg
                viewBox="0 0 24 24"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M9 7H6C5.44772 7 5 7.44772 5 8V10C5 10.5523 5.44772 11 6 11H9C9.55228 11 10 10.5523 10 10V8C10 7.44772 9.55228 7 9 7Z"
                  stroke="currentColor"
                  stroke-width="2"
                />
                <path
                  d="M19 7H16C15.4477 7 15 7.44772 15 8V10C15 10.5523 15.4477 11 16 11H19C19.5523 11 20 10.5523 20 10V8C20 7.44772 19.5523 7 19 7Z"
                  stroke="currentColor"
                  stroke-width="2"
                />
                <path
                  d="M19 15H16C15.4477 15 15 15.4477 15 16V18C15 18.5523 15.4477 19 16 19H19C19.5523 19 20 18.5523 20 18V16C20 15.4477 19.5523 15 19 15Z"
                  stroke="currentColor"
                  stroke-width="2"
                />
                <path
                  d="M9 15H6C5.44772 15 5 15.4477 5 16V18C5 18.5523 5.44772 19 6 19H9C9.55228 19 10 18.5523 10 18V16C10 15.4477 9.55228 15 9 15Z"
                  stroke="currentColor"
                  stroke-width="2"
                />
              </svg>
            </div>
            é‡æ–°è¨ˆç®—
          </button>
          <button id="referenceBtn" class="btn btn-secondary">
            <div class="icon mr-2">
              <svg
                viewBox="0 0 24 24"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M4 19.5C4 18.1193 5.11929 17 6.5 17H20"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                />
                <path
                  d="M6.5 2H20V22H6.5C5.11929 22 4 20.8807 4 19.5V4.5C4 3.11929 5.11929 2 6.5 2Z"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                />
                <path
                  d="M8 7H16M8 11H16M8 15H12"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                />
              </svg>
            </div>
            åƒè€ƒè¡¨
          </button>
        </div>

        <!-- æ›ç®—çµæœé è¦½ -->
        <div
          id="resultsPreview"
          class="glass-card rounded-3xl p-6 mb-8 hidden animate-scaleIn"
        >
          <h3 class="text-xl font-bold text-gray-800 mb-4 flex items-center">
            <div class="icon text-primary-500 mr-3">
              <svg
                viewBox="0 0 24 24"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M9 12L11 14L15 10M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                />
              </svg>
            </div>
            æ›ç®—çµæœé è¦½
          </h3>
          <div id="resultsContent" class="grid grid-4 gap-4"></div>
        </div>
      </main>
    </div>

    <!-- æ›ç®—åƒè€ƒè¡¨ Modal -->
    <div id="referenceModal" class="modal-backdrop">
      <div class="modal-content p-8" style="max-width: 800px">
        <div class="flex justify-between items-center mb-6">
          <h3 class="text-2xl font-bold text-gray-800">
            ğŸ“Š é¢ç©å–®ä½æ›ç®—åƒè€ƒè¡¨
          </h3>
          <button
            id="closeReference"
            class="p-2 hover-bg-gray-50 rounded-xl transition-all"
          >
            <div class="icon text-gray-600">
              <svg
                viewBox="0 0 24 24"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M18 6L6 18M6 6L18 18"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                />
              </svg>
            </div>
          </button>
        </div>

        <div
          class="bg-gradient-to-br from-blue-50 to-purple-50 rounded-2xl p-6 max-h-96 overflow-y-auto"
        >
          <!-- å¹³æ–¹å…¬å°ºèˆ‡åª -->
          <div class="mb-6">
            <h4 class="text-lg font-bold text-gray-800 mb-3 flex items-center">
              <span class="w-4 h-4 bg-blue-500 rounded mr-2"></span>
              å¹³æ–¹å…¬å°º (ã¡) & åª
            </h4>
            <div class="space-y-2">
              <div
                class="flex justify-between items-center py-2 px-3 bg-white/60 rounded-lg text-sm border border-blue-100"
              >
                <span>1 å¹³æ–¹å…¬å°º (ã¡)</span>
                <span class="font-semibold">= 0.3025 åª</span>
              </div>
              <div
                class="flex justify-between items-center py-2 px-3 bg-white/60 rounded-lg text-sm border border-blue-100"
              >
                <span>1 åª</span>
                <span class="font-semibold">= 3.3058 å¹³æ–¹å…¬å°º (ã¡)</span>
              </div>
            </div>
          </div>

          <!-- å…¬é ƒ -->
          <div class="mb-6">
            <h4 class="text-lg font-bold text-gray-800 mb-3 flex items-center">
              <span class="w-4 h-4 bg-orange-500 rounded mr-2"></span>
              å…¬é ƒ (ha)
            </h4>
            <div class="space-y-2">
              <div
                class="flex justify-between items-center py-2 px-3 bg-white/60 rounded-lg text-sm border border-blue-100"
              >
                <span>1 å…¬é ƒ</span>
                <span class="font-semibold">= 10,000 å¹³æ–¹å…¬å°º (ã¡)</span>
              </div>
              <div
                class="flex justify-between items-center py-2 px-3 bg-white/60 rounded-lg text-sm border border-blue-100"
              >
                <span>1 å…¬é ƒ</span>
                <span class="font-semibold">= 3,025 åª</span>
              </div>
              <div
                class="flex justify-between items-center py-2 px-3 bg-white/60 rounded-lg text-sm border border-blue-100"
              >
                <span>1 å…¬é ƒ</span>
                <span class="font-semibold">= 100 å…¬ç• (a)</span>
              </div>
            </div>
          </div>

          <!-- ç”²ã€åˆ† -->
          <div class="mb-6">
            <h4 class="text-lg font-bold text-gray-800 mb-3 flex items-center">
              <span class="w-4 h-4 bg-green-500 rounded mr-2"></span>
              ç”²ã€åˆ† (å°ç£å‚³çµ±å–®ä½)
            </h4>
            <div class="space-y-2">
              <div
                class="flex justify-between items-center py-2 px-3 bg-primary-100 rounded-lg text-sm border border-primary-300 font-semibold text-primary-800"
              >
                <span>1 ç”² (æœ¬å·¥å…·å®šç¾©)</span>
                <span>= 3,305.785 å¹³æ–¹å…¬å°º (ã¡)</span>
              </div>
              <div
                class="flex justify-between items-center py-2 px-3 bg-primary-100 rounded-lg text-sm border border-primary-300 font-semibold text-primary-800"
              >
                <span>1 åˆ† (æœ¬å·¥å…·å®šç¾©)</span>
                <span>= 330.578 å¹³æ–¹å…¬å°º (ã¡)</span>
              </div>
            </div>
          </div>

          <!-- å…¶ä»–å–®ä½ -->
          <div class="mb-6">
            <h4 class="text-lg font-bold text-gray-800 mb-3 flex items-center">
              <span class="w-4 h-4 bg-purple-500 rounded mr-2"></span>
              å…¶ä»–å¸¸ç”¨å–®ä½
            </h4>
            <div class="space-y-2">
              <div
                class="flex justify-between items-center py-2 px-3 bg-white/60 rounded-lg text-sm border border-blue-100"
              >
                <span>1 å…¬ç•</span>
                <span class="font-semibold">= 100 å¹³æ–¹å…¬å°º (ã¡)</span>
              </div>
              <div
                class="flex justify-between items-center py-2 px-3 bg-white/60 rounded-lg text-sm border border-blue-100"
              >
                <span>1 è‹±ç•</span>
                <span class="font-semibold">â‰ˆ 4,046.856 å¹³æ–¹å…¬å°º (ã¡)</span>
              </div>
              <div
                class="flex justify-between items-center py-2 px-3 bg-white/60 rounded-lg text-sm border border-blue-100"
              >
                <span>1 å¸‚ç•</span>
                <span class="font-semibold">â‰ˆ 666.667 å¹³æ–¹å…¬å°º (ã¡)</span>
              </div>
            </div>
          </div>

          <div
            class="mt-6 p-4 bg-yellow-100 border border-yellow-300 rounded-xl"
          >
            <p class="text-sm text-yellow-800">
              <strong>âš ï¸ æ³¨æ„ï¼š</strong>
              æ¨™ç¤ºç‚ºã€Œæœ¬å·¥å…·å®šç¾©ã€çš„æ•¸å€¼ç‚ºå›ºå®šæ›ç®—ä¿‚æ•¸ã€‚å¯¦éš›æ‡‰ç”¨è«‹ä»¥ç•¶åœ°åœ°æ”¿æ©Ÿé—œè¦å®šç‚ºæº–ã€‚
            </p>
          </div>
        </div>
      </div>
    </div>

    <!-- å½©è›‹ Modal -->
    <div id="easterModal" class="modal-backdrop">
      <div class="modal-content p-8" style="max-width: 500px">
        <div class="text-center">
          <div
            class="w-16 h-16 mx-auto mb-4 rounded-full bg-gradient-to-br from-pink-500 to-purple-500 flex items-center justify-center animate-bounce"
          >
            <div class="icon-lg text-white">
              <svg viewBox="0 0 24 24" fill="currentColor">
                <path
                  d="M12 2L13.09 8.26L22 9L13.09 9.74L12 16L10.91 9.74L2 9L10.91 8.26L12 2Z"
                />
              </svg>
            </div>
          </div>
          <h3 class="text-2xl font-bold text-gray-800 mb-3">
            ğŸ‰ ç™¼ç¾éš±è—åŠŸèƒ½ï¼
          </h3>
          <p class="text-gray-600 mb-6">
            æ­å–œæ‚¨ç™¼ç¾äº†é–‹ç™¼è€…çš„å°é©šå–œï¼é€™è£¡æœ‰ä¸€å€‹æœ‰è¶£çš„é¢ç©çŸ¥è­˜ï¼š
          </p>

          <div
            class="bg-gradient-to-br from-blue-50 to-purple-50 rounded-xl p-4 mb-6"
          >
            <h4 class="font-bold text-gray-800 mb-2">ğŸ’¡ é¢ç©å°çŸ¥è­˜</h4>
            <p class="text-sm text-gray-700">
              å°åŒ—101å¤§æ¨“çš„åŸºåœ°é¢ç©ç´„ç‚º
              <span class="font-bold text-primary-600">3,056 åª</span>ï¼Œ
              æ›ç®—ç‚ºå¹³æ–¹å…¬å°ºç´„
              <span class="font-bold text-primary-600">10,100 ã¡</span>ï¼Œ ç›¸ç•¶æ–¼
              <span class="font-bold text-primary-600">1.01 å…¬é ƒ</span>ï¼
            </p>
          </div>

          <div class="flex gap-3">
            <button id="randomBtn" class="btn btn-primary flex-1">
              <div class="icon mr-2">
                <svg
                  viewBox="0 0 24 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <rect
                    x="2"
                    y="2"
                    width="20"
                    height="20"
                    rx="2.18"
                    ry="2.18"
                    stroke="currentColor"
                    stroke-width="2"
                  />
                  <line
                    x1="7"
                    y1="7"
                    x2="7"
                    y2="7.01"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                  />
                  <line
                    x1="12"
                    y1="12"
                    x2="12"
                    y2="12.01"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                  />
                  <line
                    x1="17"
                    y1="17"
                    x2="17"
                    y2="17.01"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                  />
                </svg>
              </div>
              éš¨æ©Ÿæ›ç®—
            </button>
            <button id="closeEaster" class="btn btn-secondary flex-1">
              <div class="icon mr-2">
                <svg
                  viewBox="0 0 24 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M18 6L6 18M6 6L18 18"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                  />
                </svg>
              </div>
              é—œé–‰
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- é€šçŸ¥ç³»çµ± -->
    <div id="notification" class="notification">
      <div class="flex items-center space-x-3">
        <div id="notificationIcon" class="flex-shrink-0"></div>
        <div class="flex-1">
          <p id="notificationMessage" class="font-medium"></p>
        </div>
        <button
          id="closeNotification"
          class="flex-shrink-0 text-gray-400 hover-text-gray-600"
        >
          <div class="icon-sm">
            <svg
              viewBox="0 0 24 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M18 6L6 18M6 6L18 18"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
              />
            </svg>
          </div>
        </button>
      </div>
    </div>

    <script>
      // ===== æ›ç®—ä¿‚æ•¸å®šç¾© =====
      const CONVERSION_FACTORS = {
        sqm: 1,
        ping: 1 / 0.3025,
        hectare: 10000,
        jia: 3305.785,
        fen: 330.578,
        are: 100,
        acre: 4046.8564224,
        mu: 666.6667,
      };

      const UNIT_NAMES = {
        sqm: "å¹³æ–¹å…¬å°º",
        ping: "åª",
        hectare: "å…¬é ƒ",
        jia: "ç”²",
        fen: "åˆ†",
        are: "å…¬ç•",
        acre: "è‹±ç•",
        mu: "å¸‚ç•",
      };

      const UNIT_SYMBOLS = {
        sqm: "ã¡",
        ping: "åª",
        hectare: "ha",
        jia: "ç”²",
        fen: "åˆ†",
        are: "a",
        acre: "acre",
        mu: "å¸‚ç•",
      };

      // ===== ç³»çµ±ç‹€æ…‹è®Šæ•¸ =====
      let currentActiveInput = null;
      let lastCalculatedValues = {};
      let debounceTimers = {};
      let isCalculating = false;

      // ===== DOM å…ƒç´ å¼•ç”¨ =====
      const inputs = {};
      const spinners = {};

      Object.keys(CONVERSION_FACTORS).forEach((unit) => {
        inputs[unit] = document.getElementById(unit);
        spinners[unit] = document.getElementById(`spinner-${unit}`);
      });

      const clearBtn = document.getElementById("clearBtn");
      const copyBtn = document.getElementById("copyBtn");
      const calculateBtn = document.getElementById("calculateBtn");
      const referenceBtn = document.getElementById("referenceBtn");
      const resultsPreview = document.getElementById("resultsPreview");
      const resultsContent = document.getElementById("resultsContent");

      // Modal å…ƒç´ 
      const referenceModal = document.getElementById("referenceModal");
      const closeReference = document.getElementById("closeReference");
      const easterEgg = document.getElementById("easterEgg");
      const easterModal = document.getElementById("easterModal");
      const closeEaster = document.getElementById("closeEaster");
      const randomBtn = document.getElementById("randomBtn");

      // é€šçŸ¥ç³»çµ±
      const notification = document.getElementById("notification");
      const notificationIcon = document.getElementById("notificationIcon");
      const notificationMessage = document.getElementById(
        "notificationMessage"
      );
      const closeNotification = document.getElementById("closeNotification");

      // ===== æ ¸å¿ƒåŠŸèƒ½å‡½æ•¸ =====
      function debounce(func, delay, key) {
        return function (...args) {
          if (debounceTimers[key]) {
            clearTimeout(debounceTimers[key]);
          }
          debounceTimers[key] = setTimeout(() => {
            func.apply(this, args);
            delete debounceTimers[key];
          }, delay);
        };
      }

      function showCalculating(unit) {
        if (spinners[unit]) {
          spinners[unit].classList.remove("hidden");
        }
        if (inputs[unit]) {
          inputs[unit].classList.add("calculating");
        }
        isCalculating = true;
      }

      function hideCalculating(unit) {
        if (spinners[unit]) {
          spinners[unit].classList.add("hidden");
        }
        if (inputs[unit]) {
          inputs[unit].classList.remove("calculating");
        }
        isCalculating = false;
      }

      function setActiveInput(unit) {
        // ç§»é™¤æ‰€æœ‰é«˜äº®
        Object.values(inputs).forEach((input) => {
          if (input) input.classList.remove("highlighted");
        });

        // è¨­å®šæ–°çš„é«˜äº®
        if (inputs[unit]) {
          inputs[unit].classList.add("highlighted");
        }
        currentActiveInput = unit;
        updateButtonStates();
      }

      function calculateConversions(sourceUnit, sourceValue) {
        showCalculating(sourceUnit);

        try {
          if (!sourceValue || sourceValue <= 0 || isNaN(sourceValue)) {
            clearOtherInputs(sourceUnit);
            hideCalculating(sourceUnit);
            updateResultsPreview({});
            return;
          }

          setTimeout(() => {
            const sqmValue = sourceValue * CONVERSION_FACTORS[sourceUnit];
            const results = {};

            Object.keys(CONVERSION_FACTORS).forEach((unit) => {
              if (unit === sourceUnit) {
                results[unit] = sourceValue;
              } else {
                results[unit] = sqmValue / CONVERSION_FACTORS[unit];
              }
            });

            updateOtherInputs(sourceUnit, results);
            lastCalculatedValues = results;
            hideCalculating(sourceUnit);
            updateButtonStates();
            updateResultsPreview(results);
            showNotification("æ›ç®—å®Œæˆï¼", "success");
          }, 200);
        } catch (error) {
          console.error("è¨ˆç®—éŒ¯èª¤:", error);
          hideCalculating(sourceUnit);
          showNotification("è¨ˆç®—éç¨‹ç™¼ç”ŸéŒ¯èª¤ï¼Œè«‹é‡è©¦", "error");
        }
      }

      function updateOtherInputs(sourceUnit, results) {
        Object.keys(results).forEach((unit) => {
          if (unit !== sourceUnit && inputs[unit]) {
            const formattedValue = formatNumber(results[unit]);
            const handler = inputHandlers[unit];

            if (handler) {
              inputs[unit].removeEventListener("input", handler);
            }

            inputs[unit].value = formattedValue;

            if (handler) {
              inputs[unit].addEventListener("input", handler);
            }
          }
        });
      }

      function clearOtherInputs(excludeUnit) {
        Object.entries(inputs).forEach(([unit, input]) => {
          if (unit !== excludeUnit && input) {
            const handler = inputHandlers[unit];
            if (handler) {
              input.removeEventListener("input", handler);
            }
            input.value = "";
            if (handler) {
              input.addEventListener("input", handler);
            }
          }
        });
      }

      function formatNumber(value, precision = 6) {
        if (value === 0) return "0";
        if (Math.abs(value) < 0.000001) {
          return value.toExponential(3);
        }
        return parseFloat(value.toFixed(precision)).toString();
      }

      function updateButtonStates() {
        const hasResults = Object.keys(lastCalculatedValues).length > 0;
        const hasActiveInput = currentActiveInput !== null;

        if (copyBtn) {
          if (hasResults && hasActiveInput) {
            copyBtn.classList.remove("btn-disabled");
            copyBtn.disabled = false;
          } else {
            copyBtn.classList.add("btn-disabled");
            copyBtn.disabled = true;
          }
        }
      }

      function updateResultsPreview(results) {
        if (!resultsPreview || !resultsContent) return;

        if (Object.keys(results).length === 0) {
          resultsPreview.classList.add("hidden");
          return;
        }

        resultsContent.innerHTML = "";

        Object.entries(results).forEach(([unit, value]) => {
          const isActive = unit === currentActiveInput;
          const resultItem = document.createElement("div");
          resultItem.className = `bg-white rounded-xl p-4 border border-gray-200 transition-all hover-shadow-lg ${
            isActive ? "ring-2 ring-primary-200 bg-yellow-50" : ""
          }`;

          resultItem.innerHTML = `
                    <div class="flex items-center justify-between mb-2">
                        <span class="text-sm font-medium text-gray-600">${
                          UNIT_NAMES[unit]
                        }</span>
                        <span class="text-xs text-gray-400">${
                          UNIT_SYMBOLS[unit]
                        }</span>
                    </div>
                    <div class="text-lg font-bold text-gray-800">
                        ${formatNumber(value)}
                    </div>
                    ${
                      isActive
                        ? '<div class="text-xs text-primary-600 mt-1">â€¢ è¼¸å…¥ä¾†æº</div>'
                        : ""
                    }
                `;

          resultsContent.appendChild(resultItem);
        });

        resultsPreview.classList.remove("hidden");
      }

      // ===== äº‹ä»¶è™•ç†å™¨ =====
      const inputHandlers = {};

      function initializeInputHandlers() {
        Object.entries(inputs).forEach(([unit, input]) => {
          if (!input) return;

          const debouncedCalculate = debounce(
            (sourceUnit, sourceValue) => {
              calculateConversions(sourceUnit, sourceValue);
            },
            400,
            unit
          );

          const inputHandler = (e) => {
            const valueStr = e.target.value.trim();
            setActiveInput(unit);

            if (valueStr === "") {
              clearOtherInputs(unit);
              lastCalculatedValues = {};
              updateButtonStates();
              updateResultsPreview({});
              return;
            }

            const value = parseFloat(valueStr);
            if (!isNaN(value) && value >= 0) {
              clearOtherInputs(unit);
              if (value > 0) {
                debouncedCalculate(unit, value);
              }
            }
          };

          inputHandlers[unit] = inputHandler;
          input.addEventListener("input", inputHandler);

          input.addEventListener("focus", () => {
            setActiveInput(unit);
          });

          input.addEventListener("keydown", (e) => {
            if (e.key === "Enter") {
              e.preventDefault();
              const value = parseFloat(input.value);
              if (!isNaN(value) && value > 0) {
                calculateConversions(unit, value);
              }
            }
          });
        });
      }

      // ===== ä¸»è¦åŠŸèƒ½ =====
      function clearAll() {
        Object.values(inputs).forEach((input) => {
          if (input) {
            input.value = "";
            input.classList.remove("highlighted", "calculating");
          }
        });

        Object.keys(debounceTimers).forEach((key) => {
          clearTimeout(debounceTimers[key]);
          delete debounceTimers[key];
        });

        Object.values(spinners).forEach((spinner) => {
          if (spinner) spinner.classList.add("hidden");
        });

        currentActiveInput = null;
        lastCalculatedValues = {};
        isCalculating = false;

        updateButtonStates();
        updateResultsPreview({});

        if (inputs.sqm) {
          inputs.sqm.focus();
        }

        showNotification("å·²æ¸…é™¤æ‰€æœ‰æ•¸å€¼", "info");
      }

      function manualCalculate() {
        if (!currentActiveInput || !inputs[currentActiveInput]) {
          showNotification("è«‹å…ˆé¸æ“‡ä¸€å€‹æ¬„ä½ä¸¦è¼¸å…¥æ•¸å€¼", "warning");
          return;
        }

        const value = parseFloat(inputs[currentActiveInput].value);
        if (isNaN(value) || value <= 0) {
          showNotification("è«‹è¼¸å…¥æœ‰æ•ˆçš„æ­£æ•¸å€¼", "warning");
          return;
        }

        calculateConversions(currentActiveInput, value);
      }

      async function copyResults() {
        if (
          Object.keys(lastCalculatedValues).length === 0 ||
          !currentActiveInput
        ) {
          showNotification("æ²’æœ‰å¯è¤‡è£½çš„æ›ç®—çµæœ", "warning");
          return;
        }

        try {
          const sourceValue = inputs[currentActiveInput].value;
          const sourceName = UNIT_NAMES[currentActiveInput];

          let resultText = `ä»¥ ${sourceValue} ${sourceName} ç‚ºåŸºæº–çš„é¢ç©æ›ç®—çµæœï¼š\n`;
          resultText += "=".repeat(40) + "\n";

          Object.entries(lastCalculatedValues).forEach(([unit, value]) => {
            const unitName = UNIT_NAMES[unit];
            const formattedValue = formatNumber(value);
            const isSource = unit === currentActiveInput;
            resultText += `${unitName.padEnd(8)} : ${formattedValue}${
              isSource ? " (ä¾†æº)" : ""
            }\n`;
          });

          resultText += "=".repeat(40) + "\n";
          resultText += "è³‡æ–™ä¾†æºï¼šPremium åœŸåœ°é¢ç©æ›ç®—å·¥å…·\n";
          resultText += `è¨ˆç®—æ™‚é–“ï¼š${new Date().toLocaleString("zh-TW")}`;

          await navigator.clipboard.writeText(resultText);
          showNotification("æ›ç®—çµæœå·²è¤‡è£½åˆ°å‰ªè²¼ç°¿ï¼", "success");
        } catch (err) {
          console.error("è¤‡è£½å¤±æ•—:", err);
          showNotification("è¤‡è£½å¤±æ•—ï¼Œæ‚¨çš„ç€è¦½å™¨å¯èƒ½ä¸æ”¯æ´æ­¤åŠŸèƒ½", "error");
        }
      }

      // ===== é€šçŸ¥ç³»çµ± =====
      function showNotification(message, type = "info") {
        if (!notification || !notificationIcon || !notificationMessage) return;

        const icons = {
          success: `<svg viewBox="0 0 24 24" fill="none" class="w-5 h-5 text-green-500"><path d="M9 12L11 14L15 10M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>`,
          error: `<svg viewBox="0 0 24 24" fill="none" class="w-5 h-5 text-red-500"><path d="M12 9V13M12 17H12.01M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>`,
          warning: `<svg viewBox="0 0 24 24" fill="none" class="w-5 h-5 text-yellow-500"><path d="M12 9V13M12 17H12.01M10.29 3.86L1.82 18A2 2 0 003.64 21H20.36A2 2 0 0022.18 18L13.71 3.86A2 2 0 0010.29 3.86Z" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>`,
          info: `<svg viewBox="0 0 24 24" fill="none" class="w-5 h-5 text-blue-500"><path d="M12 16V12M12 8H12.01M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>`,
        };

        notification.className = `notification ${type}`;
        notificationIcon.innerHTML = icons[type] || icons.info;
        notificationMessage.textContent = message;

        notification.classList.add("show");

        setTimeout(() => {
          hideNotification();
        }, 3000);
      }

      function hideNotification() {
        if (notification) {
          notification.classList.remove("show");
        }
      }

      // ===== Modal æ§åˆ¶ =====
      function showReferenceModal() {
        if (referenceModal) {
          referenceModal.classList.add("active");
          document.body.style.overflow = "hidden";
        }
      }

      function hideReferenceModal() {
        if (referenceModal) {
          referenceModal.classList.remove("active");
          document.body.style.overflow = "";
        }
      }

      // ===== å½©è›‹åŠŸèƒ½ =====
      let easterEggClicks = 0;
      let easterEggTimeout;

      function handleEasterEggClick() {
        easterEggClicks++;
        clearTimeout(easterEggTimeout);

        if (easterEggClicks >= 3) {
          showEasterEgg();
          easterEggClicks = 0;
        } else {
          easterEggTimeout = setTimeout(() => {
            easterEggClicks = 0;
          }, 1000);
        }
      }

      function showEasterEgg() {
        if (easterModal) {
          easterModal.classList.add("active");
          document.body.style.overflow = "hidden";
        }
      }

      function closeEasterEgg() {
        if (easterModal) {
          easterModal.classList.remove("active");
          document.body.style.overflow = "";
        }
      }

      function randomConversion() {
        const units = Object.keys(inputs);
        const randomUnit = units[Math.floor(Math.random() * units.length)];
        const randomValue = parseFloat((Math.random() * 9999 + 1).toFixed(2));

        clearAll();

        setTimeout(() => {
          if (inputs[randomUnit]) {
            inputs[randomUnit].value = randomValue;
            setActiveInput(randomUnit);
            calculateConversions(randomUnit, randomValue);
          }

          closeEasterEgg();
          showNotification(
            `éš¨æ©Ÿç¤ºç¯„ï¼š${randomValue} ${UNIT_NAMES[randomUnit]}`,
            "info"
          );
        }, 100);
      }

      // ===== éµç›¤å¿«æ·éµæ”¯æ´ =====
      function handleKeyboardEvents(e) {
        if (e.target.tagName.toLowerCase() === "input") return;

        // ESC éµé—œé–‰ Modal
        if (e.key === "Escape") {
          hideReferenceModal();
          closeEasterEgg();
          hideNotification();
        }

        // Ctrl + çµ„åˆéµ
        if (e.ctrlKey || e.metaKey) {
          switch (e.key.toLowerCase()) {
            case "d":
              e.preventDefault();
              clearAll();
              break;
            case "enter":
              e.preventDefault();
              manualCalculate();
              break;
            case "c":
              if (Object.keys(lastCalculatedValues).length > 0) {
                e.preventDefault();
                copyResults();
              }
              break;
            case "r":
              e.preventDefault();
              showReferenceModal();
              break;
          }
        }

        // å½©è›‹è§¸ç™¼ - é€£çºŒè¼¸å…¥ "area"
        handleEasterEggKeyboard(e);
      }

      let keySequence = "";
      function handleEasterEggKeyboard(e) {
        keySequence += e.key.toLowerCase();
        if (keySequence.length > 4) {
          keySequence = keySequence.slice(-4);
        }
        if (keySequence === "area") {
          showEasterEgg();
          keySequence = "";
        }
      }

      // ===== ç§»å‹•è£ç½®å„ªåŒ– =====
      function initializeMobileOptimizations() {
        // é˜²æ­¢é›™æ“Šç¸®æ”¾
        let lastTouchEnd = 0;
        document.addEventListener(
          "touchend",
          function (event) {
            const now = Date.now();
            if (now - lastTouchEnd <= 300) {
              event.preventDefault();
            }
            lastTouchEnd = now;
          },
          { passive: false }
        );

        // é˜²æ­¢å¤šé»è§¸æ§ç¸®æ”¾
        document.addEventListener(
          "touchmove",
          function (e) {
            if (e.touches.length > 1) {
              e.preventDefault();
            }
          },
          { passive: false }
        );

        // è¢å¹•æ–¹å‘è®ŠåŒ–è™•ç†
        window.addEventListener("orientationchange", () => {
          setTimeout(() => {
            window.scrollTo(0, 0);
            // é‡æ–°è¨ˆç®—è¦–çª—é«˜åº¦
            document.documentElement.style.setProperty(
              "--vh",
              `${window.innerHeight * 0.01}px`
            );
          }, 300);
        });

        // é é¢å¯è¦‹æ€§è®ŠåŒ–æ™‚æ¸…ç†è¨ˆæ™‚å™¨
        document.addEventListener("visibilitychange", () => {
          if (document.hidden) {
            Object.keys(debounceTimers).forEach((key) => {
              clearTimeout(debounceTimers[key]);
              delete debounceTimers[key];
            });
          }
        });

        // è¨­å®šè¦–çª—é«˜åº¦ CSS è®Šæ•¸
        document.documentElement.style.setProperty(
          "--vh",
          `${window.innerHeight * 0.01}px`
        );
      }

      // ===== æ»¾å‹•å‹•ç•«è§€å¯Ÿå™¨ =====
      function initializeScrollAnimations() {
        const observerOptions = {
          threshold: 0.1,
          rootMargin: "0px 0px -50px 0px",
        };

        const observer = new IntersectionObserver((entries) => {
          entries.forEach((entry) => {
            if (entry.isIntersecting) {
              entry.target.style.animationDelay = `${Math.random() * 0.3}s`;
            }
          });
        }, observerOptions);

        // è§€å¯Ÿæ‰€æœ‰å‹•ç•«å…ƒç´ 
        document
          .querySelectorAll(
            ".animate-fadeIn, .animate-slideIn, .animate-scaleIn"
          )
          .forEach((el) => {
            observer.observe(el);
          });
      }

      // ===== äº‹ä»¶ç›£è½å™¨è¨»å†Š =====
      function registerEventListeners() {
        // ä¸»è¦åŠŸèƒ½æŒ‰éˆ•
        if (clearBtn) clearBtn.addEventListener("click", clearAll);
        if (copyBtn) copyBtn.addEventListener("click", copyResults);
        if (calculateBtn)
          calculateBtn.addEventListener("click", manualCalculate);
        if (referenceBtn)
          referenceBtn.addEventListener("click", showReferenceModal);

        // Modal æ§åˆ¶
        if (closeReference)
          closeReference.addEventListener("click", hideReferenceModal);
        if (referenceModal) {
          referenceModal.addEventListener("click", (e) => {
            if (e.target === referenceModal) hideReferenceModal();
          });
        }

        // å½©è›‹åŠŸèƒ½
        if (easterEgg)
          easterEgg.addEventListener("click", handleEasterEggClick);
        if (closeEaster) closeEaster.addEventListener("click", closeEasterEgg);
        if (randomBtn) randomBtn.addEventListener("click", randomConversion);
        if (easterModal) {
          easterModal.addEventListener("click", (e) => {
            if (e.target === easterModal) closeEasterEgg();
          });
        }

        // é€šçŸ¥ç³»çµ±
        if (closeNotification)
          closeNotification.addEventListener("click", hideNotification);

        // å…¨åŸŸéµç›¤äº‹ä»¶
        document.addEventListener("keydown", handleKeyboardEvents);

        // è¡¨å–®æäº¤é˜²æ­¢
        const form = document.getElementById("converterForm");
        if (form) {
          form.addEventListener("submit", (e) => {
            e.preventDefault();
            manualCalculate();
          });
        }

        // é é¢è¼‰å…¥æ™‚çš„ç‰¹æ•ˆ
        window.addEventListener("load", () => {
          // æ·»åŠ è¼‰å…¥å®Œæˆçš„å‹•ç•«
          document.body.style.opacity = "1";
        });
      }

      // ===== é«˜ç´šå½©è›‹åŠŸèƒ½ =====
      function initializeAdvancedEasterEggs() {
        // ç§‘å­¸è¨ˆç®—å½©è›‹
        let sequenceIndex = 0;
        const secretSequence = [
          "ArrowUp",
          "ArrowUp",
          "ArrowDown",
          "ArrowDown",
          "ArrowLeft",
          "ArrowRight",
          "ArrowLeft",
          "ArrowRight",
        ];

        document.addEventListener("keydown", (e) => {
          if (e.target.tagName.toLowerCase() === "input") return;

          if (e.key === secretSequence[sequenceIndex]) {
            sequenceIndex++;
            if (sequenceIndex === secretSequence.length) {
              triggerScientificMode();
              sequenceIndex = 0;
            }
          } else {
            sequenceIndex = 0;
          }
        });

        // å½©è™¹æ¨¡å¼å½©è›‹
        let clickCount = 0;
        const logo = document.querySelector("h1");
        if (logo) {
          logo.addEventListener("click", () => {
            clickCount++;
            if (clickCount >= 5) {
              triggerRainbowMode();
              clickCount = 0;
            }
            setTimeout(() => (clickCount = Math.max(0, clickCount - 1)), 2000);
          });
        }
      }

      function triggerScientificMode() {
        showNotification("ğŸ”¬ ç§‘å­¸æ¨¡å¼å·²å•Ÿç”¨ï¼ç²¾ç¢ºåº¦æå‡è‡³10ä½å°æ•¸", "success");

        // è‡¨æ™‚æå‡ç²¾ç¢ºåº¦
        const originalFormatNumber = formatNumber;
        window.formatNumber = function (value, precision = 10) {
          return originalFormatNumber.call(this, value, precision);
        };

        // 5ç§’å¾Œæ¢å¾©
        setTimeout(() => {
          window.formatNumber = originalFormatNumber;
          showNotification("ç§‘å­¸æ¨¡å¼å·²é—œé–‰", "info");
        }, 5000);
      }

      function triggerRainbowMode() {
        showNotification("ğŸŒˆ å½©è™¹æ¨¡å¼å•Ÿå‹•ï¼", "success");

        // æ·»åŠ å½©è™¹æ•ˆæœ
        document.body.style.background =
          "linear-gradient(45deg, #ff6b6b, #4ecdc4, #45b7d1, #96ceb4, #ffeaa7, #dda0dd, #ff6b6b)";
        document.body.style.backgroundSize = "400% 400%";
        document.body.style.animation = "rainbow 3s ease-in-out infinite";

        // 5ç§’å¾Œæ¢å¾©
        setTimeout(() => {
          document.body.style.background =
            "linear-gradient(135deg, var(--blue-50) 0%, var(--purple-50) 50%, var(--pink-50) 100%)";
          document.body.style.animation = "";
          showNotification("å½©è™¹æ¨¡å¼å·²é—œé–‰", "info");
        }, 5000);
      }

      // ===== è³‡æ–™æŒä¹…åŒ– =====
      function saveToLocalStorage() {
        try {
          const data = {
            activeInput: currentActiveInput,
            values: lastCalculatedValues,
            timestamp: Date.now(),
          };
          localStorage.setItem("areaConverter_data", JSON.stringify(data));
        } catch (e) {
          console.warn("ç„¡æ³•ä¿å­˜åˆ°æœ¬åœ°å­˜å„²:", e);
        }
      }

      function loadFromLocalStorage() {
        try {
          const saved = localStorage.getItem("areaConverter_data");
          if (saved) {
            const data = JSON.parse(saved);

            // æª¢æŸ¥è³‡æ–™æ˜¯å¦å¤ªèˆŠï¼ˆè¶…é1å°æ™‚ï¼‰
            if (Date.now() - data.timestamp < 3600000) {
              if (data.activeInput && data.values && inputs[data.activeInput]) {
                const value = data.values[data.activeInput];
                if (value) {
                  inputs[data.activeInput].value = formatNumber(value);
                  setActiveInput(data.activeInput);
                  calculateConversions(data.activeInput, value);
                  showNotification("å·²æ¢å¾©ä¸Šæ¬¡çš„è¨ˆç®—çµæœ", "info");
                }
              }
            }
          }
        } catch (e) {
          console.warn("ç„¡æ³•å¾æœ¬åœ°å­˜å„²è¼‰å…¥:", e);
        }
      }

      // ===== è¼”åŠ©åŠŸèƒ½æ”¯æ´ =====
      function initializeAccessibility() {
        // ç‚ºå‹•æ…‹ç”Ÿæˆçš„å…ƒç´ æ·»åŠ é©ç•¶çš„ ARIA æ¨™ç±¤
        const form = document.getElementById("converterForm");
        if (form) {
          form.setAttribute("role", "application");
          form.setAttribute("aria-label", "é¢ç©å–®ä½æ›ç®—å™¨");
        }

        // éµç›¤å°èˆªæ”¯æ´
        document.addEventListener("keydown", (e) => {
          if (e.altKey && e.key >= "1" && e.key <= "8") {
            e.preventDefault();
            const unitKeys = Object.keys(inputs);
            const index = parseInt(e.key) - 1;
            if (unitKeys[index] && inputs[unitKeys[index]]) {
              inputs[unitKeys[index]].focus();
            }
          }
        });

        // é«˜å°æ¯”åº¦æ¨¡å¼æª¢æ¸¬
        if (
          window.matchMedia &&
          window.matchMedia("(prefers-contrast: high)").matches
        ) {
          document.body.classList.add("high-contrast");
        }
      }

      // ===== æ•ˆèƒ½å„ªåŒ– =====
      function initializePerformanceOptimizations() {
        // ä½¿ç”¨ requestAnimationFrame å„ªåŒ–å‹•ç•«
        let ticking = false;

        function updateAnimations() {
          // æ›´æ–°ä»»ä½•éœ€è¦çš„å‹•ç•«
          ticking = false;
        }

        function requestTick() {
          if (!ticking) {
            requestAnimationFrame(updateAnimations);
            ticking = true;
          }
        }

        // é è¼‰å…¥å¸¸ç”¨æ›ç®—
        const commonConversions = [100, 1000, 10000];
        setTimeout(() => {
          commonConversions.forEach((value) => {
            calculateConversions("sqm", value);
          });
          clearAll(); // æ¸…é™¤é è¼‰å…¥çš„çµæœ
        }, 1000);
      }

      // ===== åˆå§‹åŒ–å‡½æ•¸ =====
      function initialize() {
        console.log("ğŸ¡ Premium åœŸåœ°é¢ç©æ›ç®—å·¥å…·åˆå§‹åŒ–ä¸­...");

        // åŸºç¤åŠŸèƒ½åˆå§‹åŒ–
        initializeInputHandlers();
        registerEventListeners();
        initializeMobileOptimizations();
        initializeScrollAnimations();

        // é€²éšåŠŸèƒ½åˆå§‹åŒ–
        initializeAdvancedEasterEggs();
        initializeAccessibility();
        initializePerformanceOptimizations();

        // è¨­å®šåˆå§‹ç‹€æ…‹
        updateButtonStates();

        // è¼‰å…¥ä¿å­˜çš„è³‡æ–™
        loadFromLocalStorage();

        // è¨­å®šç„¦é»
        if (inputs.sqm && !currentActiveInput) {
          inputs.sqm.focus();
          setActiveInput("sqm");
        }

        // é¡¯ç¤ºæ­¡è¿è¨Šæ¯
        setTimeout(() => {
          showNotification(
            "ğŸ‰ æ­¡è¿ä½¿ç”¨ Premium é¢ç©æ›ç®—å·¥å…·ï¼è¼¸å…¥ä»»ä¸€æ•¸å€¼å³å¯é–‹å§‹æ›ç®—",
            "info"
          );
        }, 1000);

        // æ¨™è¨˜è§¸æ§è¨­å‚™
        if ("ontouchstart" in window || navigator.maxTouchPoints > 0) {
          document.body.classList.add("touch-device");
        }

        // å®šæœŸä¿å­˜è³‡æ–™
        setInterval(() => {
          if (Object.keys(lastCalculatedValues).length > 0) {
            saveToLocalStorage();
          }
        }, 30000); // æ¯30ç§’ä¿å­˜ä¸€æ¬¡

        console.log("âœ… Premium åœŸåœ°é¢ç©æ›ç®—å·¥å…·å·²å°±ç·’ï¼");
        console.log(
          "ğŸ¯ å¿«æ·éµï¼šCtrl+D æ¸…é™¤ã€Ctrl+C è¤‡è£½ã€Ctrl+R åƒè€ƒè¡¨ã€ESC é—œé–‰"
        );
        console.log(
          'ğŸ® å½©è›‹ï¼šé»æ“Šå·¦ä¸Šè§’æ˜Ÿæ˜Ÿ3æ¬¡ã€é€£çºŒè¼¸å…¥"area"ã€æ–¹å‘éµåºåˆ—ã€é»æ“Šæ¨™é¡Œ5æ¬¡'
        );
      }

      // ===== é é¢è¼‰å…¥å®ŒæˆåŸ·è¡Œ =====
      if (document.readyState === "loading") {
        document.addEventListener("DOMContentLoaded", initialize);
      } else {
        initialize();
      }

      // é˜²æ­¢æ„å¤–é‡æ–°è¼‰å…¥
      window.addEventListener("beforeunload", (e) => {
        if (Object.keys(lastCalculatedValues).length > 0) {
          saveToLocalStorage();
          e.preventDefault();
          return "æ‚¨æœ‰æœªä¿å­˜çš„æ›ç®—çµæœï¼Œç¢ºå®šè¦é›¢é–‹å—ï¼Ÿ";
        }
      });

      // æš´éœ² API ä¾›é–‹ç™¼èª¿è©¦
      if (
        window.location.hostname === "localhost" ||
        window.location.hostname === "127.0.0.1"
      ) {
        window.AreaConverterAPI = {
          // æ ¸å¿ƒåŠŸèƒ½
          calculate: calculateConversions,
          clear: clearAll,
          copy: copyResults,

          // ç‹€æ…‹å­˜å–
          getCurrentInput: () => currentActiveInput,
          getResults: () => lastCalculatedValues,

          // å·¥å…·å‡½æ•¸
          formatNumber,
          showNotification,

          // å½©è›‹åŠŸèƒ½
          triggerScientific: triggerScientificMode,
          triggerRainbow: triggerRainbowMode,

          // å¸¸æ•¸
          CONVERSION_FACTORS,
          UNIT_NAMES,
          UNIT_SYMBOLS,
        };
        console.log("ğŸ”§ é–‹ç™¼æ¨¡å¼ï¼šwindow.AreaConverterAPI å·²å¯ç”¨");
      }
    </script>
  </body>
</html>
