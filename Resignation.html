<!DOCTYPE html>

<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é›¢è·é›†é»å¡ - é›†æ»¿é›¢è·</title>


<!-- Tailwind CSS CDN -->
<script src="https://cdn.tailwindcss.com"></script>

<!-- Google Fonts - æ‰‹å¯«å­—é«” -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;700&family=Kalam:wght@400;700&display=swap" rel="stylesheet">

<!-- Font Awesome Icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

<!-- Tailwind Config -->
<script>
    tailwind.config = {
        theme: {
            extend: {
                colors: {
                    primary: {
                        50: '#f0f9f4',
                        100: '#dcf4e4',
                        200: '#bbe8cc',
                        300: '#8cd5a8',
                        400: '#5bb97d',
                        500: '#3da35d',
                        600: '#2d8049',
                        700: '#26663d',
                        800: '#215233',
                        900: '#1d432b'
                    },
                    secondary: {
                        50: '#fefce8',
                        100: '#fef9c3',
                        200: '#fef08a',
                        300: '#fde047',
                        400: '#facc15',
                        500: '#eab308',
                        600: '#ca8a04',
                        700: '#a16207',
                        800: '#854d0e',
                        900: '#713f12'
                    },
                    neutral: {
                        50: '#fafafa',
                        100: '#f5f5f5',
                        200: '#e5e5e5',
                        300: '#d4d4d4',
                        400: '#a3a3a3',
                        500: '#737373',
                        600: '#525252',
                        700: '#404040',
                        800: '#262626',
                        900: '#171717'
                    }
                },
                fontFamily: {
                    'sans': ['Noto Sans TC', 'sans-serif'],
                    'handwrite': ['Kalam', 'cursive']
                },
                spacing: {
                    '18': '4.5rem',
                    '22': '5.5rem',
                    '26': '6.5rem',
                    '30': '7.5rem'
                },
                animation: {
                    'bounce-in': 'bounceIn 0.6s ease-out',
                    'fade-in': 'fadeIn 0.8s ease-out',
                    'slide-up': 'slideUp 0.5s ease-out'
                }
            }
        }
    }
</script>

<style>
    /* è‡ªè¨‚å‹•ç•«é—œéµå¹€ */
    @keyframes bounceIn {
        0% { opacity: 0; transform: scale(0.3) translateY(20px); }
        50% { opacity: 1; transform: scale(1.05); }
        70% { transform: scale(0.95); }
        100% { opacity: 1; transform: scale(1); }
    }
    
    @keyframes fadeIn {
        from { opacity: 0; transform: translateY(30px); }
        to { opacity: 1; transform: translateY(0); }
    }
    
    @keyframes slideUp {
        from { opacity: 0; transform: translateY(50px); }
        to { opacity: 1; transform: translateY(0); }
    }
    
    /* æ ¼å­æ¨£å¼å¼·åŒ– */
    .grid-cell {
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        position: relative;
        overflow: hidden;
    }
    
    .grid-cell:hover {
        transform: scale(1.05);
        box-shadow: 0 8px 25px rgba(61, 163, 93, 0.15);
        z-index: 10;
    }
    
    .grid-cell.filled {
        background: linear-gradient(135deg, #dcf4e4 0%, #bbe8cc 100%);
        border-color: #3da35d;
    }
    
    .grid-cell.filled:hover {
        background: linear-gradient(135deg, #bbe8cc 0%, #8cd5a8 100%);
    }
    
    /* æ‰‹å¯«å­—é«”æ—¥æœŸæ¨£å¼ */
    .date-text {
        font-family: 'Kalam', cursive;
        color: #2d8049;
        font-weight: 700;
        text-shadow: 0 1px 2px rgba(0,0,0,0.1);
    }
    
    /* å½©è›‹æŒ‰éˆ•éš±è—æ¨£å¼ */
    .easter-egg {
        position: fixed;
        bottom: 20px;
        right: 20px;
        width: 15px;
        height: 15px;
        background: transparent;
        border: none;
        cursor: pointer;
        z-index: 1000;
    }
    
    /* æˆåŠŸæç¤ºæ¨£å¼ */
    .success-popup {
        background: linear-gradient(135deg, #dcf4e4 0%, #bbe8cc 100%);
        border: 2px solid #3da35d;
        box-shadow: 0 20px 40px rgba(61, 163, 93, 0.3);
    }
</style>


</head>

<body class="bg-gradient-to-br from-primary-50 to-primary-100 min-h-screen font-sans">
    <!-- Header å€åŸŸ -->
    <header class="text-center py-6 sm:py-8 md:py-12 animate-fade-in">
        <div class="container mx-auto px-4">
            <h1 class="text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold text-primary-800 mb-2 sm:mb-4 tracking-wide">
                é›¢è·é›†é»å¡
            </h1>
            <p class="text-base sm:text-lg md:text-xl text-primary-600 font-medium" id="progressText">
                å…±100æ ¼ï¼Œé›†æ»¿é›¢è·
            </p>
        </div>
    </header>


<!-- ä¸»è¦å…§å®¹å€åŸŸ -->
<main class="container mx-auto px-4 pb-8">
    <!-- é›†é»å¡æ ¼å­å€åŸŸ -->
    <div class="bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl p-4 sm:p-6 md:p-8 mb-6 animate-slide-up">
        <!-- æ ¼å­å®¹å™¨ï¼šMobile 8x8, Desktop 10x10 -->
        <div class="grid grid-cols-8 md:grid-cols-10 gap-1 sm:gap-2 max-w-2xl mx-auto" id="gridContainer">
            <!-- æ ¼å­å°‡ç”± JavaScript å‹•æ…‹ç”Ÿæˆ -->
        </div>
    </div>
    
    <!-- é€²åº¦çµ±è¨ˆ -->
    <div class="text-center mb-6 animate-slide-up" style="animation-delay: 0.2s">
        <div class="bg-white/80 backdrop-blur-sm rounded-xl shadow-lg p-4 sm:p-6 max-w-md mx-auto">
            <div class="flex items-center justify-center gap-4 mb-4">
                <div class="text-center">
                    <div class="text-2xl sm:text-3xl font-bold text-primary-700" id="filledCount">0</div>
                    <div class="text-sm text-primary-600">å·²é›†æ»¿</div>
                </div>
                <div class="text-primary-300">/</div>
                <div class="text-center">
                    <div class="text-2xl sm:text-3xl font-bold text-neutral-500">100</div>
                    <div class="text-sm text-neutral-500">ç¸½æ ¼æ•¸</div>
                </div>
            </div>
            
            <!-- é€²åº¦æ¢ -->
            <div class="w-full bg-primary-200 rounded-full h-3 mb-4">
                <div class="bg-gradient-to-r from-primary-500 to-primary-600 h-3 rounded-full transition-all duration-500 ease-out" 
                     id="progressBar" style="width: 0%"></div>
            </div>
            
            <button onclick="clearAllDates()" 
                    class="bg-secondary-500 hover:bg-secondary-600 text-white px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 transform hover:scale-105 active:scale-95">
                <i class="fas fa-trash-alt mr-2"></i>æ¸…ç©ºæ‰€æœ‰
            </button>
        </div>
    </div>
</main>

<!-- Footer å€åŸŸ -->
<footer class="text-center py-6 text-primary-600 animate-fade-in" style="animation-delay: 0.4s">
    <div class="container mx-auto px-4">
        <p class="text-sm sm:text-base mb-2 font-handwrite">
            çœŸçš„åšä¸äº†ï¼Œæ²’æœ‰ä¸€å¤©æ˜¯é©åˆä¸Šç­çš„ã€‚
        </p>
        <p class="text-xs sm:text-sm opacity-75">
            é›¢è·Day
        </p>
    </div>
</footer>

<!-- éš±è—å½©è›‹æŒ‰éˆ• -->
<button class="easter-egg" onclick="showEasterEgg()" title="ç™¼ç¾å½©è›‹ï¼"></button>

<!-- æˆåŠŸå½©è›‹å½ˆçª— -->
<div id="easterEggModal" class="fixed inset-0 bg-black/50 backdrop-blur-sm hidden items-center justify-center z-50 p-4">
    <div class="success-popup rounded-2xl p-6 sm:p-8 max-w-sm w-full text-center animate-bounce-in">
        <div class="text-4xl mb-4">ğŸ‰</div>
        <h3 class="text-xl font-bold text-primary-800 mb-3">æ­å–œç™¼ç¾å½©è›‹ï¼</h3>
        <p class="text-primary-700 mb-4 font-handwrite">
            å …æŒå°±æ˜¯å‹åˆ©ï¼<br>
            æ¯ä¸€å¤©éƒ½é›¢è‡ªç”±æ›´è¿‘ä¸€æ­¥ âœ¨
        </p>
        <button onclick="hideEasterEgg()" 
                class="bg-primary-600 hover:bg-primary-700 text-white px-6 py-2 rounded-lg font-medium transition-all duration-200 transform hover:scale-105">
            æˆ‘çŸ¥é“äº†
        </button>
    </div>
</div>

<script>
    // å…¨åŸŸè®Šæ•¸
    let filledDates = new Set();
    const STORAGE_KEY = 'resignationCard_dates';
    const TOTAL_CELLS = 100;
    
    // åˆå§‹åŒ–é é¢
    document.addEventListener('DOMContentLoaded', function() {
        loadSavedDates();
        generateGrid();
        updateProgress();
        
        // è¼‰å…¥æ™‚çš„å‹•ç•«æ•ˆæœ
        setTimeout(() => {
            document.querySelector('#gridContainer').classList.add('animate-bounce-in');
        }, 300);
    });
    
    // è¼‰å…¥å„²å­˜çš„æ—¥æœŸè³‡æ–™
    function loadSavedDates() {
        const saved = localStorage.getItem(STORAGE_KEY);
        if (saved) {
            try {
                const savedArray = JSON.parse(saved);
                filledDates = new Set(savedArray);
            } catch (e) {
                console.error('è¼‰å…¥è³‡æ–™å¤±æ•—:', e);
                filledDates = new Set();
            }
        }
    }
    
    // å„²å­˜æ—¥æœŸè³‡æ–™
    function saveDates() {
        try {
            localStorage.setItem(STORAGE_KEY, JSON.stringify([...filledDates]));
        } catch (e) {
            console.error('å„²å­˜è³‡æ–™å¤±æ•—:', e);
        }
    }
    
    // å‹•æ…‹ç”Ÿæˆæ ¼å­
    function generateGrid() {
        const container = document.getElementById('gridContainer');
        container.innerHTML = '';
        
        for (let i = 0; i < TOTAL_CELLS; i++) {
            const cell = document.createElement('div');
            cell.className = `
                grid-cell aspect-square border-2 border-primary-200 rounded-lg 
                bg-white cursor-pointer flex items-center justify-center
                hover:border-primary-400 active:scale-95
            `;
            cell.setAttribute('data-index', i);
            
            // æª¢æŸ¥æ˜¯å¦å·²å¡«å…¥æ—¥æœŸ
            if (filledDates.has(i)) {
                const today = new Date();
                const dateStr = `${today.getMonth() + 1}/${today.getDate()}`;
                fillCell(cell, dateStr);
            }
            
            // é»æ“Šäº‹ä»¶è™•ç†
            cell.addEventListener('click', function() {
                handleCellClick(i, cell);
            });
            
            container.appendChild(cell);
        }
    }
    
    // è™•ç†æ ¼å­é»æ“Š
    function handleCellClick(index, cellElement) {
        const today = new Date();
        const dateStr = `${today.getMonth() + 1}/${today.getDate()}`;
        
        if (filledDates.has(index)) {
            // å¦‚æœå·²å¡«å…¥ï¼Œå‰‡æ¸…é™¤
            clearCell(cellElement);
            filledDates.delete(index);
        } else {
            // å¦‚æœæœªå¡«å…¥ï¼Œå‰‡å¡«å…¥ä»Šå¤©æ—¥æœŸ
            fillCell(cellElement, dateStr);
            filledDates.add(index);
            
            // æ·»åŠ é»æ“Šå‹•ç•«
            cellElement.style.animation = 'bounceIn 0.6s ease-out';
            setTimeout(() => {
                cellElement.style.animation = '';
            }, 600);
        }
        
        saveDates();
        updateProgress();
        
        // æª¢æŸ¥æ˜¯å¦å®Œæˆ
        if (filledDates.size === TOTAL_CELLS) {
            setTimeout(showCompletionMessage, 500);
        }
    }
    
    // å¡«å…¥æ ¼å­
    function fillCell(cell, dateStr) {
        cell.classList.add('filled');
        cell.innerHTML = `<span class="date-text text-xs sm:text-sm">${dateStr}</span>`;
    }
    
    // æ¸…ç©ºæ ¼å­
    function clearCell(cell) {
        cell.classList.remove('filled');
        cell.innerHTML = '';
    }
    
    // æ›´æ–°é€²åº¦
    function updateProgress() {
        const count = filledDates.size;
        const percentage = (count / TOTAL_CELLS * 100).toFixed(1);
        
        document.getElementById('filledCount').textContent = count;
        document.getElementById('progressBar').style.width = `${percentage}%`;
        
        // æ›´æ–°æ¨™é¡Œé€²åº¦
        const progressText = document.getElementById('progressText');
        if (count === 0) {
            progressText.textContent = 'å…±100æ ¼ï¼Œé›†æ»¿é›¢è·';
        } else if (count === TOTAL_CELLS) {
            progressText.textContent = 'ğŸ‰ æ­å–œé›†æ»¿ï¼æº–å‚™é›¢è·ï¼';
            progressText.className += ' text-secondary-600 font-bold';
        } else {
            progressText.textContent = `é‚„å·® ${TOTAL_CELLS - count} æ ¼å°±é›¢è·äº†ï¼`;
        }
    }
    
    // æ¸…ç©ºæ‰€æœ‰æ—¥æœŸ
    function clearAllDates() {
        if (filledDates.size === 0) return;
        
        if (confirm('ç¢ºå®šè¦æ¸…ç©ºæ‰€æœ‰æ—¥æœŸå—ï¼Ÿæ­¤æ“ä½œç„¡æ³•å¾©åŸã€‚')) {
            filledDates.clear();
            saveDates();
            generateGrid();
            updateProgress();
            
            // æ¸…ç©ºå‹•ç•«æ•ˆæœ
            const container = document.getElementById('gridContainer');
            container.style.animation = 'fadeIn 0.5s ease-out';
            setTimeout(() => {
                container.style.animation = '';
            }, 500);
        }
    }
    
    // é¡¯ç¤ºå®Œæˆè¨Šæ¯
    function showCompletionMessage() {
        const modal = document.getElementById('easterEggModal');
        const content = modal.querySelector('.success-popup');
        
        content.innerHTML = `
            <div class="text-4xl mb-4">ğŸ†</div>
            <h3 class="text-xl font-bold text-primary-800 mb-3">æ­å–œå®Œæˆé›¢è·é›†é»ï¼</h3>
            <p class="text-primary-700 mb-4 font-handwrite">
                100æ ¼å…¨éƒ¨é›†æ»¿ï¼<br>
                æ˜¯æ™‚å€™å‘è€é—†èªªå†è¦‹äº†ï¼ğŸ‰
            </p>
            <button onclick="hideEasterEgg()" 
                    class="bg-secondary-600 hover:bg-secondary-700 text-white px-6 py-2 rounded-lg font-medium transition-all duration-200 transform hover:scale-105">
                æº–å‚™é›¢è·ï¼
            </button>
        `;
        
        modal.classList.remove('hidden');
        modal.classList.add('flex');
    }
    
    // é¡¯ç¤ºå½©è›‹
    function showEasterEgg() {
        const modal = document.getElementById('easterEggModal');
        modal.classList.remove('hidden');
        modal.classList.add('flex');
    }
    
    // éš±è—å½©è›‹
    function hideEasterEgg() {
        const modal = document.getElementById('easterEggModal');
        modal.classList.add('hidden');
        modal.classList.remove('flex');
    }
    
    // é»æ“ŠèƒŒæ™¯é—œé–‰å½ˆçª—
    document.getElementById('easterEggModal').addEventListener('click', function(e) {
        if (e.target === this) {
            hideEasterEgg();
        }
    });
    
    // éµç›¤å¿«æ·éµæ”¯æ´
    document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape') {
            hideEasterEgg();
        }
        
        // Ctrl/Cmd + R é‡ç½®ï¼ˆé˜²æ­¢æ„å¤–é‡æ–°æ•´ç†ï¼‰
        if ((e.ctrlKey || e.metaKey) && e.key === 'r') {
            e.preventDefault();
            if (confirm('ç¢ºå®šè¦é‡æ–°æ•´ç†é é¢å—ï¼Ÿæœªå„²å­˜çš„è®Šæ›´å°‡æœƒéºå¤±ã€‚')) {
                location.reload();
            }
        }
    });
    
    // è¦–è¦ºå›é¥‹å¢å¼·
    document.querySelectorAll('button').forEach(button => {
        button.addEventListener('mousedown', function() {
            this.style.transform = 'scale(0.95)';
        });
        
        button.addEventListener('mouseup', function() {
            this.style.transform = '';
        });
        
        button.addEventListener('mouseleave', function() {
            this.style.transform = '';
        });
    });
    
    // é€²å ´å‹•ç•«åºåˆ—
    function initAnimations() {
        const elements = document.querySelectorAll('.animate-fade-in, .animate-slide-up');
        elements.forEach((el, index) => {
            el.style.opacity = '0';
            el.style.transform = 'translateY(30px)';
            
            setTimeout(() => {
                el.style.transition = 'all 0.8s ease-out';
                el.style.opacity = '1';
                el.style.transform = 'translateY(0)';
            }, index * 200);
        });
    }
    
    // é é¢è¼‰å…¥å®Œæˆå¾ŒåŸ·è¡Œå‹•ç•«
    window.addEventListener('load', initAnimations);
</script>


</body>
</html>