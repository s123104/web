<!DOCTYPE html>

<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>é›¢è·é›†é»å¡ - é›†æ»¿é›¢è·</title>


<!-- PWA Meta Tags -->
<meta name="theme-color" content="#3da35d">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="default">
<meta name="apple-mobile-web-app-title" content="é›¢è·é›†é»å¡">
<link rel="apple-touch-icon" href="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTkyIiBoZWlnaHQ9IjE5MiIgdmlld0JveD0iMCAwIDE5MiAxOTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxOTIiIGhlaWdodD0iMTkyIiByeD0iMjQiIGZpbGw9IiMzZGEzNWQiLz4KPHN2ZyB4PSI0OCIgeT0iNDgiIHdpZHRoPSI5NiIgaGVpZ2h0PSI5NiIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJ3aGl0ZSI+CjxwYXRoIGQ9Ik05IDEyTDExIDE0TDE1IDEwTTIxIDEyQzIxIDE2Ljk3MDYgMTYuOTcwNiAyMSAxMiAyMUM3LjAyOTQ0IDIxIDMgMTYuOTcwNiAzIDEyQzMgNy4wMjk0NCA3LjAyOTQ0IDMgMTIgM0MxNi45NzA2IDMgMjEgNy4wMjk0NCAyMSAxMloiIHN0cm9rZT0iY3VycmVudENvbG9yIiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8L3N2Zz4KPC9zdmc+">
<link rel="icon" type="image/svg+xml" href="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiByeD0iNCIgZmlsbD0iIzNkYTM1ZCIvPgo8cGF0aCBkPSJNOSAxMkwxMSAxNEwxNSAxME0yMSAxMkMyMSAxNi45NzA2IDE2Ljk3MDYgMjEgMTIgMjFDNy4wMjk0NCAyMSAzIDE2Ljk3MDYgMyAxMkMzIDcuMDI5NDQgNy4wMjk0NCAzIDEyIDNDMTYuOTcwNiAzIDIxIDcuMDI5NDQgMjEgMTJaIiBzdHJva2U9IndoaXRlIiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8L3N2Zz4K">

<!-- Tailwind CSS CDN -->
<script src="https://cdn.tailwindcss.com"></script>

<!-- Google Fonts -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;700&family=Kalam:wght@400;700&family=Caveat:wght@400;600;700&family=Dancing+Script:wght@400;600;700&family=Indie+Flower&family=Shadows+Into+Light&family=Amatic+SC:wght@400;700&display=swap" rel="stylesheet">

<!-- Font Awesome Icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

<!-- Chart.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/chart.js/3.9.1/chart.min.js"></script>

<!-- Tailwind Config -->
<script>
    tailwind.config = {
        theme: {
            extend: {
                colors: {
                    primary: {
                        50: '#f0f9f4',
                        100: '#dcf4e4',
                        200: '#bbe8cc',
                        300: '#8cd5a8',
                        400: '#5bb97d',
                        500: '#3da35d',
                        600: '#2d8049',
                        700: '#26663d',
                        800: '#215233',
                        900: '#1d432b'
                    },
                    secondary: {
                        50: '#fefce8',
                        100: '#fef9c3',
                        200: '#fef08a',
                        300: '#fde047',
                        400: '#facc15',
                        500: '#eab308',
                        600: '#ca8a04',
                        700: '#a16207',
                        800: '#854d0e',
                        900: '#713f12'
                    },
                    accent: {
                        50: '#fdf2f8',
                        100: '#fce7f3',
                        200: '#fbcfe8',
                        300: '#f9a8d4',
                        400: '#f472b6',
                        500: '#ec4899',
                        600: '#db2777',
                        700: '#be185d',
                        800: '#9d174d',
                        900: '#831843'
                    },
                    neutral: {
                        50: '#fafafa',
                        100: '#f5f5f5',
                        200: '#e5e5e5',
                        300: '#d4d4d4',
                        400: '#a3a3a3',
                        500: '#737373',
                        600: '#525252',
                        700: '#404040',
                        800: '#262626',
                        900: '#171717'
                    }
                },
                fontFamily: {
                    'sans': ['Noto Sans TC', 'sans-serif'],
                    'handwrite-1': ['Kalam', 'cursive'],
                    'handwrite-2': ['Caveat', 'cursive'],
                    'handwrite-3': ['Dancing Script', 'cursive'],
                    'handwrite-4': ['Indie Flower', 'cursive'],
                    'handwrite-5': ['Shadows Into Light', 'cursive'],
                    'handwrite-6': ['Amatic SC', 'cursive']
                },
                animation: {
                    'bounce-in': 'bounceIn 0.8s cubic-bezier(0.68, -0.55, 0.265, 1.55)',
                    'fade-in': 'fadeIn 1s ease-out',
                    'slide-up': 'slideUp 0.7s cubic-bezier(0.25, 0.46, 0.45, 0.94)',
                    'pulse-slow': 'pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                    'wiggle': 'wiggle 1s ease-in-out infinite',
                    'float': 'float 6s ease-in-out infinite',
                    'glow': 'glow 2s ease-in-out infinite alternate',
                    'quote-slide': 'quoteSlide 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94)',
                    'quote-fade': 'quoteFade 0.6s ease-out'
                }
            }
        }
    }
</script>

<style>
    /* ç¦æ­¢é›™æ“Šç¸®æ”¾ */
    * {
        touch-action: manipulation;
        -webkit-touch-callout: none;
        -webkit-user-select: none;
        -khtml-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
    }
    
    input, textarea {
        -webkit-user-select: text;
        -moz-user-select: text;
        -ms-user-select: text;
        user-select: text;
    }
    
    /* å‹•ç•«é—œéµå¹€ */
    @keyframes bounceIn {
        0% { opacity: 0; transform: scale(0.3) translateY(50px); }
        30% { opacity: 0.9; transform: scale(1.1); }
        60% { opacity: 1; transform: scale(0.89); }
        80% { transform: scale(1.05); }
        100% { opacity: 1; transform: scale(1) translateY(0); }
    }
    
    @keyframes fadeIn {
        from { opacity: 0; transform: translateY(60px); }
        to { opacity: 1; transform: translateY(0); }
    }
    
    @keyframes slideUp {
        from { opacity: 0; transform: translateY(100px); }
        to { opacity: 1; transform: translateY(0); }
    }
    
    @keyframes wiggle {
        0%, 7% { transform: rotateZ(0); }
        15% { transform: rotateZ(-15deg); }
        20% { transform: rotateZ(10deg); }
        25% { transform: rotateZ(-10deg); }
        30% { transform: rotateZ(6deg); }
        35% { transform: rotateZ(-4deg); }
        40%, 100% { transform: rotateZ(0); }
    }
    
    @keyframes float {
        0%, 100% { transform: translateY(0px); }
        50% { transform: translateY(-20px); }
    }
    
    @keyframes glow {
        from { box-shadow: 0 0 20px rgba(61, 163, 93, 0.4); }
        to { box-shadow: 0 0 30px rgba(61, 163, 93, 0.8), 0 0 40px rgba(61, 163, 93, 0.4); }
    }
    
    @keyframes quoteSlide {
        from { 
            opacity: 0; 
            transform: translateY(-50px) scale(0.9); 
        }
        to { 
            opacity: 1; 
            transform: translateY(0) scale(1); 
        }
    }
    
    @keyframes quoteFade {
        0% { opacity: 0; transform: scale(0.8); }
        50% { opacity: 1; transform: scale(1.05); }
        100% { opacity: 1; transform: scale(1); }
    }
    
    /* ç²¾ç·»æ ¼å­æ¨£å¼ */
    .grid-cell {
        transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        position: relative;
        overflow: hidden;
        background: linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%);
        border: 2px solid #e5e7eb;
        box-shadow: 0 2px 8px rgba(0,0,0,0.06);
        min-height: 40px;
    }
    
    .grid-cell::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: linear-gradient(145deg, transparent 0%, rgba(61, 163, 93, 0.05) 100%);
        opacity: 0;
        transition: opacity 0.3s ease;
    }
    
    .grid-cell:hover::before {
        opacity: 1;
    }
    
    .grid-cell:hover {
        transform: scale(1.08) translateY(-3px);
        box-shadow: 0 12px 35px rgba(61, 163, 93, 0.2);
        border-color: #3da35d;
        z-index: 10;
    }
    
    .grid-cell.filled {
        background: linear-gradient(145deg, #dcf4e4 0%, #bbe8cc 100%);
        border-color: #3da35d;
        box-shadow: 0 4px 15px rgba(61, 163, 93, 0.15);
    }
    
    .grid-cell.filled:hover {
        background: linear-gradient(145deg, #bbe8cc 0%, #8cd5a8 100%);
        box-shadow: 0 12px 40px rgba(61, 163, 93, 0.3);
    }
    
    .grid-cell.bad-day {
        background: linear-gradient(145deg, #fef2f2 0%, #fecaca 100%);
        border-color: #ef4444;
        box-shadow: 0 4px 15px rgba(239, 68, 68, 0.15);
    }
    
    .grid-cell.bad-day:hover {
        background: linear-gradient(145deg, #fecaca 0%, #fca5a5 100%);
        box-shadow: 0 12px 40px rgba(239, 68, 68, 0.3);
    }
    
    .grid-cell.long-pressing {
        transform: scale(0.95);
        box-shadow: inset 0 4px 12px rgba(61, 163, 93, 0.2);
    }
    
    /* æ‰‹å¯«å­—é«”æ¨£å¼ */
    .date-text-1 { font-family: 'Kalam', cursive; }
    .date-text-2 { font-family: 'Caveat', cursive; }
    .date-text-3 { font-family: 'Dancing Script', cursive; }
    .date-text-4 { font-family: 'Indie Flower', cursive; }
    .date-text-5 { font-family: 'Shadows Into Light', cursive; }
    .date-text-6 { font-family: 'Amatic SC', cursive; }
    
    .date-text {
        color: #2d8049;
        font-weight: 700;
        text-shadow: 0 1px 3px rgba(0,0,0,0.12);
        transform: rotate(-2deg);
        transition: all 0.3s ease;
    }
    
    .bad-day .date-text {
        color: #dc2626;
    }
    
    /* ç»ç’ƒè³ªæ„Ÿæ•ˆæœ */
    .glass-effect {
        background: rgba(255, 255, 255, 0.25);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.18);
    }
    
    /* å½©è›‹æŒ‰éˆ• */
    .easter-egg {
        position: fixed;
        bottom: 30px;
        right: 30px;
        width: 20px;
        height: 20px;
        background: transparent;
        border: none;
        cursor: pointer;
        z-index: 1000;
        transition: all 0.3s ease;
    }
    
    .easter-egg:hover {
        transform: scale(1.5);
    }
    
    /* å­ä¸–èªéŒ„æ¨£å¼ */
    .quote-container {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        border-radius: 20px;
        padding: 24px;
        margin: 20px 0;
        box-shadow: 0 20px 40px rgba(102, 126, 234, 0.3);
        position: relative;
        overflow: hidden;
        animation: quote-slide 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    }
    
    .quote-container::before {
        content: '';
        position: absolute;
        top: -50%;
        left: -50%;
        width: 200%;
        height: 200%;
        background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
        transform: rotate(45deg);
        animation: shine 3s infinite;
    }
    
    @keyframes shine {
        0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
        50% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        100% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
    }
    
    /* é€²åº¦ç’°å½¢ */
    .progress-ring {
        transform: rotate(-90deg);
    }
    
    .progress-ring-circle {
        transition: stroke-dasharray 0.5s ease-in-out;
    }
    
    /* æ¨¡æ…‹æ¡†æ¨£å¼ */
    .modal-backdrop {
        background: rgba(0, 0, 0, 0.6);
        backdrop-filter: blur(8px);
    }
    
    .modal-content {
        background: white;
        border-radius: 24px;
        box-shadow: 0 25px 50px rgba(0, 0, 0, 0.25);
        transform: scale(0.9) translateY(20px);
        transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
        max-width: 90vw;
        max-height: 90vh;
        overflow-y: auto;
    }
    
    .modal-open .modal-content {
        transform: scale(1) translateY(0);
    }
    
    /* è‡ªè¨‚æ»¾å‹•æ¢ */
    ::-webkit-scrollbar {
        width: 8px;
    }
    
    ::-webkit-scrollbar-track {
        background: #f1f1f1;
        border-radius: 4px;
    }
    
    ::-webkit-scrollbar-thumb {
        background: #3da35d;
        border-radius: 4px;
    }
    
    ::-webkit-scrollbar-thumb:hover {
        background: #2d8049;
    }
    
    /* éŸ¿æ‡‰å¼ä¿®æ­£ */
    @media (max-width: 768px) {
        .stats-container {
            display: block !important;
        }
        
        .stats-container > div {
            margin-bottom: 1.5rem;
        }
        
        .grid-cell {
            min-height: 35px;
        }
    }
    
    /* æ—¥æœŸé¸æ“‡å™¨æ¨£å¼ */
    input[type="date"] {
        appearance: none;
        -webkit-appearance: none;
        background: white;
        border: 2px solid #e5e7eb;
        border-radius: 12px;
        padding: 12px 16px;
        font-size: 16px;
        color: #374151;
        cursor: pointer;
    }
    
    input[type="date"]:focus {
        outline: none;
        border-color: #3da35d;
        box-shadow: 0 0 0 3px rgba(61, 163, 93, 0.1);
    }
</style>


</head>

<body class="bg-gradient-to-br from-primary-50 via-white to-accent-50 min-h-screen font-sans overflow-x-hidden">
    <!-- èƒŒæ™¯è£é£¾å…ƒç´  -->
    <div class="fixed inset-0 overflow-hidden pointer-events-none">
        <div class="absolute top-20 left-10 w-32 h-32 bg-primary-200 rounded-full opacity-20 animate-float"></div>
        <div class="absolute bottom-20 right-20 w-24 h-24 bg-accent-200 rounded-full opacity-20 animate-float" style="animation-delay: -2s;"></div>
        <div class="absolute top-1/2 left-1/3 w-16 h-16 bg-secondary-200 rounded-full opacity-20 animate-float" style="animation-delay: -4s;"></div>
    </div>


<!-- Header å€åŸŸ -->
<header class="relative text-center py-6 sm:py-8 md:py-12 animate-fade-in">
    <div class="container mx-auto px-4">
        <h1 class="text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold text-primary-800 mb-3 sm:mb-4 tracking-wide relative">
            <span class="inline-block animate-wiggle">ğŸ“‹</span>
            é›¢è·é›†é»å¡
            <span class="inline-block animate-pulse-slow">âœ¨</span>
        </h1>
        <p class="text-base sm:text-lg md:text-xl text-primary-600 font-medium" id="progressText">
            å…±100æ ¼ï¼Œé›†æ»¿é›¢è·
        </p>
    </div>
</header>

<!-- å­ä¸–èªéŒ„é¡¯ç¤ºå€ -->
<div id="quoteDisplay" class="container mx-auto px-4 mb-6" style="display: none;">
    <div class="quote-container text-center">
        <i class="fas fa-quote-left text-2xl mb-4 opacity-70"></i>
        <p class="text-lg sm:text-xl font-handwrite-3 leading-relaxed mb-4" id="quoteText"></p>
        <button onclick="hideQuote()" class="bg-white/20 hover:bg-white/30 px-4 py-2 rounded-full text-sm transition-all duration-300">
            <i class="fas fa-times mr-2"></i>æ”¶èµ·
        </button>
    </div>
</div>

<!-- ä¸»è¦å…§å®¹å€åŸŸ -->
<main class="container mx-auto px-4 pb-8">
    <!-- é›†é»å¡æ ¼å­å€åŸŸ -->
    <div class="glass-effect rounded-3xl shadow-2xl p-4 sm:p-6 md:p-8 mb-6 animate-slide-up">
        <div class="text-center mb-4">
            <h2 class="text-xl sm:text-2xl font-bold text-primary-800 mb-2">
                <i class="fas fa-calendar-check mr-2"></i>
                æˆ‘çš„é›¢è·é›†é»é€²åº¦
            </h2>
            <p class="text-primary-600 text-xs sm:text-sm">
                <i class="fas fa-info-circle mr-1"></i>
                çŸ­æŒ‰æ¨™è¨˜æ—¥æœŸï¼Œé•·æŒ‰è¨˜éŒ„è©³ç´°äº‹ä»¶
            </p>
        </div>
        
        <!-- æ ¼å­å®¹å™¨ -->
        <div class="grid grid-cols-8 md:grid-cols-10 gap-1 sm:gap-2 max-w-4xl mx-auto" id="gridContainer">
            <!-- æ ¼å­å°‡ç”± JavaScript å‹•æ…‹ç”Ÿæˆ -->
        </div>
    </div>
    
    <!-- çµ±è¨ˆèˆ‡é€²åº¦å€åŸŸ -->
    <div class="stats-container grid md:grid-cols-2 gap-4 mb-6">
        <!-- é€²åº¦çµ±è¨ˆ -->
        <div class="glass-effect rounded-2xl shadow-xl p-4 sm:p-6 animate-slide-up" style="animation-delay: 0.2s">
            <h3 class="text-lg sm:text-xl font-bold text-primary-800 mb-4 flex items-center">
                <i class="fas fa-chart-pie mr-2 text-primary-600"></i>
                é€²åº¦çµ±è¨ˆ
            </h3>
            
            <div class="flex items-center justify-center mb-4">
                <div class="relative w-24 h-24 sm:w-32 sm:h-32">
                    <svg class="progress-ring w-24 h-24 sm:w-32 sm:h-32" viewBox="0 0 120 120">
                        <circle cx="60" cy="60" r="54" fill="none" stroke="#e5e7eb" stroke-width="8"/>
                        <circle cx="60" cy="60" r="54" fill="none" stroke="#3da35d" stroke-width="8" 
                                stroke-linecap="round" class="progress-ring-circle" 
                                id="progressCircle" stroke-dasharray="0 339.292"/>
                    </svg>
                    <div class="absolute inset-0 flex items-center justify-center">
                        <div class="text-center">
                            <div class="text-xl sm:text-2xl font-bold text-primary-700" id="filledCount">0</div>
                            <div class="text-xs text-primary-600">å·²å®Œæˆ</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="space-y-2 sm:space-y-3">
                <div class="flex justify-between items-center">
                    <span class="text-xs sm:text-sm text-neutral-600">
                        <i class="fas fa-calendar-day mr-1 sm:mr-2 text-primary-500"></i>
                        å¥½æ—¥å­
                    </span>
                    <span class="font-semibold text-primary-700" id="goodDaysCount">0</span>
                </div>
                <div class="flex justify-between items-center">
                    <span class="text-xs sm:text-sm text-neutral-600">
                        <i class="fas fa-calendar-times mr-1 sm:mr-2 text-red-500"></i>
                        çˆ›æ—¥å­
                    </span>
                    <span class="font-semibold text-red-600" id="badDaysCount">0</span>
                </div>
                <div class="flex justify-between items-center">
                    <span class="text-xs sm:text-sm text-neutral-600">
                        <i class="fas fa-percentage mr-1 sm:mr-2 text-accent-500"></i>
                        å®Œæˆç‡
                    </span>
                    <span class="font-semibold text-accent-600" id="completionRate">0%</span>
                </div>
            </div>
            
            <div class="mt-4 sm:mt-6 space-y-2">
                <button onclick="showClearConfirm()" 
                        class="w-full bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white px-3 py-2 sm:px-4 sm:py-3 rounded-xl text-xs sm:text-sm font-medium transition-all duration-300 transform hover:scale-105">
                    <i class="fas fa-trash-alt mr-2"></i>æ¸…ç©ºæ‰€æœ‰è¨˜éŒ„
                </button>
                <button onclick="exportData()" 
                        class="w-full bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white px-3 py-2 sm:px-4 sm:py-3 rounded-xl text-xs sm:text-sm font-medium transition-all duration-300 transform hover:scale-105">
                    <i class="fas fa-download mr-2"></i>åŒ¯å‡ºæ•¸æ“š
                </button>
            </div>
        </div>
        
        <!-- æ¯æ—¥è¶¨å‹¢åœ–è¡¨ -->
        <div class="glass-effect rounded-2xl shadow-xl p-4 sm:p-6 animate-slide-up" style="animation-delay: 0.4s">
            <h3 class="text-lg sm:text-xl font-bold text-primary-800 mb-4 flex items-center">
                <i class="fas fa-chart-line mr-2 text-primary-600"></i>
                æ¯æ—¥è¶¨å‹¢
            </h3>
            <div class="relative h-48 sm:h-64">
                <canvas id="dailyChart" class="w-full h-full"></canvas>
            </div>
            <div class="mt-4 text-center">
                <button onclick="updateChart()" class="text-primary-600 hover:text-primary-800 text-xs sm:text-sm">
                    <i class="fas fa-sync-alt mr-1"></i>æ›´æ–°åœ–è¡¨
                </button>
            </div>
        </div>
    </div>

    <!-- è¿‘æœŸè¨˜éŒ„ -->
    <div class="glass-effect rounded-2xl shadow-xl p-4 sm:p-6 animate-slide-up" style="animation-delay: 0.6s">
        <h3 class="text-lg sm:text-xl font-bold text-primary-800 mb-4 flex items-center">
            <i class="fas fa-history mr-2 text-primary-600"></i>
            è¿‘æœŸè¨˜éŒ„
        </h3>
        <div id="recentRecords" class="space-y-3 max-h-64 overflow-y-auto">
            <p class="text-neutral-500 text-center py-8">
                <i class="fas fa-inbox text-3xl mb-2 block"></i>
                å°šç„¡è¨˜éŒ„ï¼Œé–‹å§‹ä½ çš„é›¢è·é›†é»ä¹‹æ—…å§ï¼
            </p>
        </div>
    </div>
</main>

<!-- Footer å€åŸŸ -->
<footer class="text-center py-6 text-primary-600 animate-fade-in" style="animation-delay: 0.8s">
    <div class="container mx-auto px-4">
        <p class="text-sm sm:text-base mb-3 font-handwrite-4">
            çœŸçš„åšä¸äº†ï¼Œæ²’æœ‰ä¸€å¤©æ˜¯é©åˆä¸Šç­çš„ã€‚
        </p>
        <p class="text-xs opacity-75 mb-4">
            <i class="fas fa-heart text-red-400 mr-1"></i>
            é›¢è·Day - PWAç‰ˆæœ¬
        </p>
        <div class="flex justify-center gap-4 text-xs flex-wrap">
            <span class="bg-primary-100 px-3 py-1 rounded-full">
                <i class="fas fa-wifi mr-1"></i>
                <span id="onlineStatus">ç·šä¸Š</span>
            </span>
            <span class="bg-accent-100 px-3 py-1 rounded-full">
                <i class="fas fa-save mr-1"></i>
                å·²è‡ªå‹•å„²å­˜
            </span>
        </div>
    </div>
</footer>

<!-- éš±è—å½©è›‹æŒ‰éˆ• -->
<button class="easter-egg animate-pulse" onclick="showEasterEgg()" title="ç™¼ç¾å½©è›‹ï¼">
    <i class="fas fa-ghost text-primary-400"></i>
</button>

<!-- äº‹ä»¶è¨˜éŒ„æ¨¡æ…‹æ¡† -->
<div id="eventModal" class="fixed inset-0 modal-backdrop hidden items-center justify-center z-50 p-4">
    <div class="modal-content p-6 sm:p-8 w-full max-w-md">
        <div class="text-center mb-6">
            <div class="w-16 h-16 bg-gradient-to-br from-primary-400 to-primary-600 rounded-full mx-auto mb-4 flex items-center justify-center">
                <i class="fas fa-edit text-white text-xl"></i>
            </div>
            <h3 class="text-xl font-bold text-primary-800 mb-2">è¨˜éŒ„äº‹ä»¶</h3>
            <p class="text-neutral-600 text-sm">è¨˜éŒ„é€™ä¸€å¤©çš„å¿ƒæƒ…èˆ‡äº‹ä»¶</p>
        </div>
        
        <div class="space-y-4">
            <div>
                <label class="block text-sm font-medium text-neutral-700 mb-2">é¸æ“‡æ—¥æœŸ</label>
                <input type="date" id="eventDate" 
                       class="w-full px-4 py-3 border border-neutral-300 rounded-xl">
            </div>
            
            <div>
                <label class="block text-sm font-medium text-neutral-700 mb-2">å¿ƒæƒ…</label>
                <div class="flex gap-2">
                    <button type="button" onclick="setMood('good')" 
                            class="mood-btn flex-1 p-3 border-2 border-neutral-300 rounded-xl hover:border-primary-400 transition-all duration-200" 
                            data-mood="good">
                        <i class="fas fa-smile text-primary-500 text-xl mb-1"></i>
                        <div class="text-xs">é‚„è¡Œ</div>
                    </button>
                    <button type="button" onclick="setMood('bad')" 
                            class="mood-btn flex-1 p-3 border-2 border-neutral-300 rounded-xl hover:border-red-400 transition-all duration-200" 
                            data-mood="bad">
                        <i class="fas fa-frown text-red-500 text-xl mb-1"></i>
                        <div class="text-xs">å¾ˆçˆ›</div>
                    </button>
                </div>
            </div>
            
            <div>
                <label class="block text-sm font-medium text-neutral-700 mb-2">äº‹ä»¶æè¿°</label>
                <textarea id="eventDescription" rows="4" 
                          placeholder="ä»Šå¤©ç™¼ç”Ÿäº†ä»€éº¼äº‹å‘¢ï¼Ÿ" 
                          class="w-full px-4 py-3 border border-neutral-300 rounded-xl resize-none focus:border-primary-400 focus:ring-2 focus:ring-primary-100 transition-all duration-200"></textarea>
            </div>
        </div>
        
        <div class="flex gap-3 mt-6">
            <button onclick="closeEventModal()" 
                    class="flex-1 bg-neutral-200 hover:bg-neutral-300 text-neutral-700 px-6 py-3 rounded-xl font-medium transition-all duration-200">
                å–æ¶ˆ
            </button>
            <button onclick="saveEvent()" 
                    class="flex-1 bg-gradient-to-r from-primary-500 to-primary-600 hover:from-primary-600 hover:to-primary-700 text-white px-6 py-3 rounded-xl font-medium transition-all duration-200">
                å„²å­˜
            </button>
        </div>
    </div>
</div>

<!-- ç¢ºèªæ¸…ç©ºæ¨¡æ…‹æ¡† -->
<div id="confirmModal" class="fixed inset-0 modal-backdrop hidden items-center justify-center z-50 p-4">
    <div class="modal-content p-6 sm:p-8 w-full max-w-md text-center">
        <div class="w-16 h-16 bg-gradient-to-br from-red-400 to-red-600 rounded-full mx-auto mb-4 flex items-center justify-center">
            <i class="fas fa-exclamation-triangle text-white text-xl"></i>
        </div>
        <h3 class="text-xl font-bold text-neutral-800 mb-3">ç¢ºèªæ¸…ç©º</h3>
        <p class="text-neutral-600 mb-6">ç¢ºå®šè¦æ¸…ç©ºæ‰€æœ‰è¨˜éŒ„å—ï¼Ÿæ­¤æ“ä½œç„¡æ³•å¾©åŸã€‚</p>
        <div class="flex gap-3">
            <button onclick="closeConfirmModal()" 
                    class="flex-1 bg-neutral-200 hover:bg-neutral-300 text-neutral-700 px-6 py-3 rounded-xl font-medium transition-all duration-200">
                å–æ¶ˆ
            </button>
            <button onclick="confirmClearAll()" 
                    class="flex-1 bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white px-6 py-3 rounded-xl font-medium transition-all duration-200">
                ç¢ºèªæ¸…ç©º
            </button>
        </div>
    </div>
</div>

<!-- æˆåŠŸå½©è›‹å½ˆçª— -->
<div id="easterEggModal" class="fixed inset-0 modal-backdrop hidden items-center justify-center z-50 p-4">
    <div class="modal-content p-6 sm:p-8 w-full max-w-sm text-center">
        <div class="text-6xl mb-4 animate-bounce">ğŸ‰</div>
        <h3 class="text-2xl font-bold text-primary-800 mb-3">æ­å–œç™¼ç¾å½©è›‹ï¼</h3>
        <p class="text-primary-700 mb-6 font-handwrite-3 text-lg leading-relaxed">
            å …æŒå°±æ˜¯å‹åˆ©ï¼<br>
            æ¯ä¸€å¤©éƒ½é›¢è‡ªç”±æ›´è¿‘ä¸€æ­¥ âœ¨
        </p>
        <button onclick="hideEasterEgg()" 
                class="bg-gradient-to-r from-primary-600 to-primary-700 hover:from-primary-700 hover:to-primary-800 text-white px-8 py-3 rounded-xl font-medium transition-all duration-200 transform hover:scale-105">
            æˆ‘çŸ¥é“äº†
        </button>
    </div>
</div>

<!-- PWA å®‰è£æç¤º -->
<div id="installPrompt" class="fixed bottom-4 left-4 right-4 bg-gradient-to-r from-primary-600 to-primary-700 text-white p-4 rounded-2xl shadow-2xl transform translate-y-full transition-transform duration-500 z-40">
    <div class="flex items-center justify-between">
        <div class="flex items-center">
            <i class="fas fa-mobile-alt text-2xl mr-3"></i>
            <div>
                <div class="font-semibold">å®‰è£æ‡‰ç”¨ç¨‹å¼</div>
                <div class="text-sm opacity-90">é›¢ç·šä½¿ç”¨ï¼Œéš¨æ™‚è¨˜éŒ„</div>
            </div>
        </div>
        <div class="flex gap-2">
            <button onclick="dismissInstallPrompt()" class="px-3 py-1 text-sm bg-white/20 rounded-lg">
                ç¨å¾Œ
            </button>
            <button onclick="installPWA()" class="px-3 py-1 text-sm bg-white text-primary-600 rounded-lg font-semibold">
                å®‰è£
            </button>
        </div>
    </div>
</div>

<script>
    // PWA ç›¸é—œè®Šæ•¸
    let deferredPrompt;
    let installPromptShown = false;
    
    // å…¨åŸŸè®Šæ•¸
    let filledDates = new Map();
    let longPressTimer = null;
    let isLongPress = false;
    let currentCell = null;
    let currentIndex = null;
    let dailyChart = null;
    
    const STORAGE_KEY = 'resignationCard_v3';
    const TOTAL_CELLS = 100;
    
    // ç²¾é¸å­ä¸–èªéŒ„åº« - æ›´æœ‰å…±é³´çš„å…§å®¹
    const quotes = [
        "äººå®¶æœ‰çš„æ˜¯èƒŒæ™¯ï¼Œæˆ‘æœ‰çš„åªæ˜¯èƒŒå½±ã€‚",
        "å¸Œæœ›å¤§å®¶ä¸è¦è¦ºå¾—è‡ªå·±ä¸€ç„¡æ˜¯è™•ï¼Œæˆ‘å€‘è‡³å°‘é‚„å¯ä»¥è®“åˆ¥äººè¦ºå¾—å¾ˆç…©ã€‚",
        "æˆ‘æœ€å¤§çš„ç¼ºé»ï¼Œå°±æ˜¯ç¼ºé»éŒ¢ã€‚",
        "é¸æ“‡æ¯”åŠªåŠ›æ›´é‡è¦ï¼Œæ‰€ä»¥æˆ‘é¸æ“‡ä¸åŠªåŠ›ã€‚",
        "å¦‚æœä½ è¦ºå¾—è‡ªå·±ç´¯å¾—è·Ÿç‹—ä¸€æ¨£ï¼Œé‚£è£¡çœŸçš„æ˜¯èª¤æœƒäº†ï¼Œå› ç‚ºç‹—éƒ½æ²’ä½ é€™éº¼ç´¯ã€‚",
        "ä»¥å‰æˆ‘ä»¥ç‚ºéŒ¢å¯ä»¥è²·åˆ°ä¸€åˆ‡ï¼Œå¾Œä¾†æˆ‘ç™¼ç¾ä¸¦ä¸æ˜¯ï¼Œå› ç‚ºæˆ‘éŒ¢ä¸å¤ ã€‚",
        "å°æ™‚å€™æˆ‘ä»¥ç‚ºå¯ä»¥æ‹¯æ•‘å…¨ä¸–ç•Œï¼Œé•·å¤§å¾Œç™¼ç¾å…¨ä¸–ç•Œéƒ½æ‹¯æ•‘ä¸äº†æˆ‘ã€‚",
        "æˆ‘æœ€å¤§çš„æŠ—å£“é©æ‡‰èƒ½åŠ›æ˜¯ï¼šä»¥ä¸è®Šçš„è–ªæ°´æ‡‰è¬è®Šçš„ç‰©åƒ¹ã€‚",
        "çœ‹æ™‚é–“ä¸æ˜¯ç‚ºäº†èµ·åºŠï¼Œè€Œæ˜¯çœ‹é‚„èƒ½ç¡å¤šä¹…ã€‚",
        "å¾ˆå¤šäººèªªæŠ–è…³æœƒè®Šçª®ï¼Œè¬›å¾—å¥½åƒæˆ‘åŸæœ¬å¤šæœ‰éŒ¢çš„æ¨£å­ã€‚",
        "ä¸åŠªåŠ›ä¸€ä¸‹ï¼Œä½ æ€éº¼æœƒçŸ¥é“ä»€éº¼å«åšçµ•æœ›ã€‚",
        "æ£‰è¢«ä»¥å¤–çš„åœ°æ–¹ï¼Œéƒ½æ˜¯é æ–¹ï¼Œè«‹å…ˆä¸è¦å«æˆ‘èµ·åºŠã€‚",
        "è¦å¥½å¥½æ´»ä¸‹å»ï¼Œå› ç‚ºæ¯å¤©éƒ½æœ‰æ–°çš„æ‰“æ“Šã€‚",
        "æ¯”ä¸€å€‹äººåƒç«é‹æ›´å¯‚å¯çš„æ˜¯ï¼Œä¸€å€‹äººæ²’æœ‰éŒ¢åƒç«é‹ã€‚",
        "æœ‰äº›äº‹æƒ…åšä¸åˆ°çš„è©±ï¼Œå°±ç•™åˆ°æ˜å¤©åšå§ï¼Œé‹æ°£å¥½çš„è©±ï¼Œæ˜å¤©æ­»äº†å°±ä¸ç”¨åšäº†ã€‚",
        "åŠªåŠ›ä¸ä¸€å®šæœƒæˆåŠŸï¼Œä½†æ˜¯ä¸åŠªåŠ›æœƒå¾ˆè¼•é¬†ã€‚",
        "è¬è¬é‚£äº›æ›¾ç¶“æ“Šå€’æˆ‘çš„äººï¼Œèººè‘—çœŸèˆ’æœã€‚",
        "ä¸Šä¸å»çš„è–ªæ°´ï¼Œä¸‹ä¸å»çš„æˆ¿åƒ¹ã€‚",
        "ä¸Šç­æ‰“å¡åˆ¶ï¼Œä¸‹ç­è²¬ä»»åˆ¶ï¼Œäººç”Ÿå¥½å­ä¸–ã€‚",
        "è¢«è€é—†ç½µå®Œæƒ³å»å‹•ç‰©åœ’ï¼Œå› ç‚ºåœ¨é‚£è£¡ï¼Œæˆ‘æ‰çœŸçš„åƒå€‹äººã€‚",
        "èª°èªªéŒ¢è²·ä¸åˆ°è‡ªç”±ï¼Œä½ è€é—†ä¸å°±è²·åˆ°ä½ äº†ã€‚",
        "çœŸæ‡·å¿µå°æ™‚å€™å“­å®Œå°±ç¡ï¼Œç¾åœ¨å“­å®Œé‚„æ˜¯è¦ä¸Šç­ã€‚",
        "ä»¥å‰å¸¸å¸¸æ€è€ƒè‡ªå·±é©åˆä»€éº¼å·¥ä½œï¼Œç¾åœ¨ç™¼ç¾è‡ªå·±æœ€é©åˆä¸å·¥ä½œã€‚",
        "æº–æ™‚ä¸‹ç­éœ€è¦çš„ä¸æ˜¯åŠªåŠ›ï¼Œæ˜¯å‹‡æ°£ã€‚",
        "æˆåŠŸçš„éƒ½æ˜¯é ˜å°æœ‰æ–¹ï¼Œå¤±æ•—çš„å°±æ˜¯ä¸‹å±¬ç„¡èƒ½ã€‚",
        "å¤±æ•—ä¸¦ä¸å¯æ€•ï¼Œå¯æ€•çš„æ˜¯ï¼Œä½ ç›¸ä¿¡é€™å¥è©±ã€‚",
        "ä¸–ç•Œä¸Š99%çš„äº‹å¯ä»¥é éŒ¢è§£æ±ºï¼Œå‰©ä¸‹çš„1%æ˜¯éœ€è¦æ›´å¤šéŒ¢ã€‚",
        "é‚£äº›é¼“å‹µå¤§å®¶è·³å‡ºèˆ’é©åœˆçš„ï¼Œå•é¡Œæ˜¯æˆ‘å¾ä¾†æ²’èˆ’é©éã€‚",
        "ä½ å¿…é ˆéå¸¸åŠªåŠ›ï¼Œæ‰å¯ä»¥è­‰æ˜è‡ªå·±çœŸçš„ç„¡èƒ½ç‚ºåŠ›ã€‚",
        "æˆ‘ä¸€ç›´æŠŠéŒ¢è¦–ç‚ºç©ºæ°£ï¼Œå› ç‚ºæ²’æœ‰å®ƒæˆ‘å°±æ´»ä¸ä¸‹å»ã€‚",
        "é†œå°é´¨è®Šå¤©éµä¸¦ä¸æ˜¯å› ç‚ºä»–å¤šåŠªåŠ›ï¼Œè€Œæ˜¯å› ç‚ºä»–çš„è€æ¯å°±æ˜¯å¤©éµã€‚",
        "è¦ºå¾—ä¸Šç­å¾ˆç´¯å—ï¼Ÿé‚£å°±çœ‹çœ‹æ‰‹ä¸Šçš„ä¿¡ç”¨å¡è·Ÿæˆ¿è²¸å¸³å–®å§ï¼Œå¿ƒæœƒæ›´ç´¯å–”ã€‚",
        "å‡ºç¤¾æœƒä¸ƒå¹´ï¼Œè‡³ä»Šåªè²·å¾—èµ·è‡ªå·±çš„å¡”ä½ã€‚",
        "æˆ‘çš„éŒ¢åŒ…å°±åƒæ´‹è”¥ï¼Œæ‰“é–‹å®ƒå°±æœƒæƒ³å“­ã€‚",
        "æˆ‘å¾ä¾†æ²’å–œæ­¡éå·¥ä½œï¼Œæˆ‘çš„ç›®æ¨™æ˜¯å¾—éä¸”éã€‚",
        "äººç”Ÿå°±æ˜¯é€™æ¨£ï¼Œä¸€å¤©åˆ°æ™šåšçš„é‚£äº›äº‹ï¼Œå…¨æ˜¯æˆ‘ä¸æ„›åšçš„ã€‚",
        "ä¸Šç­æ˜æ˜æ˜¯ç‚ºåˆ¥äººè³ºå¤§éŒ¢ï¼Œå¯æœ€å¾Œç«Ÿé‚„è¦åéä¾†è¬è¬ä»–çµ¦ä½ ä¸€å€‹å·¥ä½œæ©Ÿæœƒã€‚",
        "æ¯åˆ°æ˜ŸæœŸä¸€ï¼Œå°±æ·±åˆ»æ„Ÿå—å‡æœŸåªæ˜¯çŸ­æš«çš„æ„›äº†æˆ‘ä¸€ä¸‹ã€‚",
        "ä¸–ç•Œä¸Šæœ€çŸ­çš„è·é›¢ï¼Œå°±æ˜¯å‡æœŸé–‹å§‹åˆ°çµæŸã€‚",
        "æ­£ç¾©éƒ½èƒ½é²åˆ°ï¼Œç‚ºä»€éº¼ä¸Šç­ä¸èƒ½ï¼Ÿ",
        "æ™´å¤©é©åˆå‡ºéŠã€é›¨å¤©é©åˆç¡è¦ºï¼Œæ¼«é•·çš„æ­²æœˆè£¡ï¼Œç«Ÿç„¶æ²’æœ‰ä¸€å¤©é©åˆä¸Šç­ã€‚",
        "ä¸Šç­æ˜¯æœƒå‘¼å¸çš„ç—›ï¼Œä»–æ´»åœ¨æˆ‘èº«ä¸Šæ¯å€‹è§’è½ã€‚",
        "æ—©çŸ¥é“äººé–“æœ‰ä¸Šç­é€™ç¨®äº‹ï¼Œæˆ‘ç•¶åˆå°±ä¸æ‡‰è©²ä¸‹å‡¡ã€‚",
        "é¬§é˜ä¸€éŸ¿ï¼Œè…¦å­è£¡å°±å‡ºç¾äº†500å¤šæ¢è«‹å‡ç†ç”±ï¼Œä½†æ²’æœ‰ä¸€æ¢æ˜¯é è­œçš„ã€‚",
        "å·¥ä½œæœ€é‡è¦çš„å½¢å¼ä¹‹ä¸€ï¼Œæ˜¯ä¼‘æ¯ã€‚",
        "ç”Ÿæ´»ç”Ÿæ´»ï¼Œå°±æ˜¯ç”Ÿä¸‹ä¾†å¹¹æ´»ã€‚"
    ];
    
    // æ‰‹å¯«å­—é«”æ¨£å¼é™£åˆ—
    const handwriteFonts = [
        'date-text-1', 'date-text-2', 'date-text-3', 
        'date-text-4', 'date-text-5', 'date-text-6'
    ];

    // PWA å®‰è£è™•ç†
    window.addEventListener('beforeinstallprompt', (e) => {
        e.preventDefault();
        deferredPrompt = e;
        if (!installPromptShown) {
            setTimeout(showInstallPrompt, 5000);
        }
    });

    function showInstallPrompt() {
        const prompt = document.getElementById('installPrompt');
        prompt.style.transform = 'translateY(0)';
        installPromptShown = true;
    }

    function dismissInstallPrompt() {
        const prompt = document.getElementById('installPrompt');
        prompt.style.transform = 'translateY(100%)';
    }

    async function installPWA() {
        if (deferredPrompt) {
            deferredPrompt.prompt();
            const { outcome } = await deferredPrompt.userChoice;
            if (outcome === 'accepted') {
                dismissInstallPrompt();
            }
            deferredPrompt = null;
        }
    }

    // Service Worker è¨»å†Š
    if ('serviceWorker' in navigator) {
        navigator.serviceWorker.register(createServiceWorker())
            .then(registration => console.log('SW registered'))
            .catch(error => console.log('SW registration failed'));
    }

    function createServiceWorker() {
        const swCode = `
            const CACHE_NAME = 'resignation-card-v3';
            const urlsToCache = [
                '/',
                'https://cdn.tailwindcss.com',
                'https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css',
                'https://cdnjs.cloudflare.com/ajax/libs/chart.js/3.9.1/chart.min.js'
            ];

            self.addEventListener('install', event => {
                event.waitUntil(
                    caches.open(CACHE_NAME)
                        .then(cache => cache.addAll(urlsToCache))
                );
            });

            self.addEventListener('fetch', event => {
                event.respondWith(
                    caches.match(event.request)
                        .then(response => {
                            if (response) {
                                return response;
                            }
                            return fetch(event.request);
                        })
                );
            });
        `;
        
        const blob = new Blob([swCode], { type: 'application/javascript' });
        return URL.createObjectURL(blob);
    }

    // ç·šä¸Šç‹€æ…‹ç›£æ§
    function updateOnlineStatus() {
        const status = document.getElementById('onlineStatus');
        status.textContent = navigator.onLine ? 'ç·šä¸Š' : 'é›¢ç·š';
        status.parentElement.className = navigator.onLine ? 
            'bg-primary-100 px-3 py-1 rounded-full' : 
            'bg-neutral-300 px-3 py-1 rounded-full';
    }

    window.addEventListener('online', updateOnlineStatus);
    window.addEventListener('offline', updateOnlineStatus);

    // åˆå§‹åŒ–é é¢
    document.addEventListener('DOMContentLoaded', function() {
        loadSavedData();
        generateGrid();
        updateProgress();
        initChart();
        updateOnlineStatus();
        
        // æ·»åŠ é€²å ´å‹•ç•«
        setTimeout(() => {
            document.querySelector('#gridContainer').classList.add('animate-bounce-in');
        }, 500);
    });

    // è¼‰å…¥å„²å­˜çš„è³‡æ–™
    function loadSavedData() {
        const saved = localStorage.getItem(STORAGE_KEY);
        if (saved) {
            try {
                const data = JSON.parse(saved);
                filledDates = new Map(data.dates || []);
            } catch (e) {
                console.error('è¼‰å…¥è³‡æ–™å¤±æ•—:', e);
                filledDates = new Map();
            }
        }
    }

    // å„²å­˜è³‡æ–™
    function saveData() {
        try {
            const data = {
                dates: Array.from(filledDates.entries()),
                lastModified: new Date().toISOString()
            };
            localStorage.setItem(STORAGE_KEY, JSON.stringify(data));
        } catch (e) {
            console.error('å„²å­˜è³‡æ–™å¤±æ•—:', e);
        }
    }

    // å‹•æ…‹ç”Ÿæˆæ ¼å­
    function generateGrid() {
        const container = document.getElementById('gridContainer');
        container.innerHTML = '';
        
        for (let i = 0; i < TOTAL_CELLS; i++) {
            const cell = document.createElement('div');
            cell.className = `
                grid-cell aspect-square cursor-pointer flex items-center justify-center
                text-center relative
            `;
            cell.setAttribute('data-index', i);
            
            // æª¢æŸ¥æ˜¯å¦å·²å¡«å…¥
            if (filledDates.has(i)) {
                const data = filledDates.get(i);
                fillCell(cell, data);
            }
            
            // æ·»åŠ äº‹ä»¶ç›£è½
            setupCellEvents(cell, i);
            
            container.appendChild(cell);
        }
    }

    // è¨­å®šæ ¼å­äº‹ä»¶
    function setupCellEvents(cell, index) {
        // è§¸æ§äº‹ä»¶ï¼ˆæ‰‹æ©Ÿï¼‰
        cell.addEventListener('touchstart', (e) => {
            e.preventDefault();
            startLongPress(cell, index);
        });

        cell.addEventListener('touchend', (e) => {
            e.preventDefault();
            endLongPress(cell, index);
        });

        cell.addEventListener('touchcancel', (e) => {
            e.preventDefault();
            cancelLongPress();
        });

        // æ»‘é¼ äº‹ä»¶ï¼ˆæ¡Œé¢ï¼‰
        cell.addEventListener('mousedown', (e) => {
            e.preventDefault();
            startLongPress(cell, index);
        });

        cell.addEventListener('mouseup', (e) => {
            e.preventDefault();
            endLongPress(cell, index);
        });

        cell.addEventListener('mouseleave', (e) => {
            cancelLongPress();
        });
    }

    // é–‹å§‹é•·æŒ‰
    function startLongPress(cell, index) {
        isLongPress = false;
        currentCell = cell;
        currentIndex = index;
        
        cell.classList.add('long-pressing');
        
        longPressTimer = setTimeout(() => {
            isLongPress = true;
            cell.classList.remove('long-pressing');
            openEventModal(index);
            
            // è§¸è¦ºå›é¥‹
            if (navigator.vibrate) {
                navigator.vibrate(50);
            }
        }, 800);
    }

    // çµæŸé•·æŒ‰
    function endLongPress(cell, index) {
        clearTimeout(longPressTimer);
        cell.classList.remove('long-pressing');
        
        if (!isLongPress) {
            // çŸ­æŒ‰ - å¿«é€Ÿæ¨™è¨˜
            handleQuickMark(index, cell);
        }
        
        currentCell = null;
        currentIndex = null;
    }

    // å–æ¶ˆé•·æŒ‰
    function cancelLongPress() {
        clearTimeout(longPressTimer);
        if (currentCell) {
            currentCell.classList.remove('long-pressing');
        }
        currentCell = null;
        currentIndex = null;
        isLongPress = false;
    }

    // å¿«é€Ÿæ¨™è¨˜è™•ç†
    function handleQuickMark(index, cellElement) {
        if (filledDates.has(index)) {
            // ç§»é™¤æ¨™è¨˜
            clearCell(cellElement);
            filledDates.delete(index);
        } else {
            // æ·»åŠ æ¨™è¨˜
            const today = new Date();
            const data = {
                date: formatDate(today),
                displayDate: `${today.getMonth() + 1}/${today.getDate()}`,
                mood: 'good',
                description: '',
                timestamp: today.toISOString(),
                fontStyle: getRandomFontStyle()
            };
            
            fillCell(cellElement, data);
            filledDates.set(index, data);
            
            // æ·»åŠ å‹•ç•«
            cellElement.style.animation = 'bounceIn 0.8s cubic-bezier(0.68, -0.55, 0.265, 1.55)';
            setTimeout(() => {
                cellElement.style.animation = '';
            }, 800);
        }
        
        saveData();
        updateProgress();
        updateRecentRecords();
        updateChart();
        
        // é¡¯ç¤ºå­ä¸–èªéŒ„
        showRandomQuote();
        
        // æª¢æŸ¥å®Œæˆ
        if (filledDates.size === TOTAL_CELLS) {
            setTimeout(showCompletionMessage, 500);
        }
    }

    // æ ¼å¼åŒ–æ—¥æœŸ
    function formatDate(date) {
        return date.toISOString().split('T')[0];
    }

    // ç²å–éš¨æ©Ÿå­—é«”æ¨£å¼
    function getRandomFontStyle() {
        return handwriteFonts[Math.floor(Math.random() * handwriteFonts.length)];
    }

    // å¡«å…¥æ ¼å­
    function fillCell(cell, data) {
        cell.classList.add('filled');
        if (data.mood === 'bad') {
            cell.classList.add('bad-day');
        }
        
        const fontClass = data.fontStyle || 'date-text-1';
        cell.innerHTML = `<span class="date-text ${fontClass} text-xs sm:text-sm">${data.displayDate}</span>`;
    }

    // æ¸…ç©ºæ ¼å­
    function clearCell(cell) {
        cell.classList.remove('filled', 'bad-day');
        cell.innerHTML = '';
    }

    // é–‹å•Ÿäº‹ä»¶è¨˜éŒ„æ¨¡æ…‹æ¡†
    function openEventModal(index) {
        let dateValue;
        let moodValue = 'good';
        let descriptionValue = '';
        
        // å¦‚æœå·²æœ‰è¨˜éŒ„ï¼Œè¼‰å…¥ç¾æœ‰è³‡æ–™
        if (filledDates.has(index)) {
            const data = filledDates.get(index);
            dateValue = data.date;
            moodValue = data.mood;
            descriptionValue = data.description || '';
        } else {
            dateValue = formatDate(new Date());
        }
        
        document.getElementById('eventDate').value = dateValue;
        document.getElementById('eventDescription').value = descriptionValue;
        
        // é‡è¨­å¿ƒæƒ…æŒ‰éˆ•
        document.querySelectorAll('.mood-btn').forEach(btn => {
            btn.classList.remove('border-primary-400', 'bg-primary-50', 'border-red-400', 'bg-red-50');
            btn.classList.add('border-neutral-300');
            btn.dataset.selected = 'false';
        });
        
        // è¨­å®šç•¶å‰å¿ƒæƒ…
        setMood(moodValue);
        
        const modal = document.getElementById('eventModal');
        modal.classList.remove('hidden');
        modal.classList.add('flex');
        
        setTimeout(() => {
            modal.classList.add('modal-open');
        }, 10);
    }

    // è¨­å®šå¿ƒæƒ…
    function setMood(mood) {
        document.querySelectorAll('.mood-btn').forEach(btn => {
            btn.classList.remove('border-primary-400', 'bg-primary-50', 'border-red-400', 'bg-red-50');
            btn.classList.add('border-neutral-300');
            btn.dataset.selected = 'false';
        });
        
        const selectedBtn = document.querySelector(`[data-mood="${mood}"]`);
        if (mood === 'good') {
            selectedBtn.classList.remove('border-neutral-300');
            selectedBtn.classList.add('border-primary-400', 'bg-primary-50');
        } else {
            selectedBtn.classList.remove('border-neutral-300');
            selectedBtn.classList.add('border-red-400', 'bg-red-50');
        }
        
        selectedBtn.dataset.selected = 'true';
    }

    // å„²å­˜äº‹ä»¶
    function saveEvent() {
        const selectedMoodBtn = document.querySelector('.mood-btn[data-selected="true"]');
        if (!selectedMoodBtn) {
            showAlert('è«‹é¸æ“‡ä»Šå¤©çš„å¿ƒæƒ…');
            return;
        }
        
        const mood = selectedMoodBtn.dataset.mood;
        const description = document.getElementById('eventDescription').value.trim();
        const dateInput = document.getElementById('eventDate').value;
        
        if (!dateInput) {
            showAlert('è«‹é¸æ“‡æ—¥æœŸ');
            return;
        }
        
        const selectedDate = new Date(dateInput + 'T00:00:00');
        const displayDate = `${selectedDate.getMonth() + 1}/${selectedDate.getDate()}`;
        
        const data = {
            date: dateInput,
            displayDate: displayDate,
            mood: mood,
            description: description,
            timestamp: new Date().toISOString(),
            fontStyle: getRandomFontStyle()
        };
        
        // æ›´æ–°æ ¼å­
        const cell = document.querySelector(`[data-index="${currentIndex}"]`);
        fillCell(cell, data);
        filledDates.set(currentIndex, data);
        
        // æ·»åŠ å‹•ç•«
        cell.style.animation = 'bounceIn 0.8s cubic-bezier(0.68, -0.55, 0.265, 1.55)';
        setTimeout(() => {
            cell.style.animation = '';
        }, 800);
        
        saveData();
        updateProgress();
        updateRecentRecords();
        updateChart();
        closeEventModal();
        
        // é¡¯ç¤ºå­ä¸–èªéŒ„
        showRandomQuote();
        
        // æª¢æŸ¥å®Œæˆ
        if (filledDates.size === TOTAL_CELLS) {
            setTimeout(showCompletionMessage, 500);
        }
    }

    // é—œé–‰äº‹ä»¶æ¨¡æ…‹æ¡†
    function closeEventModal() {
        const modal = document.getElementById('eventModal');
        modal.classList.remove('modal-open');
        
        setTimeout(() => {
            modal.classList.add('hidden');
            modal.classList.remove('flex');
        }, 300);
    }

    // é¡¯ç¤ºè­¦å‘Š
    function showAlert(message) {
        // å¯ä»¥åœ¨é€™è£¡å¯¦ç¾è‡ªå®šç¾©è­¦å‘Šæ¨¡æ…‹æ¡†
        alert(message);
    }

    // é¡¯ç¤ºæ¸…ç©ºç¢ºèª
    function showClearConfirm() {
        if (filledDates.size === 0) return;
        
        const modal = document.getElementById('confirmModal');
        modal.classList.remove('hidden');
        modal.classList.add('flex');
        
        setTimeout(() => {
            modal.classList.add('modal-open');
        }, 10);
    }

    // é—œé–‰ç¢ºèªæ¨¡æ…‹æ¡†
    function closeConfirmModal() {
        const modal = document.getElementById('confirmModal');
        modal.classList.remove('modal-open');
        
        setTimeout(() => {
            modal.classList.add('hidden');
            modal.classList.remove('flex');
        }, 300);
    }

    // ç¢ºèªæ¸…ç©ºæ‰€æœ‰è¨˜éŒ„
    function confirmClearAll() {
        filledDates.clear();
        saveData();
        generateGrid();
        updateProgress();
        updateRecentRecords();
        updateChart();
        closeConfirmModal();
        
        // æ¸…ç©ºå‹•ç•«
        const container = document.getElementById('gridContainer');
        container.style.animation = 'fadeIn 0.8s ease-out';
        setTimeout(() => {
            container.style.animation = '';
        }, 800);
    }

    // æ›´æ–°é€²åº¦
    function updateProgress() {
        const totalCount = filledDates.size;
        const goodDays = Array.from(filledDates.values()).filter(data => data.mood === 'good').length;
        const badDays = Array.from(filledDates.values()).filter(data => data.mood === 'bad').length;
        const percentage = (totalCount / TOTAL_CELLS * 100).toFixed(1);
        
        // æ›´æ–°æ•¸å­—
        document.getElementById('filledCount').textContent = totalCount;
        document.getElementById('goodDaysCount').textContent = goodDays;
        document.getElementById('badDaysCount').textContent = badDays;
        document.getElementById('completionRate').textContent = `${percentage}%`;
        
        // æ›´æ–°åœ“å½¢é€²åº¦æ¢
        const circle = document.getElementById('progressCircle');
        const circumference = 2 * Math.PI * 54;
        const strokeDasharray = (totalCount / TOTAL_CELLS) * circumference;
        circle.style.strokeDasharray = `${strokeDasharray} ${circumference}`;
        
        // æ›´æ–°æ¨™é¡Œæ–‡å­—
        const progressText = document.getElementById('progressText');
        if (totalCount === 0) {
            progressText.textContent = 'å…±100æ ¼ï¼Œé›†æ»¿é›¢è·';
            progressText.className = 'text-base sm:text-lg md:text-xl text-primary-600 font-medium';
        } else if (totalCount === TOTAL_CELLS) {
            progressText.textContent = 'ğŸ‰ æ­å–œé›†æ»¿ï¼æº–å‚™é›¢è·ï¼';
            progressText.className = 'text-base sm:text-lg md:text-xl text-secondary-600 font-bold animate-bounce';
        } else {
            progressText.textContent = `é‚„å·® ${TOTAL_CELLS - totalCount} æ ¼å°±é›¢è·äº†ï¼åŠ æ²¹ï¼`;
            progressText.className = 'text-base sm:text-lg md:text-xl text-primary-600 font-medium';
        }
    }

    // æ›´æ–°è¿‘æœŸè¨˜éŒ„
    function updateRecentRecords() {
        const container = document.getElementById('recentRecords');
        const records = Array.from(filledDates.entries())
            .map(([index, data]) => ({ index, ...data }))
            .sort((a, b) => new Date(b.timestamp) - new Date(a.timestamp))
            .slice(0, 5);
        
        if (records.length === 0) {
            container.innerHTML = `
                <p class="text-neutral-500 text-center py-8">
                    <i class="fas fa-inbox text-3xl mb-2 block"></i>
                    å°šç„¡è¨˜éŒ„ï¼Œé–‹å§‹ä½ çš„é›¢è·é›†é»ä¹‹æ—…å§ï¼
                </p>
            `;
            return;
        }
        
        container.innerHTML = records.map(record => {
            const moodIcon = record.mood === 'good' ? 
                '<i class="fas fa-smile text-primary-500"></i>' : 
                '<i class="fas fa-frown text-red-500"></i>';
            
            const date = new Date(record.timestamp);
            const timeStr = date.toLocaleDateString('zh-TW', { 
                month: 'short', 
                day: 'numeric',
                hour: '2-digit',
                minute: '2-digit'
            });
            
            return `
                <div class="flex items-start gap-4 p-4 bg-white/50 rounded-xl hover:bg-white/70 transition-all duration-200">
                    <div class="text-xl">${moodIcon}</div>
                    <div class="flex-1">
                        <div class="flex items-center justify-between mb-1">
                            <span class="font-medium text-neutral-800">æ ¼å­ #${record.index + 1}</span>
                            <span class="text-xs text-neutral-500">${timeStr}</span>
                        </div>
                        <p class="text-sm text-neutral-600 leading-relaxed">
                            ${record.description || 'å¿«é€Ÿæ¨™è¨˜'}
                        </p>
                    </div>
                </div>
            `;
        }).join('');
    }

    // åˆå§‹åŒ–æ¯æ—¥è¶¨å‹¢åœ–è¡¨
    function initChart() {
        const ctx = document.getElementById('dailyChart').getContext('2d');
        
        // æº–å‚™æ•¸æ“š
        const dailyData = getDailyData();
        
        dailyChart = new Chart(ctx, {
            type: 'line',
            data: {
                labels: dailyData.labels,
                datasets: [{
                    label: 'å¥½æ—¥å­',
                    data: dailyData.good,
                    borderColor: '#3da35d',
                    backgroundColor: 'rgba(61, 163, 93, 0.1)',
                    borderWidth: 3,
                    fill: true,
                    tension: 0.4,
                    pointBackgroundColor: '#3da35d',
                    pointBorderColor: '#ffffff',
                    pointBorderWidth: 2,
                    pointRadius: 4
                }, {
                    label: 'çˆ›æ—¥å­',
                    data: dailyData.bad,
                    borderColor: '#ef4444',
                    backgroundColor: 'rgba(239, 68, 68, 0.1)',
                    borderWidth: 3,
                    fill: true,
                    tension: 0.4,
                    pointBackgroundColor: '#ef4444',
                    pointBorderColor: '#ffffff',
                    pointBorderWidth: 2,
                    pointRadius: 4
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'bottom',
                        labels: {
                            usePointStyle: true,
                            padding: 20,
                            font: {
                                size: 12
                            }
                        }
                    }
                },
                scales: {
                    x: {
                        grid: {
                            display: false
                        },
                        ticks: {
                            font: {
                                size: 10
                            }
                        }
                    },
                    y: {
                        beginAtZero: true,
                        ticks: {
                            stepSize: 1,
                            font: {
                                size: 10
                            }
                        },
                        grid: {
                            color: 'rgba(0, 0, 0, 0.05)'
                        }
                    }
                },
                elements: {
                    point: {
                        hoverRadius: 6
                    }
                }
            }
        });
    }

    // ç²å–æ¯æ—¥çµ±è¨ˆæ•¸æ“š
    function getDailyData() {
        const now = new Date();
        const labels = [];
        const goodData = [];
        const badData = [];
        
        // ç”Ÿæˆéå»14å¤©çš„æ•¸æ“š
        for (let i = 13; i >= 0; i--) {
            const date = new Date(now);
            date.setDate(date.getDate() - i);
            const dateStr = formatDate(date);
            
            labels.push(`${date.getMonth() + 1}/${date.getDate()}`);
            
            // è¨ˆç®—è©²æ—¥çš„å¥½æ—¥å­å’Œçˆ›æ—¥å­æ•¸é‡
            let goodCount = 0;
            let badCount = 0;
            
            filledDates.forEach(data => {
                if (data.date === dateStr) {
                    if (data.mood === 'good') {
                        goodCount++;
                    } else {
                        badCount++;
                    }
                }
            });
            
            goodData.push(goodCount);
            badData.push(badCount);
        }
        
        return { labels, good: goodData, bad: badData };
    }

    // æ›´æ–°åœ–è¡¨
    function updateChart() {
        if (dailyChart) {
            const dailyData = getDailyData();
            dailyChart.data.labels = dailyData.labels;
            dailyChart.data.datasets[0].data = dailyData.good;
            dailyChart.data.datasets[1].data = dailyData.bad;
            dailyChart.update();
        }
    }

    // é¡¯ç¤ºéš¨æ©Ÿå­ä¸–èªéŒ„
    function showRandomQuote() {
        const randomQuote = quotes[Math.floor(Math.random() * quotes.length)];
        document.getElementById('quoteText').textContent = randomQuote;
        
        const display = document.getElementById('quoteDisplay');
        display.style.display = 'block';
        
        // æ·»åŠ å‹•ç•«æ•ˆæœ
        const container = display.querySelector('.quote-container');
        container.style.animation = 'quote-slide 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94)';
        
        // è‡ªå‹•æ»¾å‹•åˆ°èªéŒ„ä½ç½®
        setTimeout(() => {
            display.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }, 100);
        
        // 5ç§’å¾Œè‡ªå‹•éš±è—
        setTimeout(() => {
            hideQuote();
        }, 5000);
    }

    // éš±è—èªéŒ„
    function hideQuote() {
        const display = document.getElementById('quoteDisplay');
        display.style.display = 'none';
    }

    // åŒ¯å‡ºæ•¸æ“š
    function exportData() {
        const data = {
            exportDate: new Date().toISOString(),
            totalRecords: filledDates.size,
            records: Array.from(filledDates.entries()).map(([index, data]) => ({
                cellIndex: index,
                ...data
            }))
        };
        
        const blob = new Blob([JSON.stringify(data, null, 2)], { 
            type: 'application/json' 
        });
        
        const url = URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url;
        a.download = `resignation-card-${new Date().toISOString().split('T')[0]}.json`;
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
        URL.revokeObjectURL(url);
    }

    // é¡¯ç¤ºå®Œæˆè¨Šæ¯
    function showCompletionMessage() {
        const modal = document.getElementById('easterEggModal');
        const content = modal.querySelector('.modal-content');
        
        content.innerHTML = `
            <div class="text-6xl mb-6 animate-bounce">ğŸ†</div>
            <h3 class="text-2xl font-bold text-primary-800 mb-4">æ­å–œå®Œæˆé›¢è·é›†é»ï¼</h3>
            <p class="text-primary-700 mb-6 font-handwrite-3 text-lg leading-relaxed">
                100æ ¼å…¨éƒ¨é›†æ»¿ï¼<br>
                æ˜¯æ™‚å€™å‘è€é—†èªªå†è¦‹äº†ï¼ğŸ‰<br><br>
                <small class="text-sm opacity-75">è¨˜å¾—å¸¶èµ°æ‰€æœ‰å±¬æ–¼ä½ çš„æ±è¥¿</small>
            </p>
            <div class="space-y-3">
                <button onclick="shareAchievement()" 
                        class="w-full bg-gradient-to-r from-accent-600 to-accent-700 hover:from-accent-700 hover:to-accent-800 text-white px-8 py-3 rounded-xl font-medium transition-all duration-200 transform hover:scale-105">
                    <i class="fas fa-share mr-2"></i>åˆ†äº«æˆå°±
                </button>
                <button onclick="hideEasterEgg()" 
                        class="w-full bg-gradient-to-r from-primary-600 to-primary-700 hover:from-primary-700 hover:to-primary-800 text-white px-8 py-3 rounded-xl font-medium transition-all duration-200 transform hover:scale-105">
                    æº–å‚™é›¢è·ï¼
                </button>
            </div>
        `;
        
        modal.classList.remove('hidden');
        modal.classList.add('flex');
        
        setTimeout(() => {
            modal.classList.add('modal-open');
        }, 10);
    }

    // åˆ†äº«æˆå°±
    function shareAchievement() {
        if (navigator.share) {
            navigator.share({
                title: 'é›¢è·é›†é»å¡å®Œæˆï¼',
                text: 'æˆ‘å®Œæˆäº†100æ ¼é›¢è·é›†é»å¡ï¼æ˜¯æ™‚å€™èªªå†è¦‹äº†ï¼',
                url: window.location.href
            });
        } else {
            // è¤‡è£½åˆ°å‰ªè²¼ç°¿
            navigator.clipboard.writeText('æˆ‘å®Œæˆäº†100æ ¼é›¢è·é›†é»å¡ï¼æ˜¯æ™‚å€™èªªå†è¦‹äº†ï¼ ' + window.location.href);
            showAlert('å·²è¤‡è£½åˆ†äº«æ–‡å­—åˆ°å‰ªè²¼ç°¿ï¼');
        }
    }

    // é¡¯ç¤ºå½©è›‹
    function showEasterEgg() {
        const modal = document.getElementById('easterEggModal');
        modal.classList.remove('hidden');
        modal.classList.add('flex');
        
        setTimeout(() => {
            modal.classList.add('modal-open');
        }, 10);
    }

    // éš±è—å½©è›‹
    function hideEasterEgg() {
        const modal = document.getElementById('easterEggModal');
        modal.classList.remove('modal-open');
        
        setTimeout(() => {
            modal.classList.add('hidden');
            modal.classList.remove('flex');
        }, 300);
    }

    // é»æ“ŠèƒŒæ™¯é—œé–‰æ¨¡æ…‹æ¡†
    document.getElementById('eventModal').addEventListener('click', function(e) {
        if (e.target === this) {
            closeEventModal();
        }
    });

    document.getElementById('confirmModal').addEventListener('click', function(e) {
        if (e.target === this) {
            closeConfirmModal();
        }
    });

    document.getElementById('easterEggModal').addEventListener('click', function(e) {
        if (e.target === this) {
            hideEasterEgg();
        }
    });

    // éµç›¤å¿«æ·éµ
    document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape') {
            hideEasterEgg();
            closeEventModal();
            closeConfirmModal();
            hideQuote();
        }
        
        if ((e.ctrlKey || e.metaKey) && e.key === 's') {
            e.preventDefault();
            exportData();
        }
    });

    // è¼‰å…¥å®Œæˆå‹•ç•«
    window.addEventListener('load', function() {
        const elements = document.querySelectorAll('.animate-fade-in, .animate-slide-up');
        elements.forEach((el, index) => {
            el.style.opacity = '0';
            el.style.transform = 'translateY(50px)';
            
            setTimeout(() => {
                el.style.transition = 'all 1s cubic-bezier(0.25, 0.46, 0.45, 0.94)';
                el.style.opacity = '1';
                el.style.transform = 'translateY(0)';
            }, index * 150);
        });
    });

    // PWA Manifest ç”Ÿæˆ
    const manifest = {
        name: "é›¢è·é›†é»å¡",
        short_name: "é›¢è·é›†é»",
        description: "è¨˜éŒ„æ¯ä¸€å¤©çš„é›¢è·é›†é»ï¼Œé‚å‘è‡ªç”±ä¹‹è·¯",
        start_url: "/",
        display: "standalone",
        background_color: "#f0f9f4",
        theme_color: "#3da35d",
        icons: [
            {
                src: "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTkyIiBoZWlnaHQ9IjE5MiIgdmlld0JveD0iMCAwIDE5MiAxOTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxOTIiIGhlaWdodD0iMTkyIiByeD0iMjQiIGZpbGw9IiMzZGEzNWQiLz4KPHN2ZyB4PSI0OCIgeT0iNDgiIHdpZHRoPSI5NiIgaGVpZ2h0PSI5NiIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJ3aGl0ZSI+CjxwYXRoIGQ9Ik05IDEyTDExIDE0TDE1IDEwTTIxIDEyQzIxIDE2Ljk3MDYgMTYuOTcwNiAyMSAxMiAyMUM3LjAyOTQ0IDIxIDMgMTYuOTcwNiAzIDEyQzMgNy4wMjk0NCA3LjAyOTQ0IDMgMTIgM0MxNi45NzA2IDMgMjEgNy4wMjk0NCAyMSAxMloiIHN0cm9rZT0iY3VycmVudENvbG9yIiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8L3N2Zz4KPC9zdmc+",
                sizes: "192x192",
                type: "image/svg+xml"
            }
        ]
    };

    // å‹•æ…‹æ’å…¥ manifest
    const manifestBlob = new Blob([JSON.stringify(manifest)], { type: 'application/json' });
    const manifestURL = URL.createObjectURL(manifestBlob);
    const link = document.createElement('link');
    link.rel = 'manifest';
    link.href = manifestURL;
    document.head.appendChild(link);
</script>


</body>
</html>