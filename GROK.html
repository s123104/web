<!DOCTYPE html>
<html lang="zh-TW" class="scroll-smooth">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Grok Live Search 功能與指南</title>

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Noto+Sans+TC:wght@400;500;600;700&display=swap" rel="stylesheet">
  
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
  
  <!-- Animate.css -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
  
  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>

  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: { 
              50: '#eff6ff',
              100: '#dbeafe', 
              200: '#bfdbfe',
              300: '#93c5fd',
              400: '#60a5fa',
              500: '#3b82f6',
              600: '#2563eb',
              700: '#1d4ed8',
              800: '#1e40af',
              900: '#1e3a8a'
            },
            secondary: { 
              50: '#fffbeb',
              100: '#fef3c7',
              200: '#fde68a',
              300: '#fcd34d',
              400: '#fbbf24',
              500: '#f59e0b',
              600: '#d97706',
              700: '#b45309',
              800: '#92400e',
              900: '#78350f'
            },
            neutral: { 
              50: '#f9fafb',
              100: '#f3f4f6',
              200: '#e5e7eb',
              300: '#d1d5db',
              400: '#9ca3af',
              500: '#6b7280',
              600: '#4b5563',
              700: '#374151',
              800: '#1f2937',
              900: '#111827'
            },
            accent: { 
              400: '#34d399',
              500: '#10b981',
              600: '#059669'
            },
            success: '#22c55e',
            danger: '#ef4444'
          },
          spacing: {
            '0.25': '0.0625rem',
            '18': '4.5rem',
            '22': '5.5rem',
            'section-py': 'clamp(2.5rem, 6vw, 5rem)',
            'container-px': 'clamp(1rem, 5vw, 3rem)'
          },
          fontFamily: {
            sans: ['Inter', 'Noto Sans TC', 'system-ui', 'sans-serif']
          },
          animation: {
            fadeInUp: 'fadeInUp 0.6s ease-out forwards',
            fadeInLeft: 'fadeInLeft 0.6s ease-out forwards',
            slideDown: 'slideDown 0.3s ease-out',
            modalEnter: 'modalEnter 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards'
          },
          keyframes: {
            fadeInUp: {
              '0%': { opacity: '0', transform: 'translateY(30px)' },
              '100%': { opacity: '1', transform: 'translateY(0)' }
            },
            fadeInLeft: {
              '0%': { opacity: '0', transform: 'translateX(-30px)' },
              '100%': { opacity: '1', transform: 'translateX(0)' }
            },
            slideDown: {
              '0%': { opacity: '0', transform: 'translateY(-10px)' },
              '100%': { opacity: '1', transform: 'translateY(0)' }
            },
            modalEnter: {
              '0%': { opacity: '0', transform: 'scale(0.8) translateY(20px)' },
              '100%': { opacity: '1', transform: 'scale(1) translateY(0)' }
            }
          }
        }
      }
    };
  </script>

  <style>
    body {
      font-family: theme('fontFamily.sans');
      background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
      color: theme('colors.neutral.800');
      -webkit-font-smoothing: antialiased;
      padding-top: 4rem;
    }
    @media (min-width: 768px) { 
      body { padding-top: 5rem; } 
    }

    /* Code block styling */
    pre {
      @apply bg-neutral-900 text-neutral-100 p-6 rounded-xl shadow-lg overflow-x-auto relative font-mono text-sm leading-relaxed;
      border: 1px solid rgba(59, 130, 246, 0.2);
    }
    
    pre code {
      @apply block whitespace-pre-wrap break-words;
    }
    
    .copy-button {
      @apply absolute top-4 right-4 bg-primary-600 hover:bg-primary-700 text-white text-xs py-2 px-3 rounded-md transition-all duration-200 ease-out opacity-80 hover:opacity-100;
      backdrop-filter: blur(4px);
    }
    
    .copy-button:hover { 
      transform: scale(1.05); 
    }
    
    .copy-button.copied {
      @apply bg-accent-500;
    }

    /* Scrollbar styling */
    pre::-webkit-scrollbar {
      height: 8px;
      width: 8px;
    }
    pre::-webkit-scrollbar-thumb {
      background: linear-gradient(90deg, theme('colors.primary.500'), theme('colors.primary.600'));
      border-radius: 4px;
    }
    pre::-webkit-scrollbar-track {
      background: theme('colors.neutral.700');
      border-radius: 4px;
    }

    /* Hamburger menu animation */
    .hamburger {
      @apply flex flex-col justify-center items-center w-6 h-6 cursor-pointer;
    }
    .hamburger div {
      @apply w-6 h-0.5 bg-neutral-700 my-0.5 transition-all duration-300 ease-in-out;
    }
    .hamburger.open div:nth-child(1) { 
      transform: rotate(45deg) translate(5px, 5px); 
    }
    .hamburger.open div:nth-child(2) { 
      opacity: 0; 
    }
    .hamburger.open div:nth-child(3) { 
      transform: rotate(-45deg) translate(7px, -6px); 
    }

    /* Typography hierarchy */
    h1 { 
      @apply text-4xl md:text-5xl font-bold text-primary-800 mb-6 leading-tight; 
    }
    h2 { 
      @apply text-3xl md:text-4xl font-semibold text-primary-700 mt-16 mb-6 leading-tight; 
    }
    h3 { 
      @apply text-xl md:text-2xl font-medium text-neutral-800 mt-8 mb-4; 
    }
    
    .prose p { 
      @apply mb-6 leading-relaxed text-neutral-700 text-lg; 
    }
    .prose ul, .prose ol { 
      @apply list-disc pl-6 mb-6 space-y-2 text-neutral-700; 
    }
    .prose li {
      @apply text-lg leading-relaxed;
    }
    .prose code { 
      @apply bg-primary-50 text-primary-700 px-2 py-1 rounded-md text-sm font-medium border border-primary-200; 
    }

    /* Card styling */
    .feature-card {
      @apply bg-white p-6 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 border border-neutral-100;
      background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);
    }
    
    .feature-card:hover {
      transform: translateY(-4px);
    }

    /* Alert box styling */
    .alert {
      @apply p-6 rounded-xl border-l-4 shadow-sm;
      background: linear-gradient(135deg, rgba(59, 130, 246, 0.05) 0%, rgba(59, 130, 246, 0.02) 100%);
    }

    /* Easter egg modal */
    .easter-egg-modal {
      @apply fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[9999] p-4;
      backdrop-filter: blur(4px);
    }
    
    .easter-egg-modal-content {
      @apply bg-white p-8 rounded-2xl shadow-2xl max-w-md w-full relative;
      animation: modalEnter 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
    }

    /* Scroll target animation */
    .scroll-target {
      opacity: 0;
      transform: translateY(30px);
    }
    
    .scroll-target.animate {
      animation: fadeInUp 0.6s ease-out forwards;
    }

    /* Navigation active state */
    .nav-link {
      @apply relative text-neutral-600 hover:text-primary-600 transition-colors duration-200;
    }
    
    .nav-link::after {
      content: '';
      @apply absolute bottom-0 left-0 w-0 h-0.5 bg-primary-500 transition-all duration-300;
    }
    
    .nav-link:hover::after {
      @apply w-full;
    }

    /* Syntax highlighting */
    .token.string { color: #22c55e; }
    .token.number { color: #f59e0b; }
    .token.boolean { color: #3b82f6; }
    .token.keyword { color: #8b5cf6; }
    .token.comment { color: #6b7280; font-style: italic; }
  </style>
</head>

<body>
  <!-- Header -->
  <header class="bg-white/80 backdrop-blur-md shadow-lg fixed top-0 left-0 right-0 z-50 border-b border-neutral-200">
    <div class="container mx-auto px-container-px h-16 md:h-20 flex items-center justify-between">
      <a href="#" class="text-2xl md:text-3xl font-bold text-primary-600 flex items-center group">
        <i class="fas fa-bolt mr-2 group-hover:text-secondary-500 transition-colors duration-200"></i> 
        <span class="bg-gradient-to-r from-primary-600 to-primary-700 bg-clip-text text-transparent">Grok Live Search</span>
      </a>
      
      <nav class="hidden md:flex space-x-8 items-center">
        <a href="#overview" class="nav-link">功能概述</a>
        <a href="#quick-start" class="nav-link">快速開始</a>
        <a href="#api-params" class="nav-link">API 參數</a>
        <a href="#use-cases" class="nav-link">使用場景</a>
        <a href="https://x.ai/api" target="_blank" rel="noopener noreferrer" 
           class="bg-gradient-to-r from-primary-600 to-primary-700 hover:from-primary-700 hover:to-primary-800 text-white py-2.5 px-5 rounded-lg transition-all duration-200 transform hover:scale-105 shadow-md hover:shadow-lg">
          申請 API <i class="fas fa-external-link-alt ml-1 text-xs"></i>
        </a>
      </nav>
      
      <button id="hamburgerBtn" class="md:hidden hamburger p-2 focus:outline-none">
        <div></div><div></div><div></div>
      </button>
    </div>
    
    <nav id="mobileMenu" class="md:hidden hidden bg-white/95 backdrop-blur-md shadow-lg border-t border-neutral-200">
      <div class="py-4 space-y-2">
        <a href="#overview" class="block py-3 px-6 hover:bg-primary-50 hover:text-primary-600 transition-colors">功能概述</a>
        <a href="#quick-start" class="block py-3 px-6 hover:bg-primary-50 hover:text-primary-600 transition-colors">快速開始</a>
        <a href="#api-params" class="block py-3 px-6 hover:bg-primary-50 hover:text-primary-600 transition-colors">API 參數</a>
        <a href="#use-cases" class="block py-3 px-6 hover:bg-primary-50 hover:text-primary-600 transition-colors">使用場景</a>
        <a href="https://x.ai/api" target="_blank" rel="noopener noreferrer" 
           class="block py-3 px-6 bg-primary-600 hover:bg-primary-700 text-white text-center transition-colors">申請 API</a>
      </div>
    </nav>
  </header>

  <!-- Main Content -->
  <main class="container mx-auto px-container-px py-section-py prose max-w-5xl">
    
    <!-- Hero Section -->
    <section id="intro" class="scroll-target text-center mb-20">
      <h1 class="mb-8">Grok Live Search 功能與指南</h1>
      <p class="text-xl text-neutral-600 mb-12 max-w-3xl mx-auto leading-relaxed">
        由 xAI 推出的即時搜尋功能，讓您的應用程式與最新資訊同步，實現真正的即時智能對話體驗。
      </p>
      
      <div class="alert border-primary-300 mb-12">
        <div class="flex items-start">
          <i class="fas fa-info-circle mr-4 text-3xl text-primary-600 flex-shrink-0 mt-1"></i>
          <div class="text-left">
            <p class="font-bold text-primary-800 text-lg mb-2">Beta 測試階段</p>
            <p class="text-neutral-700 mb-0">
              免費使用至 2025 年 6 月 5 日。使用即表示同意 xAI 收集搜尋資料以改進服務。建議使用獨立 API 金鑰進行測試。
            </p>
          </div>
        </div>
      </div>
      
      <div class="grid md:grid-cols-3 gap-8 mt-16">
        <div class="feature-card text-center">
          <i class="fas fa-search text-4xl text-primary-600 mb-4"></i>
          <h3 class="font-bold text-xl mb-3">即時搜尋</h3>
          <p class="text-neutral-600">從 X 平台、新聞、網頁獲取最新資訊</p>
        </div>
        <div class="feature-card text-center">
          <i class="fas fa-brain text-4xl text-secondary-500 mb-4"></i>
          <h3 class="font-bold text-xl mb-3">智能判斷</h3>
          <p class="text-neutral-600">自動決定何時需要搜尋外部資料</p>
        </div>
        <div class="feature-card text-center">
          <i class="fas fa-globe text-4xl text-accent-500 mb-4"></i>
          <h3 class="font-bold text-xl mb-3">多語支援</h3>
          <p class="text-neutral-600">增強多語言能力，適用全球應用</p>
        </div>
      </div>
    </section>

    <!-- Overview -->
    <section id="overview" class="scroll-target">
      <h2><i class="fas fa-binoculars mr-3 text-primary-600"></i>功能概述</h2>
      <p>
        Grok Live Search 是 xAI 推出的革命性即時搜尋功能，支援 Grok 3 模型（<code>grok-3-latest</code>）從 X 平台、網頁、新聞及 RSS 資訊源獲取最新資料，確保回應即時且相關。適用於即時新聞、天氣查詢、社群趨勢分析等多種場景。
      </p>
      
      <h3><i class="fas fa-star mr-2 text-secondary-500"></i>關鍵特性</h3>
      <ul class="space-y-3">
        <li class="flex items-start">
          <i class="fas fa-bolt text-primary-500 mr-3 mt-1 flex-shrink-0"></i>
          <div>
            <strong>即時整合</strong>：自動查詢外部資料，無需手動更新知識庫，確保資訊始終最新。
          </div>
        </li>
        <li class="flex items-start">
          <i class="fas fa-toggle-on text-primary-500 mr-3 mt-1 flex-shrink-0"></i>
          <div>
            <strong>靈活模式</strong>：支援 <code>off</code>、<code>auto</code>（預設）、<code>on</code> 三種搜尋模式，滿足不同需求。
          </div>
        </li>
        <li class="flex items-start">
          <i class="fas fa-language text-primary-500 mr-3 mt-1 flex-shrink-0"></i>
          <div>
            <strong>多語言支援</strong>：Grok 3 增強多語言能力，適用於全球化應用開發。
          </div>
        </li>
        <li class="flex items-start">
          <i class="fas fa-link text-primary-500 mr-3 mt-1 flex-shrink-0"></i>
          <div>
            <strong>來源引用</strong>：可選擇返回資料來源連結，提升答案可信度與透明度。
          </div>
        </li>
      </ul>
    </section>

    <!-- Quick Start -->
    <section id="quick-start" class="scroll-target">
      <h2><i class="fas fa-rocket mr-3 text-primary-600"></i>快速開始</h2>
      
      <div class="grid md:grid-cols-3 gap-6 mb-12">
        <div class="feature-card">
          <div class="flex items-center mb-4">
            <div class="w-12 h-12 bg-primary-100 rounded-full flex items-center justify-center mr-4">
              <i class="fas fa-key text-primary-600 text-xl"></i>
            </div>
            <h3 class="font-bold text-xl">1. 申請金鑰</h3>
          </div>
          <p class="text-neutral-600">
            在 <a href="https://x.ai/api" target="_blank" rel="noopener noreferrer" class="text-primary-600 hover:text-primary-700 underline">xAI 平台</a>註冊並獲取 API 金鑰，設定環境變數 <code>XAI_API_KEY</code>。
          </p>
        </div>
        
        <div class="feature-card">
          <div class="flex items-center mb-4">
            <div class="w-12 h-12 bg-secondary-100 rounded-full flex items-center justify-center mr-4">
              <i class="fas fa-code text-secondary-600 text-xl"></i>
            </div>
            <h3 class="font-bold text-xl">2. 構建請求</h3>
          </div>
          <p class="text-neutral-600">
            在 Chat Completions API 中加入 <code>search_parameters</code> 參數啟用搜尋功能。
          </p>
        </div>
        
        <div class="feature-card">
          <div class="flex items-center mb-4">
            <div class="w-12 h-12 bg-accent-100 rounded-full flex items-center justify-center mr-4">
              <i class="fas fa-play text-accent-600 text-xl"></i>
            </div>
            <h3 class="font-bold text-xl">3. 測試功能</h3>
          </div>
          <p class="text-neutral-600">
            使用即時問題（如「今日科技新聞」）驗證搜尋效果和回應品質。
          </p>
        </div>
      </div>

      <h3><i class="fab fa-python mr-2 text-secondary-500"></i>Python 範例</h3>
      <div class="relative">
        <button onclick="copyToClipboard(this, 'quickStartCode')" class="copy-button">
          <i class="fas fa-copy mr-1"></i>複製
        </button>
        <pre id="quickStartCode"><code>import requests
import os

# 設置 API 金鑰
XAI_API_KEY = os.getenv("XAI_API_KEY")
API_URL = "https://api.x.ai/experimental/chat/completions"

headers = {
    "Authorization": f"Bearer {XAI_API_KEY}",
    "Content-Type": "application/json"
}

# 構建請求負載
payload = {
    "model": "grok-3-latest",
    "messages": [
        {"role": "user", "content": "今天科技界發生哪些重要事件？"}
    ],
    "search_parameters": {
        "mode": "auto",                    # 自動決定是否搜尋
        "return_citations": True,          # 返回資料來源
        "max_search_results": 10,          # 最多搜尋 10 個結果
        "country": "TW",                   # 限定台灣地區
        "safe_search": True                # 啟用安全搜尋
    }
}

# 發送請求
try:
    response = requests.post(API_URL, headers=headers, json=payload)
    response.raise_for_status()
    
    result = response.json()
    print("回應內容:", result['choices'][0]['message']['content'])
    
    # 檢查是否有引用來源
    if 'citations' in result:
        print("\n資料來源:")
        for citation in result['citations']:
            print(f"- {citation}")
            
except requests.exceptions.RequestException as e:
    print(f"請求錯誤: {e}")
except KeyError as e:
    print(f"回應格式錯誤: {e}")
</code></pre>
      </div>

      <h3><i class="fab fa-js-square mr-2 text-secondary-500"></i>JavaScript 範例</h3>
      <div class="relative">
        <button onclick="copyToClipboard(this, 'jsCode')" class="copy-button">
          <i class="fas fa-copy mr-1"></i>複製
        </button>
        <pre id="jsCode"><code>const XAI_API_KEY = process.env.XAI_API_KEY;
const API_URL = "https://api.x.ai/experimental/chat/completions";

async function searchWithGrok(question) {
    const payload = {
        model: "grok-3-latest",
        messages: [
            { role: "user", content: question }
        ],
        search_parameters: {
            mode: "auto",
            return_citations: true,
            max_search_results: 15,
            country: "TW"
        }
    };

    try {
        const response = await fetch(API_URL, {
            method: 'POST',
            headers: {
                'Authorization': `Bearer ${XAI_API_KEY}`,
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(payload)
        });

        if (!response.ok) {
            throw new Error(`HTTP error! status: ${response.status}`);
        }

        const result = await response.json();
        return {
            content: result.choices[0].message.content,
            citations: result.citations || []
        };
    } catch (error) {
        console.error('搜尋錯誤:', error);
        throw error;
    }
}

// 使用範例
searchWithGrok("最新的 AI 技術發展趨勢")
    .then(result => {
        console.log("回答:", result.content);
        console.log("來源:", result.citations);
    })
    .catch(error => {
        console.error("錯誤:", error);
    });
</code></pre>
      </div>
    </section>

    <!-- API Parameters -->
    <section id="api-params" class="scroll-target">
      <h2><i class="fas fa-sliders-h mr-3 text-primary-600"></i>API 參數詳解</h2>
      <p>
        使用 <code>search_parameters</code> 物件來精確控制搜尋行為，所有參數都是可選的，未指定時將使用預設值。
      </p>

      <div class="bg-white p-8 rounded-xl shadow-lg border border-neutral-200 mb-8">
        <h3><i class="fas fa-cog mr-2 text-secondary-500"></i>核心參數</h3>
        <div class="space-y-6">
          <div class="border-l-4 border-primary-300 pl-6">
            <h4 class="font-bold text-lg mb-2"><code class="bg-primary-50 text-primary-700 px-2 py-1 rounded">mode</code></h4>
            <p class="text-neutral-700 mb-3">控制搜尋行為的核心參數：</p>
            <ul class="space-y-2">
              <li><code>"off"</code> - 完全停用搜尋，僅使用模型知識</li>
              <li><code>"auto"</code> - 預設值，讓模型智能決定是否搜尋</li>
              <li><code>"on"</code> - 強制執行搜尋，每次都會查詢外部資料</li>
            </ul>
          </div>
          
          <div class="border-l-4 border-secondary-300 pl-6">
            <h4 class="font-bold text-lg mb-2"><code class="bg-secondary-50 text-secondary-700 px-2 py-1 rounded">max_search_results</code></h4>
            <p class="text-neutral-700">
              設定每次搜尋返回的最大結果數（1-50），建議值為 10-20 以平衡效率與覆蓋度。
            </p>
          </div>
          
          <div class="border-l-4 border-accent-300 pl-6">
            <h4 class="font-bold text-lg mb-2"><code class="bg-accent-50 text-accent-700 px-2 py-1 rounded">return_citations</code></h4>
            <p class="text-neutral-700">
              設為 <code>true</code> 時，回應將包含資料來源 URL 清單，提升答案可信度。
            </p>
          </div>
        </div>
      </div>

      <h3><i class="fas fa-filter mr-2 text-secondary-500"></i>進階過濾參數</h3>
      <div class="relative">
        <button onclick="copyToClipboard(this, 'apiParamsCode')" class="copy-button">
          <i class="fas fa-copy mr-1"></i>複製
        </button>
        <pre id="apiParamsCode"><code>{
  "search_parameters": {
    // === 基本設定 ===
    "mode": "auto",                          // 搜尋模式
    "max_search_results": 15,                // 結果數量
    "return_citations": true,                // 返回來源
    
    // === 來源控制 ===
    "sources": [
      {
        "type": "web",                       // 網頁搜尋
        "websites": ["techcrunch.com"],      // 指定網站
        "excluded_websites": ["wikipedia.org"] // 排除網站
      },
      {
        "type": "x",                         // X 平台
        "x_handles": ["elonmusk", "OpenAI"]  // 指定帳號
      },
      {
        "type": "news"                       // 新聞來源
      },
      {
        "type": "rss"                        // RSS 資訊源
      }
    ],
    
    // === 時間範圍 ===
    "from_date": "2025-01-01",              // 起始日期
    "to_date": "2025-01-31",                // 結束日期
    
    // === 地區與安全 ===
    "country": "TW",                        // 地區代碼
    "safe_search": true                     // 安全搜尋
  }
}</code></pre>
      </div>

      <div class="grid md:grid-cols-2 gap-8 mt-12">
        <div class="feature-card">
          <h4 class="font-bold text-lg mb-4 flex items-center">
            <i class="fas fa-calendar mr-2 text-primary-500"></i>時間範圍控制
          </h4>
          <ul class="space-y-2 text-neutral-700">
            <li><strong>格式</strong>：YYYY-MM-DD</li>
            <li><strong>用途</strong>：限制搜尋特定時間段的內容</li>
            <li><strong>範例</strong>：搜尋上月的科技新聞</li>
            <li><strong>建議</strong>：結合即時查詢使用相對日期</li>
          </ul>
        </div>
        
        <div class="feature-card">
          <h4 class="font-bold text-lg mb-4 flex items-center">
            <i class="fas fa-globe mr-2 text-secondary-500"></i>地區語言設定
          </h4>
          <ul class="space-y-2 text-neutral-700">
            <li><strong>TW</strong>：台灣繁體中文內容</li>
            <li><strong>CN</strong>：中國大陸簡體中文</li>
            <li><strong>US</strong>：美國英文內容</li>
            <li><strong>JP</strong>：日本日文內容</li>
          </ul>
        </div>
      </div>
    </section>

    <!-- Use Cases -->
    <section id="use-cases" class="scroll-target">
      <h2><i class="fas fa-lightbulb mr-3 text-primary-600"></i>實際應用場景</h2>
      
      <div class="grid md:grid-cols-2 gap-8 mb-12">
        <div class="feature-card">
          <div class="flex items-center mb-4">
            <i class="fas fa-chart-line text-3xl text-primary-600 mr-4"></i>
            <h3 class="font-bold text-xl">即時資訊監控</h3>
          </div>
          <p class="text-neutral-700 mb-4">
            追蹤股市動態、加密貨幣價格、社群輿情等即時變化的資訊。
          </p>
          <div class="bg-neutral-50 p-4 rounded-lg">
            <code class="text-sm">
              "content": "監控 #Tesla 在 X 平台的最新討論和股價變化"
            </code>
          </div>
        </div>
        
        <div class="feature-card">
          <div class="flex items-center mb-4">
            <i class="fas fa-robot text-3xl text-secondary-600 mr-4"></i>
            <h3 class="font-bold text-xl">智慧助理增強</h3>
          </div>
          <p class="text-neutral-700 mb-4">
            為聊天機器人和虛擬助理添加即時問答能力，提升用戶體驗。
          </p>
          <div class="bg-neutral-50 p-4 rounded-lg">
            <code class="text-sm">
              "content": "今天台北的天氣如何？有什麼重要新聞嗎？"
            </code>
          </div>
        </div>
        
        <div class="feature-card">
          <div class="flex items-center mb-4">
            <i class="fas fa-pen-fancy text-3xl text-accent-600 mr-4"></i>
            <h3 class="font-bold text-xl">內容創作支援</h3>
          </div>
          <p class="text-neutral-700 mb-4">
            為創作者提供最新素材，包括趨勢話題、新聞事件、技術發展等。
          </p>
          <div class="bg-neutral-50 p-4 rounded-lg">
            <code class="text-sm">
              "content": "整理本週 AI 領域的重要進展，用於撰寫技術週報"
            </code>
          </div>
        </div>
        
        <div class="feature-card">
          <div class="flex items-center mb-4">
            <i class="fas fa-graduation-cap text-3xl text-primary-500 mr-4"></i>
            <h3 class="font-bold text-xl">學術研究輔助</h3>
          </div>
          <p class="text-neutral-700 mb-4">
            協助研究人員檢索最新論文、學術新聞和專業領域資訊。
          </p>
          <div class="bg-neutral-50 p-4 rounded-lg">
            <code class="text-sm">
              "content": "查找量子計算領域的最新研究突破和學術會議"
            </code>
          </div>
        </div>
      </div>

      <h3><i class="fas fa-star mr-2 text-secondary-500"></i>最佳實踐建議</h3>
      <div class="bg-gradient-to-r from-primary-50 to-secondary-50 p-8 rounded-xl border border-primary-200">
        <div class="grid md:grid-cols-2 gap-8">
          <div>
            <h4 class="font-bold text-lg mb-4 text-primary-800">✅ 推薦做法</h4>
            <ul class="space-y-3">
              <li class="flex items-start">
                <i class="fas fa-check-circle text-accent-500 mr-2 mt-1 flex-shrink-0"></i>
                <span>使用 <code>auto</code> 模式讓模型智能判斷</span>
              </li>
              <li class="flex items-start">
                <i class="fas fa-check-circle text-accent-500 mr-2 mt-1 flex-shrink-0"></i>
                <span>從小數量結果開始測試（5-10 條）</span>
              </li>
              <li class="flex items-start">
                <i class="fas fa-check-circle text-accent-500 mr-2 mt-1 flex-shrink-0"></i>
                <span>啟用 <code>return_citations</code> 提升可信度</span>
              </li>
              <li class="flex items-start">
                <i class="fas fa-check-circle text-accent-500 mr-2 mt-1 flex-shrink-0"></i>
                <span>針對性設定地區和來源過濾</span>
              </li>
            </ul>
          </div>
          
          <div>
            <h4 class="font-bold text-lg mb-4 text-danger">❌ 避免事項</h4>
            <ul class="space-y-3">
              <li class="flex items-start">
                <i class="fas fa-times-circle text-danger mr-2 mt-1 flex-shrink-0"></i>
                <span>過度頻繁的 API 請求</span>
              </li>
              <li class="flex items-start">
                <i class="fas fa-times-circle text-danger mr-2 mt-1 flex-shrink-0"></i>
                <span>一次搜尋過多結果（> 30 條）</span>
              </li>
              <li class="flex items-start">
                <i class="fas fa-times-circle text-danger mr-2 mt-1 flex-shrink-0"></i>
                <span>忽略錯誤處理和重試機制</span>
              </li>
              <li class="flex items-start">
                <i class="fas fa-times-circle text-danger mr-2 mt-1 flex-shrink-0"></i>
                <span>在生產環境使用 Beta API 金鑰</span>
              </li>
            </ul>
          </div>
        </div>
      </div>

      <div class="mt-12 feature-card">
        <h4 class="font-bold text-xl mb-6 flex items-center">
          <i class="fas fa-code-branch mr-2 text-primary-600"></i>進階整合範例
        </h4>
        <div class="relative">
          <button onclick="copyToClipboard(this, 'advancedCode')" class="copy-button">
            <i class="fas fa-copy mr-1"></i>複製
          </button>
          <pre id="advancedCode"><code>class GrokLiveSearch:
    def __init__(self, api_key: str):
        self.api_key = api_key
        self.base_url = "https://api.x.ai/experimental/chat/completions"
        self.session = requests.Session()
        self.session.headers.update({
            "Authorization": f"Bearer {api_key}",
            "Content-Type": "application/json"
        })
    
    async def search(self, query: str, **kwargs) -> dict:
        """執行即時搜尋查詢"""
        default_params = {
            "mode": "auto",
            "max_search_results": 15,
            "return_citations": True,
            "safe_search": True
        }
        
        # 合併用戶參數
        search_params = {**default_params, **kwargs}
        
        payload = {
            "model": "grok-3-latest",
            "messages": [{"role": "user", "content": query}],
            "search_parameters": search_params
        }
        
        try:
            response = await self.session.post(
                self.base_url, 
                json=payload,
                timeout=30
            )
            response.raise_for_status()
            
            result = response.json()
            return {
                "content": result["choices"][0]["message"]["content"],
                "citations": result.get("citations", []),
                "usage": result.get("usage", {}),
                "search_performed": "citations" in result
            }
            
        except requests.exceptions.Timeout:
            raise Exception("請求超時，請稍後重試")
        except requests.exceptions.HTTPError as e:
            raise Exception(f"API 錯誤: {e.response.status_code}")
    
    def search_news(self, topic: str, days: int = 7) -> dict:
        """搜尋指定天數內的新聞"""
        from datetime import datetime, timedelta
        
        end_date = datetime.now()
        start_date = end_date - timedelta(days=days)
        
        return self.search(
            f"{topic} 相關新聞",
            sources=[{"type": "news"}],
            from_date=start_date.strftime("%Y-%m-%d"),
            to_date=end_date.strftime("%Y-%m-%d"),
            country="TW"
        )
    
    def search_social(self, hashtag: str, handles: list = None) -> dict:
        """搜尋社群媒體討論"""
        sources = [{"type": "x"}]
        if handles:
            sources[0]["x_handles"] = handles
            
        return self.search(
            f"#{hashtag} 最新討論",
            sources=sources,
            max_search_results=20
        )

# 使用範例
grok = GrokLiveSearch(os.getenv("XAI_API_KEY"))

# 搜尋最新科技新聞
tech_news = await grok.search_news("人工智慧", days=3)
print(f"新聞內容: {tech_news['content']}")
print(f"資料來源: {tech_news['citations']}")

# 搜尋特定 X 帳號討論
social_discussion = await grok.search_social(
    "AI", 
    handles=["elonmusk", "OpenAI"]
)
</code></pre>
        </div>
      </div>
    </section>

  </main>

  <!-- Footer -->
  <footer class="bg-gradient-to-r from-neutral-800 to-neutral-900 text-neutral-200 py-12">
    <div class="container mx-auto px-container-px">
      <div class="grid md:grid-cols-3 gap-8 mb-8">
        <div>
          <h3 class="font-bold text-xl mb-4 text-white">相關資源</h3>
          <ul class="space-y-2">
            <li><a href="https://x.ai" target="_blank" rel="noopener noreferrer" class="hover:text-primary-400 transition-colors">xAI 官網</a></li>
            <li><a href="https://x.ai/api" target="_blank" rel="noopener noreferrer" class="hover:text-primary-400 transition-colors">API 文檔</a></li>
            <li><a href="https://x.ai/grok" target="_blank" rel="noopener noreferrer" class="hover:text-primary-400 transition-colors">Grok 介紹</a></li>
          </ul>
        </div>
        
        <div>
          <h3 class="font-bold text-xl mb-4 text-white">開發者工具</h3>
          <ul class="space-y-2">
            <li><a href="#" class="hover:text-primary-400 transition-colors">Python SDK</a></li>
            <li><a href="#" class="hover:text-primary-400 transition-colors">JavaScript SDK</a></li>
            <li><a href="#" class="hover:text-primary-400 transition-colors">API 測試工具</a></li>
          </ul>
        </div>
        
        <div>
          <h3 class="font-bold text-xl mb-4 text-white">法律條款</h3>
          <ul class="space-y-2">
            <li><a href="https://x.ai/terms" target="_blank" rel="noopener noreferrer" class="hover:text-primary-400 transition-colors">服務條款</a></li>
            <li><a href="https://x.ai/privacy" target="_blank" rel="noopener noreferrer" class="hover:text-primary-400 transition-colors">隱私政策</a></li>
            <li><a href="https://x.ai/responsible-ai" target="_blank" rel="noopener noreferrer" class="hover:text-primary-400 transition-colors">AI 使用規範</a></li>
          </ul>
        </div>
      </div>
      
      <div class="border-t border-neutral-700 pt-8 text-center">
        <p class="text-neutral-400">
          © 2025 xAI. All rights reserved. | 本指南僅供技術學習與參考使用
        </p>
      </div>
    </div>
  </footer>

  <!-- Easter Egg Button -->
  <button id="easterEggBtn" 
          title="點我三次看看會發生什麼！" 
          class="fixed bottom-6 right-6 w-14 h-14 bg-gradient-to-r from-secondary-500 to-secondary-600 hover:from-secondary-600 hover:to-secondary-700 text-white rounded-full shadow-lg hover:shadow-xl z-40 transition-all duration-300 transform hover:scale-110 flex items-center justify-center">
    <i class="fas fa-magic text-xl"></i>
  </button>

  <!-- JavaScript -->
  <script>
    // Mobile Menu Toggle
    const hamburgerBtn = document.getElementById('hamburgerBtn');
    const mobileMenu = document.getElementById('mobileMenu');
    
    hamburgerBtn.addEventListener('click', () => {
      hamburgerBtn.classList.toggle('open');
      mobileMenu.classList.toggle('hidden');
      
      if (!mobileMenu.classList.contains('hidden')) {
        mobileMenu.style.animation = 'slideDown 0.3s ease-out';
      }
    });
    
    // Close mobile menu when clicking links
    mobileMenu.querySelectorAll('a').forEach(link => {
      link.addEventListener('click', () => {
        hamburgerBtn.classList.remove('open');
        mobileMenu.classList.add('hidden');
      });
    });

    // Smooth Scrolling for Navigation Links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', (e) => {
        e.preventDefault();
        const targetId = anchor.getAttribute('href');
        const target = document.querySelector(targetId);
        
        if (target) {
          const headerOffset = 100; // Account for fixed header
          const elementPosition = target.getBoundingClientRect().top + window.pageYOffset;
          const offsetPosition = elementPosition - headerOffset;
          
          window.scrollTo({
            top: offsetPosition,
            behavior: 'smooth'
          });
        }
      });
    });

    // Copy to Clipboard Function
    function copyToClipboard(button, elementId) {
      const codeElement = document.getElementById(elementId);
      const text = codeElement.textContent;
      
      navigator.clipboard.writeText(text).then(() => {
        const originalHTML = button.innerHTML;
        button.innerHTML = '<i class="fas fa-check mr-1"></i>已複製!';
        button.classList.add('copied');
        
        setTimeout(() => {
          button.innerHTML = originalHTML;
          button.classList.remove('copied');
        }, 2000);
      }).catch(err => {
        console.error('複製失敗:', err);
        // Fallback for older browsers
        const textArea = document.createElement('textarea');
        textArea.value = text;
        document.body.appendChild(textArea);
        textArea.select();
        document.execCommand('copy');
        document.body.removeChild(textArea);
        
        button.innerHTML = '<i class="fas fa-check mr-1"></i>已複製!';
        setTimeout(() => {
          button.innerHTML = '<i class="fas fa-copy mr-1"></i>複製';
        }, 2000);
      });
    }

    // Scroll Animation Observer
    const scrollTargets = document.querySelectorAll('.scroll-target');
    const observerOptions = {
      threshold: 0.1,
      rootMargin: '0px 0px -50px 0px'
    };
    
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('animate');
          observer.unobserve(entry.target);
        }
      });
    }, observerOptions);
    
    scrollTargets.forEach(target => {
      observer.observe(target);
    });

    // Easter Egg Functionality
    let clickCount = 0;
    let clickTimer = null;
    const easterEggBtn = document.getElementById('easterEggBtn');
    
    easterEggBtn.addEventListener('click', () => {
      clickCount++;
      
      // Reset counter after 2 seconds
      if (clickTimer) clearTimeout(clickTimer);
      clickTimer = setTimeout(() => {
        clickCount = 0;
      }, 2000);
      
      // Trigger easter egg after 3 clicks
      if (clickCount >= 3) {
        showEasterEgg();
        clickCount = 0;
      }
    });
    
    // Keyboard shortcut for easter egg
    document.addEventListener('keydown', (e) => {
      if (e.ctrlKey && e.altKey && e.key.toLowerCase() === 'g') {
        e.preventDefault();
        showEasterEgg();
      }
    });
    
    function showEasterEgg() {
      const modal = document.createElement('div');
      modal.className = 'easter-egg-modal';
      modal.innerHTML = `
        <div class="easter-egg-modal-content">
          <button class="absolute top-4 right-4 text-neutral-400 hover:text-neutral-600 text-2xl transition-colors" aria-label="關閉">
            <i class="fas fa-times"></i>
          </button>
          
          <div class="text-center">
            <div class="text-6xl mb-6 animate__animated animate__bounceIn">🚀</div>
            <h3 class="text-2xl font-bold text-primary-700 mb-4">恭喜發現彩蛋！</h3>
            <p class="text-neutral-600 mb-6 leading-relaxed">
              Grok 說：「有了 Live Search，我的知識就像宇宙一樣無限膨脹！🌌 
              現在我可以即時了解地球上發生的一切，從馬斯克的最新推文到量子物理的突破性發現！」
            </p>
            
            <div class="bg-gradient-to-r from-primary-50 to-secondary-50 p-4 rounded-lg mb-6">
              <p class="text-sm text-neutral-700">
                <i class="fas fa-lightbulb text-secondary-500 mr-2"></i>
                <strong>開發者提示：</strong>記得在生產環境中為 Live Search 申請專用的 API 金鑰喔！
              </p>
            </div>
            
            <button class="bg-gradient-to-r from-primary-600 to-primary-700 hover:from-primary-700 hover:to-primary-800 text-white py-3 px-6 rounded-lg transition-all duration-200 transform hover:scale-105 shadow-md">
              <i class="fas fa-rocket mr-2"></i>繼續探索 Grok！
            </button>
          </div>
        </div>
      `;
      
      document.body.appendChild(modal);
      
      // Close modal functionality
      const closeButtons = modal.querySelectorAll('button');
      closeButtons.forEach(btn => {
        btn.addEventListener('click', () => {
          modal.style.animation = 'fadeOut 0.3s ease-out forwards';
          setTimeout(() => {
            document.body.removeChild(modal);
          }, 300);
        });
      });
      
      // Close on backdrop click
      modal.addEventListener('click', (e) => {
        if (e.target === modal) {
          closeButtons[0].click();
        }
      });
      
      // Close on Escape key
      const escapeHandler = (e) => {
        if (e.key === 'Escape') {
          closeButtons[0].click();
          document.removeEventListener('keydown', escapeHandler);
        }
      };
      document.addEventListener('keydown', escapeHandler);
    }

    // Prevent right-click on easter egg button (just for fun)
    easterEggBtn.addEventListener('contextmenu', (e) => {
      e.preventDefault();
      easterEggBtn.style.animation = 'bounce 0.5s';
      setTimeout(() => {
        easterEggBtn.style.animation = '';
      }, 500);
    });

    // Add floating animation to easter egg button
    setInterval(() => {
      if (!easterEggBtn.matches(':hover')) {
        easterEggBtn.style.transform = 'translateY(-2px)';
        setTimeout(() => {
          easterEggBtn.style.transform = 'translateY(0)';
        }, 1000);
      }
    }, 3000);

    // Add syntax highlighting classes for better code display
    document.querySelectorAll('pre code').forEach((block) => {
      // Simple syntax highlighting for JSON and Python
      let html = block.innerHTML;
      
      // Highlight JSON keys and strings
      html = html.replace(/"([^"]+)":/g, '<span class="token string">"$1"</span>:');
      html = html.replace(/: "([^"]+)"/g, ': <span class="token string">"$1"</span>');
      html = html.replace(/: (true|false)/g, ': <span class="token boolean">$1</span>');
      html = html.replace(/: (\d+)/g, ': <span class="token number">$1</span>');
      
      // Highlight Python keywords
      html = html.replace(/\b(import|from|def|class|if|else|elif|for|while|try|except|return|async|await)\b/g, '<span class="token keyword">$1</span>');
      html = html.replace(/#.*$/gm, '<span class="token comment">$&</span>');
      
      block.innerHTML = html;
    });

    // Performance optimization: Lazy load animations
    const handleVisibilityChange = () => {
      if (document.hidden) {
        // Pause animations when tab is not visible
        document.body.style.animationPlayState = 'paused';
      } else {
        document.body.style.animationPlayState = 'running';
      }
    };
    
    document.addEventListener('visibilitychange', handleVisibilityChange);

    // Initialize page
    document.addEventListener('DOMContentLoaded', () => {
      // Add initial animation to hero section
      setTimeout(() => {
        document.getElementById('intro').classList.add('animate');
      }, 100);
      
      console.log('🚀 Grok Live Search Guide loaded successfully!');
      console.log('💡 Try Ctrl+Alt+G for a surprise...');
    });
  </script>
</body>
</html>