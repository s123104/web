<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grok Live Search 功能與指南</title>

    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Noto+Sans+TC:wght@400;500;700&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" xintegrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" crossorigin="anonymous" referrerpolicy="no-referrer" />

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>

    <script src="https://cdn.tailwindcss.com"></script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        // UI/UX: Defining a clear color palette enhances brand identity and visual consistency.
                        // 'primary' for calls to action and important elements.
                        // 'secondary' for accents or secondary actions.
                        // 'neutral' for text, backgrounds, and UI chrome.
                        // These colors are chosen with WCAG AA contrast in mind for readability.
                        primary: {
                            light: '#60A5FA', // blue-400
                            DEFAULT: '#3B82F6', // blue-500
                            dark: '#2563EB',  // blue-600
                        },
                        secondary: {
                            light: '#FCD34D', // amber-300
                            DEFAULT: '#F59E0B', // amber-500
                            dark: '#D97706',  // amber-600
                        },
                        neutral: {
                            lightest: '#F9FAFB', // gray-50
                            lighter: '#F3F4F6',  // gray-100
                            light: '#E5E7EB',    // gray-200
                            DEFAULT: '#6B7280', // gray-500
                            dark: '#374151',    // gray-700
                            darker: '#1F2937',   // gray-800
                            darkest: '#111827',  // gray-900
                        },
                        accent: {
                            DEFAULT: '#10B981', // emerald-500
                            dark: '#059669',  // emerald-600
                        },
                        success: '#22C55E', // green-500
                        danger: '#EF4444', // red-500
                    },
                    fontFamily: {
                        // UI/UX: Using specific fonts like 'Inter' for UI and 'Noto Sans TC' for content
                        // ensures high readability and a modern aesthetic.
                        sans: ['Inter', 'Noto Sans TC', 'system-ui', '-apple-system', 'BlinkMacSystemFont', '"Segoe UI"', 'Roboto', '"Helvetica Neue"', 'Arial', '"Noto Sans"', 'sans-serif', '"Apple Color Emoji"', '"Segoe UI Emoji"', '"Segoe UI Symbol"', '"Noto Color Emoji"'],
                    },
                    spacing: {
                        // UI/UX: Defining a consistent spacing scale (e.g., 4px base) creates visual rhythm and harmony.
                        // Tailwind's default spacing is quite comprehensive. We can add semantic spacing if needed.
                        '18': '4.5rem', // 72px
                        '22': '5.5rem', // 88px
                        'section-py': 'clamp(2.5rem, 6vw, 5rem)', // Responsive vertical padding for sections
                        'container-px': 'clamp(1rem, 5vw, 3rem)', // Responsive horizontal padding for container
                    },
                    // UI/UX: Using a 12-column grid is a standard for responsive web design,
                    // offering flexibility for various layouts. Tailwind's grid utilities make this easy.
                    gridTemplateColumns: {
                        '12': 'repeat(12, minmax(0, 1fr))',
                    },
                    // Animation keyframes for subtle appearances
                    keyframes: {
                        fadeInUp: {
                            '0%': { opacity: '0', transform: 'translateY(20px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)' },
                        },
                        fadeIn: {
                            '0%': { opacity: '0' },
                            '100%': { opacity: '1' },
                        }
                    },
                    animation: {
                        fadeInUp: 'fadeInUp 0.5s ease-out forwards',
                        fadeIn: 'fadeIn 0.3s ease-out forwards',
                    }
                }
            },
            plugins: [],
        }
    </script>

    <style>
        /* Custom CSS for fine-tuning and specific elements */
        /* UI/UX: Body font and background provide a base for the page's look and feel.
           Antialiasing improves text rendering. */
        body {
            font-family: theme('fontFamily.sans');
            background-color: theme('colors.neutral.lighter');
            color: theme('colors.neutral.darker');
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        /* UI/UX: Custom scrollbar can enhance aesthetics, but ensure it remains functional and accessible. */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        ::-webkit-scrollbar-track {
            background: theme('colors.neutral.light');
        }
        ::-webkit-scrollbar-thumb {
            background: theme('colors.primary.DEFAULT');
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: theme('colors.primary.dark');
        }

        /* UI/UX: Styling for elements that will be animated on scroll.
           Initial state is hidden and slightly offset, then transitions to visible. */
        .scroll-target {
            opacity: 0;
            /* transform: translateY(20px); // Managed by Animate.css classes now */
        }

        /* UI/UX: Code blocks are styled for readability with a dark theme, common in developer documentation.
           The copy button is positioned for easy access. */
        pre[class*="language-"] {
            @apply bg-neutral-darkest text-neutral-lighter p-4 rounded-lg shadow-md overflow-x-auto relative font-mono text-sm my-6;
        }
        pre[class*="language-"] code {
            @apply block whitespace-pre-wrap break-words; /* Ensure long lines wrap and words break */
        }
        .copy-button {
            @apply absolute top-3 right-3 bg-neutral-dark hover:bg-neutral-DEFAULT text-white text-xs py-1 px-3 rounded-md transition-all duration-200 ease-out;
            /* Usability: Clear visual cue, feedback on click, and slight scale on hover for interactivity. */
        }
        .copy-button:hover {
            transform: scale(1.05);
        }

        /* UI/UX: Hamburger menu icon for mobile navigation.
           Transitions provide smooth open/close animation. */
        .hamburger div {
            @apply w-6 h-0.5 bg-neutral-darkest my-1 transition-all duration-300 ease-in-out;
        }
        .hamburger.open div:nth-child(1) {
            @apply rotate-45 translate-y-[6px]; /* Adjusted for better centering */
        }
        .hamburger.open div:nth-child(2) {
            @apply opacity-0;
        }
        .hamburger.open div:nth-child(3) {
            @apply -rotate-45 -translate-y-[6px]; /* Adjusted for better centering */
        }

        /* UI/UX: Consistent heading styles create visual hierarchy.
           Margins provide breathing room around text blocks. */
        h1, h2, h3, h4 {
            @apply font-semibold text-neutral-darkest;
        }
        h1 { @apply text-3xl md:text-4xl lg:text-5xl mb-6 md:mb-8; }
        h2 { @apply text-2xl md:text-3xl mt-10 mb-6 border-b-2 border-primary-light pb-2; }
        h3 { @apply text-xl md:text-2xl mt-8 mb-4 text-primary-dark; }
        h4 { @apply text-lg md:text-xl mt-6 mb-3 text-neutral-dark; }

        /* UI/UX: Links are clearly identifiable and provide hover feedback. */
        a {
            @apply text-accent-DEFAULT hover:text-accent-dark transition-colors duration-200;
        }
        .content-link { /* For links within main content */
             @apply font-medium underline hover:no-underline;
        }


        /* UI/UX: Custom list styling for better visual appeal and readability.
           'leading-relaxed' provides good line spacing for paragraphs and list items.
           'tracking-wide' can improve readability for some sans-serif fonts in body text, but use judiciously.
           Here, we rely on Inter's default tracking which is good. */
        .prose ul { @apply list-disc pl-5 mb-4 space-y-1; }
        .prose ol { @apply list-decimal pl-5 mb-4 space-y-1; }
        .prose li { @apply mb-1 leading-relaxed text-neutral-darker; }
        .prose p { @apply mb-4 leading-relaxed text-neutral-darker; }
        .prose strong { @apply font-semibold text-neutral-darkest; }
        .prose code { /* Inline code */
            @apply bg-neutral-light text-primary-dark font-mono text-sm px-1.5 py-0.5 rounded;
        }

        /* Ensure content isn't hidden behind fixed header */
        body {
            padding-top: 4rem; /* Height of mobile header */
        }
        @screen md {
            body {
                padding-top: 5rem; /* Height of desktop header */
            }
        }
        
        /* Easter Egg Modal Styling */
        .easter-egg-modal {
            @apply fixed inset-0 bg-neutral-darkest bg-opacity-75 flex items-center justify-center z-[9999] p-4;
        }
        .easter-egg-modal-content {
            @apply bg-white p-6 md:p-8 rounded-xl shadow-2xl text-center max-w-md w-full relative;
            animation: modalEnter 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
        }

        @keyframes modalEnter {
            0% { transform: scale(0.7) translateY(20px); opacity: 0; }
            100% { transform: scale(1) translateY(0); opacity: 1; }
        }
    </style>
</head>
<body class="bg-neutral-lighter">

    <!-- UI/UX: A fixed header provides consistent navigation access.
         It adapts from a hamburger menu on mobile to a full menu on desktop.
         Shadow provides depth. `z-50` ensures it's above other content. -->
    <header id="mainHeader" class="bg-white shadow-md fixed top-0 left-0 right-0 z-50 transition-all duration-300">
        <div class="container mx-auto px-container-px h-16 md:h-20 flex items-center justify-between">
            <a href="#" class="text-2xl md:text-3xl font-bold text-primary-DEFAULT flex items-center">
                <i class="fas fa-bolt mr-2"></i> Grok Live
            </a>
            <nav class="hidden md:flex space-x-6 items-center">
                <a href="#overview" class="text-neutral-dark hover:text-primary-DEFAULT font-medium">功能概述</a>
                <a href="#quick-start" class="text-neutral-dark hover:text-primary-DEFAULT font-medium">快速開始</a>
                <a href="#api-params" class="text-neutral-dark hover:text-primary-DEFAULT font-medium">API參數</a>
                <a href="#use-cases" class="text-neutral-dark hover:text-primary-DEFAULT font-medium">使用場景</a>
                <a href="https://x.ai" target="_blank" rel="noopener noreferrer" class="bg-primary-DEFAULT hover:bg-primary-dark text-white font-semibold py-2 px-4 rounded-lg transition transform duration-200 ease-out hover:scale-105">
                    申請 API <i class="fas fa-external-link-alt ml-1 text-xs"></i>
                </a>
            </nav>
            <button id="hamburgerBtn" class="md:hidden hamburger p-2 focus:outline-none">
                <div></div>
                <div></div>
                <div></div>
            </button>
        </div>
        <div id="mobileMenu" class="md:hidden bg-white shadow-lg absolute top-16 left-0 right-0 hidden animate__animated animate__fadeInDown animate__faster">
            <nav class="flex flex-col items-center py-4 space-y-3">
                <a href="#overview" class="block w-full text-center py-2 text-neutral-dark hover:text-primary-DEFAULT hover:bg-neutral-lighter font-medium mobile-menu-link">功能概述</a>
                <a href="#quick-start" class="block w-full text-center py-2 text-neutral-dark hover:text-primary-DEFAULT hover:bg-neutral-lighter font-medium mobile-menu-link">快速開始</a>
                <a href="#api-params" class="block w-full text-center py-2 text-neutral-dark hover:text-primary-DEFAULT hover:bg-neutral-lighter font-medium mobile-menu-link">API參數</a>
                <a href="#use-cases" class="block w-full text-center py-2 text-neutral-dark hover:text-primary-DEFAULT hover:bg-neutral-lighter font-medium mobile-menu-link">使用場景</a>
                <a href="https://x.ai" target="_blank" rel="noopener noreferrer" class="mt-2 bg-primary-DEFAULT hover:bg-primary-dark text-white font-semibold py-2 px-6 rounded-lg transition transform duration-200 ease-out hover:scale-105">
                    申請 API <i class="fas fa-external-link-alt ml-1 text-xs"></i>
                </a>
            </nav>
        </div>
    </header>

    <!-- UI/UX: `container mx-auto` centers content. `px-container-px` provides responsive padding.
         `py-section-py` gives vertical rhythm between sections.
         Each section is a `scroll-target` for animations. -->
    <main class="container mx-auto px-container-px py-section-py prose max-w-4xl">
        <section id="intro" class="scroll-target">
            <h1 class="text-center !mb-2">Grok Live Search 功能與指南</h1>
            <p class="text-center text-lg text-neutral-DEFAULT !mb-12">
                由 xAI 推出的即時搜尋功能，讓您的應用程式與最新資訊同步。
            </p>
            <div class="bg-primary-lightest border-l-4 border-primary-DEFAULT text-primary-darker p-4 rounded-r-lg mb-8" role="alert">
                <div class="flex">
                    <div class="py-1"><i class="fas fa-info-circle mr-3 text-2xl text-primary-DEFAULT"></i></div>
                    <div>
                        <p class="font-bold">Beta 測試階段</p>
                        <p class="text-sm">至 2025 年 6 月 5 日前可免費使用。Beta 期間使用 Live Search 即表示您同意讓 xAI 收集您的搜尋請求資料以改進服務。建議為 Beta 測試創建新的 API 金鑰。</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="overview" class="scroll-target">
            <h2><i class="fas fa-binoculars mr-2 text-primary-DEFAULT"></i>功能概述與使用說明</h2>
            <p>Grok Live Search 是 xAI 推出的即時搜尋功能，允許 Grok 模型從X（原 Twitter）平台、互聯網、熱門新聞、RSS 資訊源等即時數據中搜尋資訊。這讓您的應用能提供更相關、最新的回答，例如即時獲取天氣、新聞趨勢或社群討論內容。</p>
            
            <h3><i class="fas fa-cogs mr-1"></i>即時搜尋整合</h3>
            <p>開啟 Live Search 後，Grok 可以在回答時即時查詢外部最新資訊，確保回答內容及時且基於最新資料。</p>

            <h3><i class="fas fa-toggle-on mr-1"></i>使用方式</h3>
            <p>Live Search 功能是透過在 Chat Completions 請求中加入特殊參數 <code>search_parameters</code> 來啟用的。要控制是否使用即時搜尋，須設定 <code>search_parameters</code> 內的 <code>mode</code> 子參數。</p>
            <ul>
                <li><code>"off"</code>（關閉）：禁用即時搜尋。</li>
                <li><code>"auto"</code>（自動，預設）：允許模型自行決定是否進行搜尋。</li>
                <li><code>"on"</code>（開啟）：強制啟用即時搜尋。</li>
            </ul>
            <p>預設模式為 <code>"auto"</code>。</p>

            <h3><i class="fas fa-microchip mr-1"></i>模型支援</h3>
            <p>Live Search 目前僅支援 Grok 3 系列模型（如 <code>grok-3-latest</code>）。</p>

            <h3><i class="fas fa-database mr-1"></i>資料來源</h3>
            <p>Live Search 從多種來源擷取資訊，包括社群平台 X、網路搜尋引擎、新聞聚合和 RSS 等。開發者可透過參數限制搜尋範圍。</p>
        </section>

        <section id="quick-start" class="scroll-target">
            <h2><i class="fas fa-rocket mr-2 text-primary-DEFAULT"></i>快速開始指南</h2>
            <p>以下步驟可協助您快速在應用中啟用 Grok 的 Live Search 功能：</p>
            <ol>
                <li>
                    <strong>取得 API 存取權限：</strong>
                    確保您已在 <a href="https://x.ai" target="_blank" rel="noopener noreferrer" class="content-link">xAI 平台</a>註冊帳戶並擁有有效的 API 金鑰。建議為 Live Search Beta 申請一組新的 API 金鑰。設定好您的環境變數 <code>XAI_API_KEY</code>。
                    <div class="text-center my-4">
                         <a href="https://x.ai" target="_blank" rel="noopener noreferrer" class="bg-secondary-DEFAULT hover:bg-secondary-dark text-white font-semibold py-3 px-6 rounded-lg transition transform duration-200 ease-out hover:scale-105 inline-flex items-center text-base">
                            <i class="fas fa-key mr-2"></i> 前往 xAI 平台申請金鑰
                        </a>
                    </div>
                </li>
                <li>
                    <strong>構建請求：</strong>
                    使用 xAI 提供的 Chat Completions API 發送對話請求。在請求 JSON 中，加入 <code>search_parameters</code> 參數。例如，在 Python 中：
                    <div class="relative">
                        <button onclick="copyToClipboard(this, 'pythonQuickStartCode')" class="copy-button" aria-label="複製 Python 程式碼">複製</button>
                        <pre id="pythonQuickStartCode" class="language-python"><code>import requests
import os

# UI/UX: Code blocks should be easily copyable. This button facilitates that.
# Make sure to set your XAI_API_KEY environment variable
XAI_API_KEY = os.getenv("XAI_API_KEY") 
# If running locally and XAI_API_KEY is not set, you can use a placeholder for testing UI,
# but for actual API calls, a valid key is required.
# XAI_API_KEY = "YOUR_XAI_API_KEY" # Replace with your actual key if not using env var

API_URL = "https://api.x.ai/experimental/chat/completions" # 假設的 API URL
headers = {
    "Authorization": f"Bearer {XAI_API_KEY}",
    "Content-Type": "application/json"
}

payload = {
    "model": "grok-3-latest",
    "messages": [
        {"role": "user", "content": "What are today's major advancements in tech?"}
    ],
    "search_parameters": {
        "mode": "auto"  # 自動模式，允許模型自行決定是否需要搜尋
    }
}

# try:
#     response = requests.post(API_URL, headers=headers, json=payload)
#     response.raise_for_status() # Raises an HTTPError for bad responses (4XX or 5XX)
#     result = response.json()
#     print(result)
# except requests.exceptions.RequestException as e:
#     print(f"API Request failed: {e}")
# except ValueError:
#     print("Failed to parse JSON response.")

# Mocked response for UI demonstration if API key is not available
print({
    "id": "chatcmpl-mock",
    "object": "chat.completion",
    "created": 1700000000,
    "model": "grok-3-latest",
    "choices": [{
        "index": 0,
        "message": {
            "role": "assistant",
            "content": "Today in tech, there's buzz around new AI developments and sustainable energy solutions..."
        },
        "finish_reason": "stop"
    }],
    "usage": {"prompt_tokens": 15, "completion_tokens": 25, "total_tokens": 40}
})</code></pre>
                    </div>
                    <p class="text-sm text-neutral-DEFAULT mt-1">上述請求中，我們指定了模型 <code>grok-3-latest</code>，並在 <code>search_parameters</code> 中將模式設為 <code>"auto"</code>。</p>
                </li>
                <li>
                    <strong>處理回應：</strong>
                    API 的回應與一般對話完成相似。如果觸發了即時搜尋，模型的回答將融合最新的搜尋結果。回應中可能附帶搜尋的來源資訊。
                </li>
                <li>
                    <strong>測試與驗證：</strong>
                    嘗試提出包含最新事件或數據的問題來測試。例如：「今天科技領域有什麼重大進展？」。對比啟用與未啟用 Live Search 時的回答差異。
                    <p class="mt-2"><strong>範例對比：</strong></p>
                    <ul>
                        <li><strong>未啟用 Live Search 時：</strong>詢問「你知道 The Lost Generator 這個產品嗎？」，Grok 可能回答：「很抱歉，我並不熟悉名為 ‘The Lost Generator’ 的產品…」</li>
                        <li><strong>啟用 Live Search 後：</strong>再次詢問，Grok 可能回答：「是的，我找到了名為 ‘The Lost Generator’ 的產品資訊。然而根據網路上的內容，該產品的合法性存疑…」</li>
                    </ul>
                </li>
            </ol>
        </section>

        <section id="api-params" class="scroll-target">
            <h2><i class="fas fa-sliders-h mr-2 text-primary-DEFAULT"></i>API 請求格式與參數設定</h2>
            <p>在使用 Live Search 功能時，需要在原有的對話請求 JSON 中新增 <code>search_parameters</code> 物件。以下是可用選項：</p>
            <ul>
                <li><code>mode</code> (字串)：搜尋模式 (<code>"off"</code>, <code>"auto"</code>, <code>"on"</code>)。</li>
                <li><code>sources</code> (列表)：資料來源設定。每個元素是物件，可包含 <code>type</code> (<code>"web"</code>, <code>"news"</code>, <code>"x"</code>, <code>"rss"</code>) 及相關子參數 (<code>websites</code>, <code>excluded_websites</code>, <code>x_handles</code>)。
                    <br>範例: <code>"sources": [{"type": "web", "excluded_websites": ["wikipedia.org"]}, {"type": "x", "x_handles": ["elonmusk"]}]</code>
                </li>
                <li><code>from_date</code> / <code>to_date</code> (字串)：日期範圍 (<code>"YYYY-MM-DD"</code>)。</li>
                <li><code>max_search_results</code> (數值)：最大搜尋結果數 (1-50)。xAI 建議 10-20 條。</li>
                <li><code>country</code> (字串)：地區過濾 (例如 <code>"US"</code>, <code>"TW"</code>)。</li>
                <li><code>safe_search</code> (布林)：安全搜尋 (預設 <code>true</code>)。</li>
                <li><code>return_citations</code> (布林)：返回引用 (預設 <code>false</code>)。若設為 <code>true</code>，回應中可能包含 <code>citations</code> 陣列。</li>
            </ul>
            <p><strong>範例回應結構 (節選，當 <code>return_citations: true</code>)：</strong></p>
            <div class="relative">
                <button onclick="copyToClipboard(this, 'jsonResponseExample')" class="copy-button" aria-label="複製 JSON 回應範例">複製</button>
                <pre id="jsonResponseExample" class="language-json"><code>{
   "choices": [
        {
            "message": {
                "role": "assistant",
                "content": "......(模型完整回答)"
            }
            // ... other choice fields
        }
   ],
   "citations": [
       "https://news.example.com/article123",
       "https://x.com/user/status/123456"
   ]
   // ... other top-level fields like id, usage, etc.
}</code></pre>
            </div>
            <p class="text-sm text-neutral-DEFAULT mt-1">💡 注意：未提及的欄位會使用預設值。</p>
        </section>

        <section id="search-queries" class="scroll-target">
            <h2><i class="fas fa-search-location mr-2 text-primary-DEFAULT"></i>搜尋查詢細節與範例</h2>
            <p>Grok 模型會根據使用者提問自動生成語義導向的搜尋查詢。開發者一般無需手動提供查詢，但可透過參數控制搜尋範圍。</p>
            <ul>
                <li><strong>語義型查詢：</strong>模型理解意圖，形成相關查詢。</li>
                <li><strong>查詢優化：</strong>自動添加或排除關鍵詞。</li>
                <li><strong>多次搜尋：</strong>對複雜提問可能進行多輪搜尋。</li>
            </ul>
            <p><strong>範例：</strong>使用者問題「2025 年有哪些新的電動車發表？」，模型可能產生內部查詢如「2025 新 電動車 發表 最新」。</p>
        </section>

        <section id="options-limits" class="scroll-target">
            <h2><i class="fas fa-tools mr-2 text-primary-DEFAULT"></i>可調整選項、限制與回應格式</h2>
            <p>Live Search 提供多項可調整選項，同時也有使用限制：</p>
            <h3><i class="fas fa-sliders-h mr-1"></i>資料來源和範圍控制</h3>
            <p>透過 <code>search_parameters</code> 高度客製搜尋行為 (來源、時間、地區、數量、安全性)。</p>
            <h3><i class="fas fa-file-alt mr-1"></i>回應格式</h3>
            <ul>
                <li><strong>模型回答 (<code>message.content</code>)：</strong>主要文字回答。</li>
                <li><strong>引用來源 (<code>citations</code>)：</strong>若 <code>return_citations: true</code>，包含引用網址列表。</li>
            </ul>
            <h3><i class="fas fa-tachometer-alt mr-1"></i>延遲與性能</h3>
            <p>回應延遲可能略增，xAI 表示平均約 100ms，Beta 期間高併發可能約 200ms。</p>
            <h3><i class="fas fa-chart-pie mr-1"></i>配額與速率限制</h3>
            <ul>
                <li><strong>請求速率：</strong>初始預設每分鐘 50 requests (50 RPM)。</li>
                <li><strong>結果數量：</strong>每次搜尋最多 50 條。</li>
                <li><strong>Beta期間政策：</strong>至 2025/6/5 免費，之後可能引入計費。</li>
            </ul>
            <h3><i class="fas fa-shield-alt mr-1"></i>隱私與合規</h3>
            <p>確保應用符合隱私政策和數據合規要求。</p>
        </section>

        <section id="use-cases" class="scroll-target">
            <h2><i class="fas fa-lightbulb mr-2 text-primary-DEFAULT"></i>使用場景與最佳實踐建議</h2>
            <h3><i class="fas fa-check-circle mr-1"></i>典型應用場景</h3>
            <ol>
                <li>實時資訊監控 (市場走勢、社群輿情)。</li>
                <li>智慧助理/聊天機器人 (即時問答)。</li>
                <li>內容創作 (蒐集最新素材)。</li>
                <li>學術研究 (檢索最新學術新聞、論文)。</li>
            </ol>
            <h3><i class="fas fa-thumbs-up mr-1"></i>最佳實踐與使用建議</h3>
            <ul>
                <li><strong>模式選擇：</strong>建議初次使用 <code>"auto"</code> 模式。</li>
                <li><strong>結果數量調整：</strong>從較小 <code>max_search_results</code> 開始 (如 5-10)，逐步增加。</li>
                <li><strong>日期範圍驗證：</strong>善用 <code>from_date</code>/<code>to_date</code>。</li>
                <li><strong>監控與日誌：</strong>記錄應用請求日誌，提供反饋。</li>
                <li><strong>錯誤處理：</strong>處理 API 可能的錯誤狀況。</li>
                <li><strong>尊重使用政策：</strong>遵守資料來源的版權和使用政策。</li>
            </ul>
            <p class="mt-6">總之，Grok Live Search 大幅擴展了 AI 助手的知識時效性和信息廣度。祝您在開發中玩得愉快、創造出色的應用！🚀</p>
        </section>
    </main>

    <!-- UI/UX: Footer provides copyright information and can include secondary links.
         Clear separation from main content. -->
    <footer class="bg-neutral-darkest text-neutral-light py-8 md:py-12 mt-12">
        <div class="container mx-auto px-container-px text-center">
            <div class="mb-4">
                <a href="https://x.ai" target="_blank" rel="noopener noreferrer" class="text-neutral-light hover:text-primary-light mx-2"><i class="fab fa-xing"></i> xAI</a>
                <a href="#" class="text-neutral-light hover:text-primary-light mx-2">隱私政策</a>
                <a href="#" class="text-neutral-light hover:text-primary-light mx-2">服務條款</a>
            </div>
            <p class="text-sm">&copy; <span id="currentYear"></span> Grok Live Search 指南. 本頁面為 Demo 演示。</p>
            <p class="text-xs mt-2">Grok Live Search 為 xAI 公司產品，所有相關權利歸 xAI 所有。</p>
        </div>
    </footer>

    <!-- UI/UX: A fun, discoverable element. Fixed position for easy access without disrupting layout.
         Icon hints at something playful. `z-40` keeps it above most content but below header/modals. -->
    <button id="easterEggBtn" title="偷偷點我幾下？" class="fixed bottom-5 right-5 p-3 bg-secondary-DEFAULT hover:bg-secondary-dark text-white rounded-full shadow-xl z-40 transition-all duration-200 transform hover:scale-110 focus:outline-none focus:ring-2 focus:ring-secondary-light focus:ring-opacity-50">
        <i class="fas fa-ghost text-xl"></i>
    </button>

    <script>
        // --- UI/UX: JavaScript for Enhancing User Experience ---

        // --- Mobile Navigation Toggle ---
        // UI/UX: Smoothly toggles the mobile navigation menu.
        // Provides clear visual feedback (hamburger icon animation).
        const hamburgerBtn = document.getElementById('hamburgerBtn');
        const mobileMenu = document.getElementById('mobileMenu');
        const mobileMenuLinks = mobileMenu.querySelectorAll('.mobile-menu-link');

        hamburgerBtn.addEventListener('click', () => {
            hamburgerBtn.classList.toggle('open');
            mobileMenu.classList.toggle('hidden');
            if (!mobileMenu.classList.contains('hidden')) {
                mobileMenu.classList.remove('animate__fadeOutUp');
                mobileMenu.classList.add('animate__fadeInDown');
            } else {
                mobileMenu.classList.remove('animate__fadeInDown');
                // Optional: add fadeOut animation if desired, but instant hide is often fine.
                // mobileMenu.classList.add('animate__fadeOutUp');
            }
        });

        // Close mobile menu when a link is clicked (for single-page navigation)
        mobileMenuLinks.forEach(link => {
            link.addEventListener('click', () => {
                if (!mobileMenu.classList.contains('hidden')) {
                    hamburgerBtn.classList.remove('open');
                    mobileMenu.classList.add('hidden');
                }
            });
        });
        
        // --- Smooth Scrolling for Anchor Links ---
        // UI/UX: Enhances navigation on single-page sites by smoothly scrolling to sections
        // instead of instantly jumping.
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            if (anchor.getAttribute('href') === '#') return; // Skip empty hrefs
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const targetId = this.getAttribute('href');
                const targetElement = document.querySelector(targetId);
                if (targetElement) {
                    const headerOffset = document.getElementById('mainHeader').offsetHeight || 80;
                    const elementPosition = targetElement.getBoundingClientRect().top;
                    const offsetPosition = elementPosition + window.pageYOffset - headerOffset;
        
                    window.scrollTo({
                        top: offsetPosition,
                        behavior: "smooth"
                    });

                    // Update URL hash without page jump for better history/bookmarking
                    if (history.pushState) {
                        history.pushState(null, null, targetId);
                    } else {
                        location.hash = targetId;
                    }
                }
            });
        });


        // --- Scroll-triggered Animations ---
        // UI/UX: Elements fade in as they enter the viewport, making the page feel more dynamic and engaging.
        // Uses Intersection Observer for performance.
        const scrollTargets = document.querySelectorAll('.scroll-target');
        const observerOptions = {
            root: null, // relative to document viewport
            rootMargin: '0px',
            threshold: 0.1 // 10% of element visible
        };

        const observerCallback = (entries, observer) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('animate__animated', 'animate__fadeInUp');
                    entry.target.style.opacity = '1'; // Ensure opacity is set after animation starts
                    observer.unobserve(entry.target); // Optional: stop observing after animation
                }
            });
        };
        const scrollObserver = new IntersectionObserver(observerCallback, observerOptions);
        scrollTargets.forEach(target => {
            target.style.opacity = '0'; // Initial state for JS-driven animation
            scrollObserver.observe(target);
        });

        // --- Copy to Clipboard Functionality ---
        // UI/UX: Allows users to easily copy code snippets, a crucial feature for developer documentation.
        // Provides visual feedback ("已複製!").
        function copyToClipboard(button, elementId) {
            const textToCopy = document.getElementById(elementId).innerText;
            // Using navigator.clipboard for modern browsers, fallback for others
            if (navigator.clipboard && window.isSecureContext) {
                navigator.clipboard.writeText(textToCopy).then(() => {
                    button.innerText = '已複製!';
                    button.classList.add('bg-success');
                    setTimeout(() => {
                        button.innerText = '複製';
                        button.classList.remove('bg-success');
                    }, 2000);
                }).catch(err => {
                    console.warn('Clipboard copy failed, trying execCommand: ', err);
                    fallbackCopyTextToClipboard(textToCopy, button);
                });
            } else {
                fallbackCopyTextToClipboard(textToCopy, button);
            }
        }

        function fallbackCopyTextToClipboard(text, button) {
            const tempTextArea = document.createElement('textarea');
            tempTextArea.value = text;
            tempTextArea.style.position = 'absolute';
            tempTextArea.style.left = '-9999px'; // Move off-screen
            document.body.appendChild(tempTextArea);
            tempTextArea.select();
            try {
                document.execCommand('copy');
                button.innerText = '已複製!';
                button.classList.add('bg-success');
                setTimeout(() => {
                    button.innerText = '複製';
                    button.classList.remove('bg-success');
                }, 2000);
            } catch (err) {
                console.error('Fallback copy to clipboard failed: ', err);
                button.innerText = '複製失敗';
                 setTimeout(() => { button.innerText = '複製'; }, 2000);
            }
            document.body.removeChild(tempTextArea);
        }


        // --- Easter Egg Functionality ---
        // UI/UX: A hidden surprise for users, adding a touch of personality and delight.
        // Triggered by multiple clicks on a specific button or a key combination.
        let eggClickCount = 0;
        let eggTimeout;
        const easterEggBtn = document.getElementById('easterEggBtn');

        if (easterEggBtn) {
            easterEggBtn.addEventListener('click', () => {
                eggClickCount++;
                clearTimeout(eggTimeout); // Clear previous timeout

                if (eggClickCount >= 3) {
                    showEasterEggMessage();
                    eggClickCount = 0; // Reset
                } else {
                    // Reset if clicks are too slow (e.g., more than 1 second apart)
                    eggTimeout = setTimeout(() => {
                        eggClickCount = 0;
                    }, 1000);
                }
            });
        }

        // Keyboard trigger: Ctrl + Alt + G (or Cmd + Option + G on Mac)
        document.addEventListener('keydown', function(event) {
            if ((event.ctrlKey || event.metaKey) && event.altKey && (event.key === 'g' || event.key === 'G')) {
                event.preventDefault(); // Prevent default browser action for this combo
                showEasterEggMessage();
                // Easter Egg Trigger Logic:
                // This event listener checks for the key combination Ctrl+Alt+G (Windows/Linux)
                // or Cmd+Option+G (macOS). When detected, it calls showEasterEggMessage().
                // The 'g' stands for Grok, making it a thematic shortcut.
            }
        });
        
        let activeModal = null; // Keep track of the active modal

        function showEasterEggMessage() {
            // Easter Egg Description:
            // This function creates and displays a modal with a fun message.
            // It's a simple way to add an interactive surprise.
            // The modal is styled using Tailwind CSS classes for consistency.

            if (activeModal) { // If a modal is already open, don't open another
                return;
            }

            const modal = document.createElement('div');
            modal.className = 'easter-egg-modal animate__animated animate__fadeIn'; // Use Tailwind animation here
            
            modal.innerHTML = `
                <div class="easter-egg-modal-content">
                    <button class="absolute top-3 right-4 text-neutral-DEFAULT hover:text-neutral-dark text-2xl font-bold" aria-label="關閉彩蛋訊息">&times;</button>
                    <div class="text-6xl mb-6 animate__animated animate__tada animate__delay-1s">👻</div>
                    <h3 class="text-2xl font-bold text-primary-DEFAULT mb-4">你找到我啦！</h3>
                    <p class="text-neutral-dark mb-6">Grok 說：「有了 Live Search，我的知識就像宇宙一樣不斷膨脹！繼續探索吧！🚀」</p>
                    <button class="bg-primary-DEFAULT hover:bg-primary-dark text-white font-semibold py-2 px-6 rounded-lg transition-colors">太棒了！</button>
                </div>
            `;
            
            const closeButtons = modal.querySelectorAll('button'); // Gets both close and "太棒了"
            closeButtons.forEach(btn => {
                btn.addEventListener('click', () => {
                    modal.classList.remove('animate__fadeIn');
                    modal.classList.add('animate__animated', 'animate__fadeOut');
                    modal.addEventListener('animationend', () => {
                        if (document.body.contains(modal)) {
                             document.body.removeChild(modal);
                        }
                        activeModal = null; // Reset active modal
                    }, { once: true });
                });
            });

            document.body.appendChild(modal);
            activeModal = modal; // Set the new modal as active

            // Close modal on Escape key
            function escapeKeyListener(event) {
                if (event.key === 'Escape' && activeModal === modal) {
                     closeButtons[0].click(); // Trigger the close button's click
                     document.removeEventListener('keydown', escapeKeyListener);
                }
            }
            document.addEventListener('keydown', escapeKeyListener);
        }

        // --- Update Footer Year ---
        // UI/UX: Automatically updates the copyright year, keeping it current.
        document.getElementById('currentYear').textContent = new Date().getFullYear();

    </script>
</body>
</html>