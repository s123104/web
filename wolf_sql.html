下面提供一個全新改版的版本，整體風格更現代、專業且適合行動裝置，介面利用 CSS Grid 與 Flex 完成佈局，並搭配細緻的動畫與過渡效果，讓使用者體驗流暢又美觀。請將以下完整程式碼儲存為 HTML 檔案，直接在瀏覽器中打開即可體驗～

<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>SQL 夜市大冒險 - 現代化沉浸式體驗</title>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;700&display=swap" rel="stylesheet">
  <style>
    :root {
      /* 色彩設定 */
      --primary-color: #ff9234;
      --secondary-color: #ffcd3c;
      --bg-dark: #1a1a1a;
      --text-light: #f1f2f6;
      --accent-neon: #ff4757;
      --accent-blue: #70a1ff;
      --accent-green: #2ed573;
      --overlay-dark: rgba(0, 0, 0, 0.7);
    }
    /* Reset 與基本樣式 */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      font-family: 'Noto Sans TC', sans-serif;
      background: var(--bg-dark);
      color: var(--text-light);
      line-height: 1.5;
      overflow-x: hidden;
    }
    /* 背景與霓虹效果 */
    .market-scene {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: 
        linear-gradient(var(--overlay-dark), var(--overlay-dark)),
        url('https://picsum.photos/1920/1080?grayscale') center/cover no-repeat;
      z-index: -2;
    }
    .neon-sign {
      position: absolute;
      top: 20px;
      left: 50%;
      transform: translateX(-50%);
      font-size: 2.8rem;
      font-weight: bold;
      color: var(--accent-neon);
      text-shadow: 0 0 5px var(--accent-neon), 0 0 10px var(--accent-neon), 0 0 20px var(--accent-neon);
      animation: neonFlicker 1.5s infinite alternate;
    }
    @keyframes neonFlicker {
      0%, 18%, 22%, 25%, 53%, 57%, 100% {
        text-shadow: 0 0 5px var(--accent-neon), 0 0 10px var(--accent-neon), 0 0 20px var(--accent-neon);
      }
      20%, 24%, 55% {
        text-shadow: none;
      }
    }
    /* Header 入口 */
    header {
      text-align: center;
      padding: 100px 1rem 20px;
    }
    .entrance-desc {
      font-size: 1.2rem;
      color: var(--accent-blue);
      margin-top: 10px;
    }
    /* 主體佈局 */
    .container {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
      gap: 2rem;
      padding: 2rem;
      max-width: 1200px;
      margin: 0 auto;
    }
    /* 攤位卡片 */
    .market-stall {
      background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
      border-radius: 15px;
      padding: 2rem;
      position: relative;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
      overflow: hidden;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }
    .market-stall:hover {
      transform: translateY(-5px);
      box-shadow: 0 15px 40px rgba(0, 0, 0, 0.7);
    }
    .stall-canopy {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 40px;
      background: repeating-linear-gradient(45deg, var(--primary-color), var(--primary-color) 10px, var(--secondary-color) 10px, var(--secondary-color) 20px);
      border-radius: 15px 15px 0 0;
      transform: translateY(-100%);
      animation: canopySlide 0.6s forwards;
    }
    @keyframes canopySlide {
      to { transform: translateY(0); }
    }
    .market-stall h2 {
      text-align: center;
      margin-bottom: 1rem;
      font-size: 1.8rem;
    }
    /* SQL 教學區域 */
    .sql-learning-area {
      background: rgba(0, 0, 0, 0.8);
      padding: 1.5rem;
      border-radius: 10px;
      margin-top: 1rem;
    }
    .sql-learning-area h3 {
      text-align: center;
      margin-bottom: 1rem;
      font-size: 1.4rem;
      color: var(--secondary-color);
    }
    .sql-code {
      background: #2f3542;
      padding: 1rem;
      border-radius: 8px;
      font-family: monospace;
      margin-bottom: 1rem;
      position: relative;
      overflow-x: auto;
    }
    .sql-code::before {
      content: 'SQL';
      position: absolute;
      top: -10px;
      left: 10px;
      background: var(--accent-blue);
      padding: 2px 8px;
      border-radius: 5px;
      font-size: 0.8rem;
      color: var(--bg-dark);
    }
    /* 互動按鈕 */
    .stall-btn {
      background: var(--accent-green);
      color: var(--bg-dark);
      border: none;
      padding: 0.8rem 1.2rem;
      border-radius: 8px;
      cursor: pointer;
      font-weight: bold;
      transition: background 0.3s ease, transform 0.3s ease;
      width: 100%;
      margin-top: 0.5rem;
    }
    .stall-btn:hover {
      background: #27ae60;
      transform: translateY(-2px);
    }
    /* 產品展示網格 */
    .product-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
      gap: 1rem;
      margin-top: 1rem;
    }
    .product-card {
      background: rgba(255, 255, 255, 0.1);
      padding: 1rem;
      border-radius: 8px;
      text-align: center;
      transition: transform 0.3s ease;
    }
    .product-card:hover {
      transform: translateY(-3px);
    }
    .product-image {
      width: 70px;
      height: 70px;
      margin: 0 auto 0.5rem;
      background: var(--secondary-color);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 2rem;
    }
    /* 結果展示區 */
    .result-display {
      background: rgba(0, 0, 0, 0.95);
      padding: 1rem;
      border-radius: 8px;
      margin-top: 1rem;
      border: 1px solid var(--accent-blue);
      font-size: 0.9rem;
      opacity: 0;
      transform: translateY(20px);
      transition: all 0.3s ease;
      overflow-x: auto;
    }
    .result-display.show {
      opacity: 1;
      transform: translateY(0);
    }
    /* 劇情對話區 */
    .dialogue {
      background: rgba(0, 0, 0, 0.85);
      padding: 1rem;
      border-radius: 8px;
      text-align: center;
      font-size: 1.1rem;
      margin: 1.5rem auto;
      max-width: 800px;
      border: 1px solid var(--accent-blue);
    }
    /* RWD 調整 */
    @media (max-width: 768px) {
      .container {
        padding: 1rem;
        gap: 1.5rem;
      }
      .market-stall {
        padding: 1.5rem;
      }
      .neon-sign {
        font-size: 2rem;
      }
    }
  </style>
</head>
<body>
  <div class="market-scene"></div>
  <!-- 入口區 -->
  <header>
    <div class="neon-sign">SQL 夜市大冒險</div>
    <p class="entrance-desc">跟著小狼與小兔，一起探索資料庫的美味世界！</p>
  </header>
  
  <!-- 主互動區 -->
  <div class="container">
    <!-- SELECT 查詢攤位 -->
    <section class="market-stall">
      <div class="stall-canopy"></div>
      <h2>🍜 查詢小館</h2>
      <div class="sql-learning-area">
        <h3>SELECT 查詢基礎</h3>
        <div class="sql-code">
          SELECT column1, column2<br>
          FROM table_name<br>
          WHERE condition;
        </div>
        <div class="product-grid">
          <div class="product-card">
            <div class="product-image">🍜</div>
            <h4>基礎查詢</h4>
            <button class="stall-btn" onclick="demonstrateSelect('basic')">試試看</button>
          </div>
          <div class="product-card">
            <div class="product-image">🥘</div>
            <h4>條件查詢</h4>
            <button class="stall-btn" onclick="demonstrateSelect('where')">試試看</button>
          </div>
        </div>
        <div class="result-display" id="select-result"></div>
      </div>
    </section>
    
    <!-- JOIN 查詢攤位 -->
    <section class="market-stall">
      <div class="stall-canopy"></div>
      <h2>🍲 關聯餐館</h2>
      <div class="sql-learning-area">
        <h3>JOIN 查詢</h3>
        <div class="sql-code">
          SELECT a.column1, b.column2<br>
          FROM table1 a<br>
          JOIN table2 b ON a.id = b.id;
        </div>
        <div class="product-grid">
          <div class="product-card">
            <div class="product-image">🤝</div>
            <h4>INNER JOIN</h4>
            <button class="stall-btn" onclick="demonstrateJoin('inner')">試試看</button>
          </div>
          <div class="product-card">
            <div class="product-image">🔄</div>
            <h4>LEFT JOIN</h4>
            <button class="stall-btn" onclick="demonstrateJoin('left')">試試看</button>
          </div>
        </div>
        <div class="result-display" id="join-result"></div>
      </div>
    </section>
    
    <!-- 進階功能攤 -->
    <section class="market-stall">
      <div class="stall-canopy"></div>
      <h2>🔧 進階操作攤</h2>
      <div class="sql-learning-area">
        <h3>進階功能展示</h3>
        <div class="product-grid">
          <div class="product-card">
            <div class="product-image">↕️</div>
            <h4>排序 (ORDER BY)</h4>
            <button class="stall-btn" onclick="demonstrateSort()">試試看</button>
          </div>
          <div class="product-card">
            <div class="product-image">📊</div>
            <h4>銷量排行榜</h4>
            <button class="stall-btn" onclick="demonstrateGroupBy()">試試看</button>
          </div>
          <div class="product-card">
            <div class="product-image">🔍</div>
            <h4>子查詢</h4>
            <button class="stall-btn" onclick="demonstrateSubQuery()">試試看</button>
          </div>
          <div class="product-card">
            <div class="product-image">🏆</div>
            <h4>排名功能</h4>
            <button class="stall-btn" onclick="demonstrateWindowFunc()">試試看</button>
          </div>
          <div class="product-card">
            <div class="product-image">💰</div>
            <h4>交易控制</h4>
            <button class="stall-btn" onclick="demonstrateTransaction()">試試看</button>
          </div>
          <div class="product-card">
            <div class="product-image">⚙️</div>
            <h4>自動促銷</h4>
            <button class="stall-btn" onclick="demonstrateProcTrigger()">試試看</button>
          </div>
          <div class="product-card">
            <div class="product-image">🔑</div>
            <h4>索引與權限</h4>
            <button class="stall-btn" onclick="demonstrateIndexPerm()">試試看</button>
          </div>
        </div>
        <div class="result-display" id="advanced-result"></div>
      </div>
    </section>
  </div>
  
  <!-- 劇情對話區 -->
  <div class="dialogue" id="dialogueBox">
    <strong>小狼</strong>：嗨嗨～各位資料庫狂人，歡迎來到 SQL 夜市！<br>
    <strong>小兔</strong>：靠夭～小狼，你這話說得跟我媽的夜市攤位一樣有味道！
  </div>
  
  <script>
    // 模擬資料庫物件 (可擴充)
    let db = {
      name: "NightMarket",
      tables: {}
    };

    // 更新對話框訊息
    function updateDialogue(speaker, message) {
      document.getElementById('dialogueBox').innerHTML = `<strong>${speaker}</strong>：${message}`;
    }
    
    // SELECT 示範
    function demonstrateSelect(type) {
      const resultDisplay = document.getElementById('select-result');
      let query = '', explanation = '';
      if (type === 'basic') {
        query = `SELECT dish_name, price FROM menu;`;
        explanation = '查詢菜單中的菜名和價格';
      } else if (type === 'where') {
        query = `SELECT dish_name, price FROM menu WHERE price < 100;`;
        explanation = '查詢價格低於 100 元的菜品';
      }
      resultDisplay.innerHTML = `
        <h4>SQL 語法：</h4>
        <div class="sql-code">${query}</div>
        <p>${explanation}</p>
        <div class="sample-result">
          <table border="1" cellpadding="5">
            <tr><th>菜名</th><th>價格</th></tr>
            <tr><td>炒麵</td><td>80</td></tr>
            <tr><td>滷肉飯</td><td>60</td></tr>
          </table>
        </div>
      `;
      resultDisplay.classList.add('show');
      updateDialogue("小狼", "SELECT 查詢完成！菜單資訊都在這兒了。");
    }

    // JOIN 示範
    function demonstrateJoin(type) {
      const resultDisplay = document.getElementById('join-result');
      let query = '', explanation = '';
      if (type === 'inner') {
        query = `SELECT m.dish_name, c.category_name
FROM menu m
INNER JOIN categories c ON m.category_id = c.id;`;
        explanation = '查詢所有菜品及其分類（INNER JOIN）';
      } else if (type === 'left') {
        query = `SELECT m.dish_name, o.order_count
FROM menu m
LEFT JOIN orders o ON m.id = o.menu_id;`;
        explanation = '查詢所有菜品的訂單數量（LEFT JOIN）';
      }
      resultDisplay.innerHTML = `
        <h4>SQL 語法：</h4>
        <div class="sql-code">${query}</div>
        <p>${explanation}</p>
        <div class="sample-result">
          <table border="1" cellpadding="5">
            <tr><th>菜名</th><th>分類 / 訂單數</th></tr>
            <tr><td>炒麵</td><td>主食 / 25</td></tr>
            <tr><td>滷肉飯</td><td>主食 / 30</td></tr>
          </table>
        </div>
      `;
      resultDisplay.classList.add('show');
      updateDialogue("小狼", "JOIN 查詢完成！攤位聯手，套餐組合搞定。");
    }

    // 排序 (ORDER BY) 示範
    function demonstrateSort() {
      const resultDisplay = document.getElementById('advanced-result');
      const query = `SELECT * FROM menu ORDER BY price ASC;`;
      const explanation = '依價格升冪排序，找出最划算的菜品';
      resultDisplay.innerHTML = `
        <h4>SQL 語法：</h4>
        <div class="sql-code">${query}</div>
        <p>${explanation}</p>
        <div class="sample-result">
          <table border="1" cellpadding="5">
            <tr><th>菜名</th><th>價格</th></tr>
            <tr><td>滷肉飯</td><td>60</td></tr>
            <tr><td>炒麵</td><td>80</td></tr>
            <tr><td>牛肉麵</td><td>120</td></tr>
          </table>
        </div>
      `;
      resultDisplay.classList.add('show');
      updateDialogue("小狼", "排序完成！這排列就像夜市燈箱般醒目。");
    }

    // 群組統計 (GROUP BY / HAVING) 示範
    function demonstrateGroupBy() {
      const resultDisplay = document.getElementById('advanced-result');
      const query = `SELECT category, COUNT(*) AS dish_count
FROM menu
GROUP BY category
HAVING COUNT(*) > 0;`;
      const explanation = '統計各分類菜品數量，製作銷量排行榜';
      resultDisplay.innerHTML = `
        <h4>SQL 語法：</h4>
        <div class="sql-code">${query}</div>
        <p>${explanation}</p>
        <div class="sample-result">
          <table border="1" cellpadding="5">
            <tr><th>分類</th><th>菜品數量</th></tr>
            <tr><td>主食</td><td>10</td></tr>
            <tr><td>小吃</td><td>8</td></tr>
          </table>
        </div>
      `;
      resultDisplay.classList.add('show');
      updateDialogue("小狼", "銷量排行榜出爐！攤位人氣盡收眼底。");
    }

    // 子查詢示範
    function demonstrateSubQuery() {
      const resultDisplay = document.getElementById('advanced-result');
      const query = `SELECT dish_name, price
FROM menu
WHERE price > (SELECT AVG(price) FROM menu);`;
      const explanation = '查詢價格高於平均值的菜品，找出高端選擇';
      resultDisplay.innerHTML = `
        <h4>SQL 語法：</h4>
        <div class="sql-code">${query}</div>
        <p>${explanation}</p>
        <div class="sample-result">
          <table border="1" cellpadding="5">
            <tr><th>菜名</th><th>價格</th></tr>
            <tr><td>牛肉麵</td><td>120</td></tr>
            <tr><td>招牌炒飯</td><td>110</td></tr>
          </table>
        </div>
      `;
      resultDisplay.classList.add('show');
      updateDialogue("小狼", "子查詢完成！內幕消息揭曉。");
    }

    // Window Functions (排名) 示範
    function demonstrateWindowFunc() {
      const resultDisplay = document.getElementById('advanced-result');
      const query = `SELECT dish_name, price,
RANK() OVER (ORDER BY price DESC) AS rank
FROM menu;`;
      const explanation = '依價格排名，顯示各菜品的市場排名';
      resultDisplay.innerHTML = `
        <h4>SQL 語法：</h4>
        <div class="sql-code">${query}</div>
        <p>${explanation}</p>
        <div class="sample-result">
          <table border="1" cellpadding="5">
            <tr><th>菜名</th><th>價格</th><th>排名</th></tr>
            <tr><td>牛肉麵</td><td>120</td><td>1</td></tr>
            <tr><td>招牌炒飯</td><td>110</td><td>2</td></tr>
            <tr><td>炒麵</td><td>80</td><td>3</td></tr>
          </table>
        </div>
      `;
      resultDisplay.classList.add('show');
      updateDialogue("小狼", "即時排名展示完成！市場競爭激烈。");
    }

    // 交易控制示範
    function demonstrateTransaction() {
      const resultDisplay = document.getElementById('advanced-result');
      const query = `START TRANSACTION;
  UPDATE accounts SET balance = balance - 500 WHERE user_id = 1;
  UPDATE accounts SET balance = balance + 500 WHERE user_id = 2;
COMMIT;`;
      const explanation = '模擬轉帳交易，確保所有操作全做或全撤';
      resultDisplay.innerHTML = `
        <h4>SQL 語法：</h4>
        <div class="sql-code">${query}</div>
        <p>${explanation}</p>
      `;
      resultDisplay.classList.add('show');
      updateDialogue("小狼", "交易控制成功！操作精準無誤。");
    }

    // 儲存程序、觸發器與檢視表示範
    function demonstrateProcTrigger() {
      const resultDisplay = document.getElementById('advanced-result');
      const query = `-- 儲存程序：設定自動折扣促銷
DELIMITER $$
CREATE PROCEDURE auto_discount()
BEGIN
    UPDATE products SET price = price * 0.9 WHERE stock > 100;
END $$
DELIMITER ;

-- 觸發器：新訂單插入後自動通知
DELIMITER $$
CREATE TRIGGER after_order_insert
AFTER INSERT ON orders
FOR EACH ROW
BEGIN
    INSERT INTO notifications(message) VALUES (CONCAT('新訂單來了！訂單編號：', NEW.order_id));
END $$
DELIMITER ;

-- 檢視表：建立人氣排行榜檢視表
CREATE VIEW popular_users AS
SELECT u.name, COUNT(o.order_id) AS orders_count
FROM users u
JOIN orders o ON u.user_id = o.user_id
GROUP BY u.user_id, u.name
HAVING COUNT(o.order_id) > 5;`;
      const explanation = '設定自動促銷、觸發通知及人氣排行榜檢視表';
      resultDisplay.innerHTML = `
        <h4>SQL 語法：</h4>
        <div class="sql-code">${query}</div>
        <p>${explanation}</p>
      `;
      resultDisplay.classList.add('show');
      updateDialogue("小狼", "自動促銷與觸發器設定完畢，完全自動化！");
    }

    // 索引與權限管理示範
    function demonstrateIndexPerm() {
      const resultDisplay = document.getElementById('advanced-result');
      const query = `-- 建立索引，加速查詢
CREATE INDEX idx_users_email ON users (email);

-- 權限管理：授權操作
GRANT SELECT, INSERT, UPDATE ON NightMarket.* TO 'assistant_user'@'localhost' IDENTIFIED BY 'secret';

-- 收回權限
REVOKE UPDATE ON NightMarket.orders FROM 'assistant_user'@'localhost';`;
      const explanation = '透過索引優化查詢，並設定權限管理以確保安全';
      resultDisplay.innerHTML = `
        <h4>SQL 語法：</h4>
        <div class="sql-code">${query}</div>
        <p>${explanation}</p>
      `;
      resultDisplay.classList.add('show');
      updateDialogue("小狼", "索引與權限管理搞定，資料庫運作嚴謹如夜市保安。");
    }

    // DOMContentLoaded：加上懸停效果
    document.addEventListener('DOMContentLoaded', () => {
      // 所有攤位懸停效果已在 CSS 中定義
      // 如有需要可加入額外互動
    });
  </script>
</body>
</html>

程式說明
	1.	整體風格
	•	使用深色背景搭配霓虹色調，營造出夜市與現代風格結合的感覺。
	•	透過 CSS Grid 與 Flex 完成多欄式排版，確保在桌機與手機上皆能流暢顯示。
	2.	互動設計
	•	各個「攤位」皆有動態的懸停效果、頂篷動畫及細緻的按鈕過渡。
	•	每個功能區（如 SELECT、JOIN、進階功能）皆有獨立的展示區，並在按下按鈕後動態更新 SQL 語法與模擬結果。
	3.	劇情對話
	•	劇情對話區隨著各功能操作更新，呈現小狼與小兔的毒舌互動，增加趣味性與學習動力。
	4.	RWD 支援
	•	利用 Media Query 調整容器寬度與字型大小，確保在手機上也能輕鬆操作。

這個版本整體設計更加現代、專業，同時兼顧流暢的行動裝置體驗，讓使用者在學習 SQL 的同時享受到美觀且有趣的互動介面。試試看這個精美的版本吧～😎🔥