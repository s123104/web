<!DOCTYPE html>

<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¥åº·é£²é£Ÿè¨˜éŒ„</title>


<!-- Tailwind CSS CDN with custom config -->
<script src="https://cdn.tailwindcss.com"></script>
<script>
    tailwind.config = {
        theme: {
            extend: {
                colors: {
                    primary: {
                        50: '#f0fdf4',
                        100: '#dcfce7',
                        200: '#bbf7d0',
                        300: '#86efac',
                        400: '#4ade80',
                        500: '#22c55e',
                        600: '#16a34a',
                        700: '#15803d',
                        800: '#166534',
                        900: '#14532d'
                    },
                    secondary: {
                        50: '#fef7ff',
                        100: '#fdeaff',
                        200: '#fbdcff',
                        300: '#f6b8ff',
                        400: '#ef84ff',
                        500: '#e04cff',
                        600: '#c82ae6',
                        700: '#a820c2',
                        800: '#861b9e',
                        900: '#6f1a80'
                    },
                    neutral: {
                        50: '#fafafa',
                        100: '#f5f5f5',
                        200: '#e5e5e5',
                        300: '#d4d4d4',
                        400: '#a3a3a3',
                        500: '#737373',
                        600: '#525252',
                        700: '#404040',
                        800: '#262626',
                        900: '#171717'
                    }
                },
                fontFamily: {
                    'sans': ['Inter', 'Noto Sans TC', 'sans-serif']
                },
                spacing: {
                    '4.5': '1.125rem',
                    '5.5': '1.375rem',
                    '18': '4.5rem',
                    '88': '22rem'
                },
                animation: {
                    'fade-in-up': 'fadeInUp 0.6s ease-out',
                    'pulse-gentle': 'pulseGentle 2s ease-in-out infinite',
                    'bounce-gentle': 'bounceGentle 0.8s ease-out'
                }
            }
        }
    }
</script>

<!-- Google Fonts -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Noto+Sans+TC:wght@300;400;500;600;700&display=swap" rel="stylesheet">

<!-- Font Awesome Icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

<style>
    /* è‡ªå®šç¾©å‹•ç•«å’Œå¾®èª¿æ¨£å¼ */
    @keyframes fadeInUp {
        from {
            opacity: 0;
            transform: translateY(20px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }
    
    @keyframes pulseGentle {
        0%, 100% {
            transform: scale(1);
            opacity: 0.8;
        }
        50% {
            transform: scale(1.05);
            opacity: 1;
        }
    }
    
    @keyframes bounceGentle {
        0%, 20%, 60%, 100% {
            transform: translateY(0);
        }
        40% {
            transform: translateY(-10px);
        }
        80% {
            transform: translateY(-5px);
        }
    }
    
    /* è‡ªå®šç¾©æ¼¸å±¤èƒŒæ™¯ */
    .gradient-bg {
        background: linear-gradient(135deg, #f0fdf4 0%, #dcfce7 50%, #bbf7d0 100%);
    }
    
    /* ç»ç’ƒæ“¬æ…‹æ•ˆæœ */
    .glass-morphism {
        background: rgba(255, 255, 255, 0.25);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.18);
    }
    
    /* æ–‡ä»¶ä¸Šå‚³å€åŸŸæ¨£å¼ */
    .file-upload-area {
        transition: all 0.3s ease;
    }
    
    .file-upload-area:hover {
        background-color: rgba(34, 197, 94, 0.05);
        border-color: #22c55e;
    }
    
    /* å½©è›‹æŒ‰éˆ•éš±è—æ¨£å¼ */
    .easter-egg-btn {
        position: fixed;
        bottom: 20px;
        right: 20px;
        width: 60px;
        height: 60px;
        border-radius: 50%;
        background: linear-gradient(45deg, #e04cff, #22c55e);
        border: none;
        cursor: pointer;
        opacity: 0.7;
        transition: all 0.3s ease;
        z-index: 1000;
    }
    
    .easter-egg-btn:hover {
        opacity: 1;
        transform: scale(1.1) rotate(10deg);
    }
    
    /* ç‡Ÿé¤Šè³‡è¨Šå¡ç‰‡æ¨£å¼ */
    .nutrition-card {
        background: linear-gradient(135deg, rgba(255, 255, 255, 0.9), rgba(255, 255, 255, 0.7));
        backdrop-filter: blur(8px);
        border: 1px solid rgba(255, 255, 255, 0.2);
        transition: all 0.3s ease;
    }
    
    .nutrition-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
    }
</style>


</head>

<body class="min-h-screen gradient-bg font-sans">
    <!-- Header å€åŸŸ -->
    <header class="sticky top-0 z-50 glass-morphism">
        <div class="container mx-auto px-4 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-3">
                    <div class="w-10 h-10 bg-primary-500 rounded-xl flex items-center justify-center">
                        <i class="fas fa-utensils text-white text-lg"></i>
                    </div>
                    <h1 class="text-xl md:text-2xl font-bold text-neutral-800 tracking-wide">å¥åº·é£²é£Ÿè¨˜éŒ„</h1>
                </div>
                <button id="menuToggle" class="md:hidden p-2 rounded-lg bg-white/50 hover:bg-white/70 transition-all duration-200">
                    <i class="fas fa-bars text-neutral-700"></i>
                </button>
            </div>
        </div>
    </header>


<!-- ä¸»è¦å…§å®¹å€åŸŸ -->
<main class="container mx-auto px-4 py-8 max-w-4xl">
    
    <!-- ä¸Šå‚³é£Ÿç‰©ç…§ç‰‡å€å¡Š -->
    <section class="mb-12 opacity-0 translate-y-4" id="uploadSection">
        <div class="bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg p-6 md:p-8 border border-white/20">
            <div class="flex items-center mb-6">
                <div class="w-8 h-8 bg-primary-500 rounded-lg flex items-center justify-center mr-3">
                    <i class="fas fa-camera text-white"></i>
                </div>
                <h2 class="text-2xl font-semibold text-neutral-800">ä¸Šå‚³é£Ÿç‰©ç…§ç‰‡</h2>
            </div>
            
            <form id="foodUploadForm" class="space-y-6">
                <!-- é¤åˆ¥é¸å–® -->
                <div class="space-y-2">
                    <label for="mealType" class="block text-sm font-medium text-neutral-700">é¤åˆ¥</label>
                    <select id="mealType" class="w-full px-4 py-3 rounded-xl border border-neutral-200 bg-white focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 text-neutral-700">
                        <option value="">è«‹é¸æ“‡é¤åˆ¥</option>
                        <option value="breakfast">ğŸŒ… æ—©é¤</option>
                        <option value="lunch">ğŸ± åˆé¤</option>
                        <option value="dinner">ğŸ½ æ™šé¤</option>
                        <option value="snack">ğŸª é»å¿ƒ</option>
                    </select>
                </div>
                
                <!-- èªªæ˜è¼¸å…¥æ¡† -->
                <div class="space-y-2">
                    <label for="foodDescription" class="block text-sm font-medium text-neutral-700">èªªæ˜</label>
                    <textarea id="foodDescription" rows="3" placeholder="è«‹æè¿°é€™é¤åƒäº†ä»€éº¼ï¼Œä¾‹å¦‚ï¼šå°ç± åŒ…ã€è›‹é¤…åŒ…æ²¹æ¢" 
                        class="w-full px-4 py-3 rounded-xl border border-neutral-200 bg-white focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 text-neutral-700 resize-none"></textarea>
                </div>
                
                <!-- ç…§ç‰‡ä¸Šå‚³æ¬„ä½ -->
                <div class="space-y-2">
                    <label for="foodPhoto" class="block text-sm font-medium text-neutral-700">ç…§ç‰‡</label>
                    <div class="file-upload-area border-2 border-dashed border-neutral-300 rounded-xl p-6 text-center cursor-pointer">
                        <input type="file" id="foodPhoto" accept=".jpg,.jpeg,.png,.webp" class="hidden">
                        <div id="uploadPlaceholder">
                            <i class="fas fa-cloud-upload-alt text-4xl text-neutral-400 mb-3"></i>
                            <p class="text-neutral-600 mb-1">é»æ“Šä¸Šå‚³é£Ÿç‰©ç…§ç‰‡</p>
                            <p class="text-sm text-neutral-400">æ”¯æ´ JPGã€PNGã€WEBP æ ¼å¼</p>
                        </div>
                        <div id="uploadPreview" class="hidden">
                            <img id="previewImage" class="max-w-full h-32 object-cover rounded-lg mx-auto mb-2">
                            <p id="fileName" class="text-sm text-neutral-600"></p>
                        </div>
                    </div>
                </div>
                
                <!-- é€å‡ºæŒ‰éˆ• -->
                <button type="submit" class="w-full bg-primary-500 hover:bg-primary-600 text-white font-medium py-3 px-6 rounded-xl transition-all duration-200 transform hover:scale-105 focus:ring-4 focus:ring-primary-200">
                    <i class="fas fa-paper-plane mr-2"></i>
                    é€å‡ºè¨˜éŒ„
                </button>
            </form>
        </div>
    </section>
    
    <!-- æŸ¥è©¢ç•¶æ—¥ä¸‰é¤æ‘˜è¦å€å¡Š -->
    <section class="mb-12 opacity-0 translate-y-4" id="querySection">
        <div class="bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg p-6 md:p-8 border border-white/20">
            <div class="flex items-center mb-6">
                <div class="w-8 h-8 bg-secondary-500 rounded-lg flex items-center justify-center mr-3">
                    <i class="fas fa-search text-white"></i>
                </div>
                <h2 class="text-2xl font-semibold text-neutral-800">æŸ¥è©¢é£²é£Ÿè¨˜éŒ„</h2>
            </div>
            
            <div class="flex flex-col sm:flex-row gap-4">
                <div class="flex-1">
                    <label for="queryDate" class="block text-sm font-medium text-neutral-700 mb-2">é¸æ“‡æ—¥æœŸ</label>
                    <input type="date" id="queryDate" class="w-full px-4 py-3 rounded-xl border border-neutral-200 bg-white focus:ring-2 focus:ring-secondary-500 focus:border-transparent transition-all duration-200 text-neutral-700">
                </div>
                <div class="flex items-end">
                    <button id="queryBtn" class="w-full sm:w-auto bg-secondary-500 hover:bg-secondary-600 text-white font-medium py-3 px-8 rounded-xl transition-all duration-200 transform hover:scale-105 focus:ring-4 focus:ring-secondary-200">
                        <i class="fas fa-calendar-search mr-2"></i>
                        æŸ¥è©¢
                    </button>
                </div>
            </div>
        </div>
    </section>
    
    <!-- æŸ¥è©¢çµæœå€å¡Š -->
    <section class="opacity-0 translate-y-4" id="resultsSection">
        <div class="bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg p-6 md:p-8 border border-white/20">
            <div class="flex items-center mb-6">
                <div class="w-8 h-8 bg-orange-500 rounded-lg flex items-center justify-center mr-3">
                    <i class="fas fa-chart-pie text-white"></i>
                </div>
                <h2 class="text-2xl font-semibold text-neutral-800">é£²é£Ÿæ‘˜è¦</h2>
                <span id="selectedDate" class="ml-auto text-sm text-neutral-500 bg-neutral-100 px-3 py-1 rounded-full"></span>
            </div>
            
            <div id="resultsContainer" class="space-y-6">
                <!-- çµæœå°‡å‹•æ…‹ç”Ÿæˆ -->
            </div>
            
            <div id="noDataMessage" class="hidden text-center py-12">
                <i class="fas fa-utensils text-6xl text-neutral-300 mb-4"></i>
                <p class="text-neutral-500 text-lg">æ­¤æ—¥æœŸå°šç„¡é£²é£Ÿè¨˜éŒ„</p>
                <p class="text-neutral-400 text-sm mt-2">é–‹å§‹è¨˜éŒ„æ‚¨çš„å¥åº·é£²é£Ÿå§ï¼</p>
            </div>
        </div>
    </section>
</main>

<!-- Footer -->
<footer class="mt-16 py-8 text-center text-neutral-500">
    <div class="container mx-auto px-4">
        <p class="text-sm">Â© 2025 å¥åº·é£²é£Ÿè¨˜éŒ„ - è®“æ¯ä¸€é¤éƒ½æ›´æœ‰æ„ç¾©</p>
    </div>
</footer>

<!-- éš±è—å½©è›‹æŒ‰éˆ• -->
<button class="easter-egg-btn" id="easterEggBtn" title="é©šå–œå½©è›‹">
    <i class="fas fa-gift text-white text-xl"></i>
</button>

<!-- å½©è›‹æ¨¡æ…‹æ¡† -->
<div id="easterEggModal" class="fixed inset-0 bg-black/50 backdrop-blur-sm z-50 hidden flex items-center justify-center p-4">
    <div class="bg-white rounded-2xl p-8 max-w-md w-full transform scale-95 opacity-0 transition-all duration-300" id="modalContent">
        <div class="text-center">
            <div class="w-16 h-16 bg-gradient-to-r from-primary-500 to-secondary-500 rounded-full flex items-center justify-center mx-auto mb-4 animate-pulse-gentle">
                <i class="fas fa-star text-white text-2xl"></i>
            </div>
            <h3 class="text-2xl font-bold text-neutral-800 mb-4">ğŸ‰ ç™¼ç¾å½©è›‹ï¼</h3>
            <p class="text-neutral-600 mb-6">æ­å–œæ‚¨ç™¼ç¾äº†éš±è—åŠŸèƒ½ï¼é»æ“Šä¸‹æ–¹æŒ‰éˆ•ç²å¾—æ¯æ—¥é£²é£Ÿå»ºè­°ã€‚</p>
            <div class="space-y-3">
                <button id="getAdviceBtn" class="w-full bg-gradient-to-r from-primary-500 to-secondary-500 text-white font-medium py-3 px-6 rounded-xl hover:from-primary-600 hover:to-secondary-600 transition-all duration-200">
                    ç²å¾—ä»Šæ—¥é£²é£Ÿå»ºè­°
                </button>
                <button id="closeModalBtn" class="w-full bg-neutral-200 text-neutral-700 font-medium py-3 px-6 rounded-xl hover:bg-neutral-300 transition-all duration-200">
                    é—œé–‰
                </button>
            </div>
            <div id="adviceContent" class="hidden mt-6 p-4 bg-primary-50 rounded-xl">
                <p class="text-primary-800 text-sm"></p>
            </div>
        </div>
    </div>
</div>

<script>
    // === æ‡‰ç”¨ç¨‹å¼åˆå§‹åŒ–èˆ‡ç‹€æ…‹ç®¡ç† ===
    class FoodDiaryApp {
        constructor() {
            this.meals = JSON.parse(localStorage.getItem('meals') || '{}');
            this.init();
        }
        
        init() {
            this.setupEventListeners();
            this.setupIntersectionObserver();
            this.setDefaultDate();
            this.animateOnLoad();
        }
        
        // è¨­ç½®äº‹ä»¶ç›£è½å™¨
        setupEventListeners() {
            // æª”æ¡ˆä¸Šå‚³è™•ç†
            const fileUploadArea = document.querySelector('.file-upload-area');
            const fileInput = document.getElementById('foodPhoto');
            
            fileUploadArea.addEventListener('click', () => fileInput.click());
            fileInput.addEventListener('change', this.handleFileUpload.bind(this));
            
            // è¡¨å–®æäº¤
            document.getElementById('foodUploadForm').addEventListener('submit', this.handleFormSubmit.bind(this));
            
            // æŸ¥è©¢åŠŸèƒ½
            document.getElementById('queryBtn').addEventListener('click', this.handleQuery.bind(this));
            
            // å½©è›‹åŠŸèƒ½
            document.getElementById('easterEggBtn').addEventListener('click', this.showEasterEgg.bind(this));
            document.getElementById('closeModalBtn').addEventListener('click', this.hideEasterEgg.bind(this));
            document.getElementById('getAdviceBtn').addEventListener('click', this.showAdvice.bind(this));
            
            // é»æ“Šæ¨¡æ…‹æ¡†å¤–éƒ¨é—œé–‰
            document.getElementById('easterEggModal').addEventListener('click', (e) => {
                if (e.target.id === 'easterEggModal') {
                    this.hideEasterEgg();
                }
            });
        }
        
        // è¨­ç½®æ»¾å‹•é€²å ´å‹•ç•«
        setupIntersectionObserver() {
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.remove('opacity-0', 'translate-y-4');
                        entry.target.classList.add('opacity-100', 'translate-y-0');
                        entry.target.style.transition = 'all 0.6s ease-out';
                    }
                });
            }, { threshold: 0.1 });
            
            document.querySelectorAll('section').forEach(section => {
                observer.observe(section);
            });
        }
        
        // é é¢è¼‰å…¥å‹•ç•«
        animateOnLoad() {
            setTimeout(() => {
                document.getElementById('uploadSection').classList.add('animate-fade-in-up');
            }, 200);
            setTimeout(() => {
                document.getElementById('querySection').classList.add('animate-fade-in-up');
            }, 400);
            setTimeout(() => {
                document.getElementById('resultsSection').classList.add('animate-fade-in-up');
            }, 600);
        }
        
        // è¨­ç½®é è¨­æ—¥æœŸç‚ºä»Šå¤©
        setDefaultDate() {
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('queryDate').value = today;
        }
        
        // è™•ç†æª”æ¡ˆä¸Šå‚³
        handleFileUpload(event) {
            const file = event.target.files[0];
            if (!file) return;
            
            const placeholder = document.getElementById('uploadPlaceholder');
            const preview = document.getElementById('uploadPreview');
            const previewImage = document.getElementById('previewImage');
            const fileName = document.getElementById('fileName');
            
            // é¡¯ç¤ºé è¦½åœ–ç‰‡
            const reader = new FileReader();
            reader.onload = (e) => {
                previewImage.src = e.target.result;
                fileName.textContent = file.name;
                placeholder.classList.add('hidden');
                preview.classList.remove('hidden');
            };
            reader.readAsDataURL(file);
        }
        
        // è™•ç†è¡¨å–®æäº¤
        handleFormSubmit(event) {
            event.preventDefault();
            
            const mealType = document.getElementById('mealType').value;
            const description = document.getElementById('foodDescription').value;
            const photoFile = document.getElementById('foodPhoto').files[0];
            
            if (!mealType || !description) {
                this.showNotification('è«‹å¡«å¯«å®Œæ•´è³‡è¨Š', 'error');
                return;
            }
            
            // å„²å­˜åˆ°æœ¬åœ°å­˜å„²ï¼ˆæ¨¡æ“¬å¾Œç«¯ï¼‰
            const today = new Date().toISOString().split('T')[0];
            if (!this.meals[today]) {
                this.meals[today] = {};
            }
            
            this.meals[today][mealType] = {
                description,
                photo: photoFile ? photoFile.name : null,
                timestamp: new Date().toISOString(),
                nutrition: this.generateMockNutrition() // æ¨¡æ“¬ç‡Ÿé¤Šæ•¸æ“š
            };
            
            localStorage.setItem('meals', JSON.stringify(this.meals));
            
            // é‡ç½®è¡¨å–®
            document.getElementById('foodUploadForm').reset();
            document.getElementById('uploadPlaceholder').classList.remove('hidden');
            document.getElementById('uploadPreview').classList.add('hidden');
            
            this.showNotification('é£²é£Ÿè¨˜éŒ„å·²æˆåŠŸå„²å­˜ï¼', 'success');
        }
        
        // ç”Ÿæˆæ¨¡æ“¬ç‡Ÿé¤Šæ•¸æ“š
        generateMockNutrition() {
            return {
                calories: Math.floor(Math.random() * 800) + 200,
                protein: Math.floor(Math.random() * 50) + 10,
                carbs: Math.floor(Math.random() * 100) + 20,
                fat: Math.floor(Math.random() * 40) + 5
            };
        }
        
        // è™•ç†æŸ¥è©¢åŠŸèƒ½
        handleQuery() {
            const selectedDate = document.getElementById('queryDate').value;
            if (!selectedDate) {
                this.showNotification('è«‹é¸æ“‡æŸ¥è©¢æ—¥æœŸ', 'error');
                return;
            }
            
            document.getElementById('selectedDate').textContent = selectedDate;
            this.displayResults(selectedDate);
        }
        
        // é¡¯ç¤ºæŸ¥è©¢çµæœ
        displayResults(date) {
            const container = document.getElementById('resultsContainer');
            const noDataMessage = document.getElementById('noDataMessage');
            const dayMeals = this.meals[date];
            
            if (!dayMeals || Object.keys(dayMeals).length === 0) {
                container.classList.add('hidden');
                noDataMessage.classList.remove('hidden');
                return;
            }
            
            container.classList.remove('hidden');
            noDataMessage.classList.add('hidden');
            
            const mealTypes = {
                breakfast: { icon: 'ğŸŒ…', name: 'æ—©é¤' },
                lunch: { icon: 'ğŸ±', name: 'åˆé¤' },
                dinner: { icon: 'ğŸ½', name: 'æ™šé¤' },
                snack: { icon: 'ğŸª', name: 'é»å¿ƒ' }
            };
            
            let totalNutrition = { calories: 0, protein: 0, carbs: 0, fat: 0 };
            
            container.innerHTML = Object.entries(dayMeals).map(([mealType, meal]) => {
                totalNutrition.calories += meal.nutrition.calories;
                totalNutrition.protein += meal.nutrition.protein;
                totalNutrition.carbs += meal.nutrition.carbs;
                totalNutrition.fat += meal.nutrition.fat;
                
                return `
                    <div class="nutrition-card rounded-xl p-6 transform transition-all duration-300 hover:scale-105">
                        <div class="flex items-center mb-4">
                            <span class="text-2xl mr-3">${mealTypes[mealType].icon}</span>
                            <h3 class="text-xl font-semibold text-neutral-800">${mealTypes[mealType].name}</h3>
                        </div>
                        <p class="text-neutral-600 mb-4">${meal.description}</p>
                        <div class="grid grid-cols-2 gap-4 text-sm">
                            <div class="bg-red-50 p-3 rounded-lg">
                                <p class="text-red-600 font-medium">ç†±é‡</p>
                                <p class="text-red-800 text-lg font-bold">${meal.nutrition.calories} kcal</p>
                            </div>
                            <div class="bg-blue-50 p-3 rounded-lg">
                                <p class="text-blue-600 font-medium">è›‹ç™½è³ª</p>
                                <p class="text-blue-800 text-lg font-bold">${meal.nutrition.protein} g</p>
                            </div>
                            <div class="bg-green-50 p-3 rounded-lg">
                                <p class="text-green-600 font-medium">ç¢³æ°´åŒ–åˆç‰©</p>
                                <p class="text-green-800 text-lg font-bold">${meal.nutrition.carbs} g</p>
                            </div>
                            <div class="bg-yellow-50 p-3 rounded-lg">
                                <p class="text-yellow-600 font-medium">è„‚è‚ª</p>
                                <p class="text-yellow-800 text-lg font-bold">${meal.nutrition.fat} g</p>
                            </div>
                        </div>
                    </div>
                `;
            }).join('');
            
            // æ·»åŠ æ¯æ—¥ç¸½è¨ˆ
            container.innerHTML += `
                <div class="bg-gradient-to-r from-primary-500 to-secondary-500 text-white rounded-xl p-6 mt-6">
                    <h3 class="text-xl font-bold mb-4 flex items-center">
                        <i class="fas fa-calculator mr-2"></i>
                        æ¯æ—¥ç‡Ÿé¤Šç¸½è¨ˆ
                    </h3>
                    <div class="grid grid-cols-2 gap-4 text-sm">
                        <div class="bg-white/20 p-3 rounded-lg">
                            <p class="opacity-90">ç¸½ç†±é‡</p>
                            <p class="text-lg font-bold">${totalNutrition.calories} kcal</p>
                        </div>
                        <div class="bg-white/20 p-3 rounded-lg">
                            <p class="opacity-90">ç¸½è›‹ç™½è³ª</p>
                            <p class="text-lg font-bold">${totalNutrition.protein} g</p>
                        </div>
                        <div class="bg-white/20 p-3 rounded-lg">
                            <p class="opacity-90">ç¸½ç¢³æ°´åŒ–åˆç‰©</p>
                            <p class="text-lg font-bold">${totalNutrition.carbs} g</p>
                        </div>
                        <div class="bg-white/20 p-3 rounded-lg">
                            <p class="opacity-90">ç¸½è„‚è‚ª</p>
                            <p class="text-lg font-bold">${totalNutrition.fat} g</p>
                        </div>
                    </div>
                </div>
            `;
        }
        
        // é¡¯ç¤ºé€šçŸ¥è¨Šæ¯
        showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.className = `fixed top-4 right-4 z-50 p-4 rounded-xl text-white font-medium transform translate-x-full transition-all duration-300 ${
                type === 'success' ? 'bg-primary-500' : 
                type === 'error' ? 'bg-red-500' : 'bg-blue-500'
            }`;
            notification.textContent = message;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.classList.remove('translate-x-full');
            }, 100);
            
            setTimeout(() => {
                notification.classList.add('translate-x-full');
                setTimeout(() => {
                    document.body.removeChild(notification);
                }, 300);
            }, 3000);
        }
        
        // é¡¯ç¤ºå½©è›‹
        showEasterEgg() {
            const modal = document.getElementById('easterEggModal');
            const content = document.getElementById('modalContent');
            
            modal.classList.remove('hidden');
            setTimeout(() => {
                content.classList.remove('scale-95', 'opacity-0');
                content.classList.add('scale-100', 'opacity-100');
            }, 50);
        }
        
        // éš±è—å½©è›‹
        hideEasterEgg() {
            const modal = document.getElementById('easterEggModal');
            const content = document.getElementById('modalContent');
            
            content.classList.remove('scale-100', 'opacity-100');
            content.classList.add('scale-95', 'opacity-0');
            
            setTimeout(() => {
                modal.classList.add('hidden');
            }, 300);
        }
        
        // é¡¯ç¤ºé£²é£Ÿå»ºè­°
        showAdvice() {
            const adviceContent = document.getElementById('adviceContent');
            const advice = this.getRandomAdvice();
            
            adviceContent.querySelector('p').textContent = advice;
            adviceContent.classList.remove('hidden');
            adviceContent.classList.add('animate-bounce-gentle');
        }
        
        // éš¨æ©Ÿé£²é£Ÿå»ºè­°
        getRandomAdvice() {
            const advices = [
                'ğŸ¥— ä»Šå¤©å˜—è©¦åŠ å…¥æ›´å¤šç¶ è‰²è”¬èœï¼Œå®ƒå€‘å¯Œå«ç¶­ç”Ÿç´ å’Œçº–ç¶­ï¼',
                'ğŸ¥› è¨˜å¾—è£œå……è¶³å¤ çš„æ°´åˆ†ï¼Œå»ºè­°æ¯å¤©è‡³å°‘å–8æ¯æ°´ã€‚',
                'ğŸ¥œ æ·»åŠ ä¸€äº›å …æœä½œç‚ºå¥åº·çš„é»å¿ƒï¼Œæä¾›å„ªè³ªè„‚è‚ªå’Œè›‹ç™½è³ªã€‚',
                'ğŸŸ æœ¬é€±å˜—è©¦åƒ2-3æ¬¡é­šé¡ï¼Œomega-3è„‚è‚ªé…¸å°å¤§è…¦å¾ˆå¥½ï¼',
                'ğŸŒˆ è®“æ‚¨çš„é¤ç›¤è‰²å½©è±å¯Œï¼Œä¸åŒé¡è‰²ä»£è¡¨ä¸åŒç‡Ÿé¤Šç´ ã€‚',
                'â° è¦å¾‹çš„ç”¨é¤æ™‚é–“æœ‰åŠ©æ–¼ç¶­æŒè¡€ç³–ç©©å®šå’Œæ–°é™³ä»£è¬ã€‚'
            ];
            return advices[Math.floor(Math.random() * advices.length)];
        }
    }
    
    // æ‡‰ç”¨ç¨‹å¼å•Ÿå‹•
    document.addEventListener('DOMContentLoaded', () => {
        new FoodDiaryApp();
    });
</script>


</body>
</html>