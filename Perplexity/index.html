<!DOCTYPE html>
<html lang="zh-TW" class="dark">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="Perplexity AI å…è²»å¹´è²»æœƒå“¡å„ªæƒ  - åƒ¹å€¼NT$6990çš„Proæœƒå“¡å®Œå…¨å…è²»é€ï¼çµåˆGPT-4å’Œå³æ™‚ç¶²è·¯æœå°‹çš„AIæœå°‹ç¥å™¨ã€‚"
    />
    <meta
      name="keywords"
      content="Perplexity AI, å…è²»æœƒå“¡, AIæœå°‹, GPT-4, å³æ™‚æœå°‹, å…Œæ›ç¢¼"
    />
    <meta
      property="og:title"
      content="Perplexity AI - å…è²»é€åƒ¹å€¼NT$6990å¹´è²»æœƒå“¡ï¼"
    />
    <meta
      property="og:description"
      content="AIæœå°‹ç¥å™¨Perplexityï¼ŒChatGPT + Googleçš„å®Œç¾åˆé«”ã€‚æŸ¥è³‡æ–™ã€æ•´ç†å ±å‘Šã€æ‰¾éˆæ„Ÿå¿«åˆ°é£›èµ·ï¼"
    />
    <meta property="og:type" content="website" />
    <meta property="og:image" content="/og-image.jpg" />
    <meta name="twitter:card" content="summary_large_image" />
    <title>Perplexity AI - å…è²»é€åƒ¹å€¼NT$6990å¹´è²»æœƒå“¡ï¼AIæœå°‹ç¥å™¨</title>

    <!-- Preload Critical Resources -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link rel="preconnect" href="https://cdn.tailwindcss.com" />
    <link rel="preconnect" href="https://cdnjs.cloudflare.com" />

    <!-- Critical CSS First -->
    <style>
      /* Critical CSS for above-the-fold content */
      .loading-screen {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: #0a0a0a;
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 9999;
        transition: opacity 0.5s ease-out;
      }
      .loading-spinner {
        width: 50px;
        height: 50px;
        border: 3px solid #2a2a2a;
        border-top: 3px solid #20b2aa;
        border-radius: 50%;
        animation: spin 1s linear infinite;
      }
      @keyframes spin {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }
      body {
        margin: 0;
        padding: 0;
        background: #0a0a0a;
        color: #f5f5f5;
        font-family: Inter, "Noto Sans TC", system-ui, sans-serif;
      }

      /* Chart container height limits */
      .chart-container {
        background: #1f1f1f;
        border: 1px solid #2a2a2a;
        border-radius: 12px;
        padding: 1.5rem;
        margin: 1rem 0;
        height: 400px; /* Fixed height to prevent infinite expansion */
        position: relative;
      }
      .chart-container canvas {
        max-height: 350px !important; /* Prevent canvas from expanding beyond container */
      }
    </style>

    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Chart.js for Data Visualization -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>

    <!-- Font Awesome Icons -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
      integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />

    <!-- Google Fonts -->
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Noto+Sans+TC:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />

    <script>
      tailwind.config = {
        darkMode: "class",
        theme: {
          extend: {
            colors: {
              // Perplexity å®˜æ–¹æ·±è‰²ä¸»é¡Œè‰²å½©ç³»çµ±
              dark: {
                bg: "#0a0a0a",
                "bg-secondary": "#141414",
                "bg-tertiary": "#1a1a1a",
                "bg-card": "#1f1f1f",
                "bg-hover": "#262626",
                text: "#f5f5f5",
                "text-secondary": "#a1a1a1",
                "text-muted": "#6b7280",
                border: "#2a2a2a",
                "border-light": "#333333",
              },
              perplexity: {
                primary: "#20b2aa",
                "primary-light": "#40e0d0",
                "primary-dark": "#1e8b7b",
                secondary: "#48cae4",
                accent: "#00d084",
              },
              chart: {
                primary: "#20b2aa",
                secondary: "#40e0d0",
                accent1: "#00d084",
                accent2: "#ff6b35",
                accent3: "#ffd60a",
                accent4: "#3742fa",
                accent5: "#ff4757",
              },
            },
            fontFamily: {
              sans: ["Inter", "Noto Sans TC", "system-ui", "sans-serif"],
            },
            spacing: {
              18: "4.5rem",
              88: "22rem",
            },
            animation: {
              glow: "glow 2s ease-in-out infinite alternate",
              float: "float 3s ease-in-out infinite",
              "bounce-subtle": "bounce-subtle 2s infinite",
            },
          },
        },
      };
    </script>

    <style>
      @keyframes glow {
        from {
          box-shadow: 0 0 5px #20b2aa;
        }
        to {
          box-shadow: 0 0 20px #20b2aa, 0 0 30px #20b2aa;
        }
      }

      @keyframes float {
        0%,
        100% {
          transform: translateY(0px);
        }
        50% {
          transform: translateY(-10px);
        }
      }

      @keyframes bounce-subtle {
        0%,
        20%,
        53%,
        80%,
        100% {
          transform: translate3d(0, 0, 0);
        }
        40%,
        43% {
          transform: translate3d(0, -8px, 0);
        }
        70% {
          transform: translate3d(0, -4px, 0);
        }
      }

      /* è¡Œå‹•è£ç½®å­—é«”å¤§å°å„ªåŒ– */
      @media (max-width: 640px) {
        html {
          font-size: 16px;
        }

        /* ç¢ºä¿ä¸»æ¨™é¡Œå€åŸŸæœ‰è¶³å¤ çš„ä¸Šæ–¹é–“è·ï¼Œé¿å…èˆ‡ä½œè€…è³‡è¨Šé‡ç–Š */
        header .container {
          padding-top: 3rem;
        }

        .mobile-text-xs {
          font-size: 0.75rem;
          line-height: 1rem;
        }
        .mobile-text-sm {
          font-size: 0.875rem;
          line-height: 1.25rem;
        }
        .mobile-text-base {
          font-size: 1rem;
          line-height: 1.5rem;
        }
        .mobile-text-lg {
          font-size: 1.125rem;
          line-height: 1.75rem;
        }
        .mobile-text-xl {
          font-size: 1.25rem;
          line-height: 1.75rem;
        }
        .mobile-text-2xl {
          font-size: 1.5rem;
          line-height: 2rem;
        }
        .mobile-text-3xl {
          font-size: 1.875rem;
          line-height: 2.25rem;
        }
        .mobile-text-4xl {
          font-size: 2.25rem;
          line-height: 2.5rem;
        }

        /* å„ªåŒ–æ‰‹æ©Ÿç‰ˆå¡ç‰‡é–“è· */
        .bg-dark-bg-card {
          margin: 0.75rem 0;
          padding: 1rem;
        }

        /* è­¦å‘Šè¨Šæ¯æ¡†æ‰‹æ©Ÿç‰ˆå„ªåŒ– */
        .bg-yellow-900,
        .bg-red-900 {
          margin: 1rem -0.5rem;
          padding: 0.75rem;
        }
      }

      /* Perplexity Logo SVG å„ªåŒ– */
      .perplexity-logo svg {
        filter: drop-shadow(0 0 8px rgba(32, 178, 170, 0.3));
        transition: all 0.3s ease;
      }

      .perplexity-logo:hover svg {
        filter: drop-shadow(0 0 12px rgba(64, 224, 208, 0.5));
        transform: scale(1.05);
      }

      /* æ·±è‰²ä¸»é¡Œæœ€ä½³åŒ– */
      .glass-effect {
        backdrop-filter: blur(10px);
        background: rgba(20, 178, 170, 0.1);
        border: 1px solid rgba(20, 178, 170, 0.2);
      }

      /* å½©è›‹æŒ‰éˆ•å„ªåŒ– */
      .easter-egg-btn {
        background: linear-gradient(45deg, #20b2aa, #40e0d0);
        border: 2px solid rgba(32, 178, 170, 0.3);
        transition: all 0.3s ease;
      }

      .easter-egg-btn:hover {
        background: linear-gradient(45deg, #40e0d0, #20b2aa);
        border-color: rgba(64, 224, 208, 0.6);
        box-shadow: 0 0 20px rgba(32, 178, 170, 0.5);
      }
    </style>
  </head>

  <body class="font-sans bg-dark-bg text-dark-text min-h-screen dark">
    <!-- Loading Screen -->
    <div id="loading-screen" class="loading-screen">
      <div class="loading-spinner"></div>
    </div>

    <!-- Error Boundary Container -->
    <div
      id="error-boundary"
      class="hidden fixed inset-0 bg-red-900 bg-opacity-50 flex items-center justify-center z-50"
    >
      <div class="bg-white rounded-lg p-6 max-w-md mx-4">
        <h3 class="text-xl font-bold text-red-600 mb-4">ç™¼ç”ŸéŒ¯èª¤</h3>
        <p class="text-gray-700 mb-4">
          æŠ±æ­‰ï¼Œç¶²ç«™è¼‰å…¥æ™‚ç™¼ç”Ÿå•é¡Œã€‚è«‹é‡æ–°æ•´ç†é é¢æˆ–ç¨å¾Œå†è©¦ã€‚
        </p>
        <button
          onclick="location.reload()"
          class="bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700"
        >
          é‡æ–°è¼‰å…¥
        </button>
      </div>
    </div>

    <!-- Header Section - æ·±è‰²ä¸»é¡Œå„ªåŒ– -->
    <header
      class="relative overflow-hidden bg-gradient-to-br from-dark-bg via-dark-bg-secondary to-dark-bg-tertiary text-dark-text py-8 md:py-12 border-b border-dark-border"
    >
      <!-- Perplexity Logo -->
      <div class="absolute top-4 left-4 z-10">
        <div class="perplexity-logo">
          <svg
            viewBox="0 0 101 116"
            stroke="none"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
            class="w-8 h-10 md:w-10 md:h-12"
          >
            <path
              class="stroke-perplexity-primary hover:stroke-perplexity-primary-light transition-colors duration-300"
              d="M86.4325 6.53418L50.4634 36.9696H86.4325V6.53418Z"
              stroke-width="3"
              stroke-miterlimit="10"
            ></path>
            <path
              d="M50.4625 36.9696L17.2603 6.53418V36.9696H50.4625Z"
              class="stroke-perplexity-primary hover:stroke-perplexity-primary-light transition-colors duration-300"
              stroke-width="3"
              stroke-miterlimit="10"
            ></path>
            <path
              d="M50.4634 1L50.4634 114.441"
              class="stroke-perplexity-primary hover:stroke-perplexity-primary-light transition-colors duration-300"
              stroke-width="3"
              stroke-miterlimit="10"
            ></path>
            <path
              d="M83.6656 70.172L50.4634 36.9697V79.3026L83.6656 108.908V70.172Z"
              class="stroke-perplexity-primary hover:stroke-perplexity-primary-light transition-colors duration-300"
              stroke-width="3"
              stroke-miterlimit="10"
            ></path>
            <path
              d="M17.2603 70.172L50.4625 36.9697V78.4497L17.2603 108.908V70.172Z"
              class="stroke-perplexity-primary hover:stroke-perplexity-primary-light transition-colors duration-300"
              stroke-width="3"
              stroke-miterlimit="10"
            ></path>
            <path
              d="M3.42627 36.9697V81.2394H17.2605V70.172L50.4628 36.9697H3.42627Z"
              class="stroke-perplexity-primary hover:stroke-perplexity-primary-light transition-colors duration-300"
              stroke-width="3"
              stroke-miterlimit="10"
            ></path>
            <path
              d="M50.4634 36.9697L83.6656 70.172V81.2394H97.4999V36.9697L50.4634 36.9697Z"
              class="stroke-perplexity-primary hover:stroke-perplexity-primary-light transition-colors duration-300"
              stroke-width="3"
              stroke-miterlimit="10"
            ></path>
          </svg>
        </div>
      </div>

      <!-- ä½œè€…è³‡è¨Šå€å¡Š - è¡Œå‹•ç‰ˆå„ªåŒ– -->
      <div class="absolute top-4 right-4 z-10 hidden md:block">
        <div class="glass-effect rounded-lg px-4 py-2">
          <span class="created-by text-sm text-dark-text-secondary block"
            >Created by</span
          >
          <a
            href="https://www.threads.com/azlife_1224"
            target="_blank"
            class="social-link text-perplexity-primary hover:text-perplexity-primary-light transition-colors duration-200 text-base"
          >
            <i class="fab fa-threads mr-1"></i> azlife_1224
          </a>
        </div>
      </div>

      <!-- è¡Œå‹•ç‰ˆä½œè€…è³‡è¨Š - é¿å…é®è”½ä¸»æ¨™é¡Œ -->
      <div class="md:hidden absolute top-2 right-2 z-10">
        <a
          href="https://www.threads.com/azlife_1224"
          target="_blank"
          class="glass-effect rounded-full px-3 py-1 text-xs text-perplexity-primary hover:text-perplexity-primary-light transition-colors duration-200"
        >
          <i class="fab fa-threads mr-1"></i> azlife_1224
        </a>
      </div>

      <div class="container mx-auto px-4 relative z-10">
        <div class="text-center max-w-4xl mx-auto">
          <!-- ä¸»æ¨™é¡Œ -->
          <h1
            class="mobile-text-2xl md:text-5xl font-bold leading-tight mb-4 animate-float"
          >
            ğŸ‰ å¸‚åƒ¹
            <span class="text-perplexity-accent animate-pulse">NT$6,990</span>
            çš„ Perplexity Pro å¹´è²»æœƒå“¡
            <br class="hidden md:block" />
            <span class="text-chart-accent2">å®Œå…¨å…è²»é€ï¼</span>
          </h1>

          <!-- å‰¯æ¨™é¡Œ -->
          <p
            class="mobile-text-lg md:text-xl text-dark-text-secondary mb-6 leading-relaxed"
          >
            AI æœå°‹ç¥å™¨ Perplexityï¼ŒChatGPT + Google çš„å®Œç¾åˆé«”<br />
            æŸ¥è³‡æ–™ã€æ•´ç†å ±å‘Šã€æ‰¾éˆæ„Ÿå¿«åˆ°é£›èµ· ğŸš€
          </p>

          <!-- CTA æŒ‰éˆ• -->
          <div
            class="flex flex-col sm:flex-row gap-4 justify-center items-center"
          >
            <a
              href="#redeem"
              class="bg-chart-accent2 hover:bg-orange-600 text-white px-6 py-3 md:px-8 md:py-4 rounded-full font-semibold mobile-text-lg md:text-lg transition-all duration-300 transform hover:scale-105 hover:shadow-xl animate-glow"
            >
              <i class="fas fa-gift mr-2"></i>
              ç«‹å³å…è²»é ˜å–
            </a>
            <a
              href="#features"
              class="bg-dark-bg-card hover:bg-dark-bg-hover text-dark-text px-6 py-3 md:px-8 md:py-4 rounded-full font-semibold mobile-text-lg md:text-lg transition-all duration-300 transform hover:scale-105 border border-dark-border hover:border-perplexity-primary"
            >
              <i class="fas fa-info-circle mr-2"></i>
              äº†è§£æ›´å¤šåŠŸèƒ½
            </a>
          </div>
        </div>
      </div>

      <!-- èƒŒæ™¯è£é£¾ - æ·±è‰²ä¸»é¡Œå„ªåŒ– -->
      <div class="absolute inset-0 overflow-hidden">
        <div
          class="absolute -top-4 -right-4 w-72 h-72 bg-perplexity-primary bg-opacity-10 rounded-full animate-bounce-subtle"
        ></div>
        <div
          class="absolute -bottom-8 -left-8 w-96 h-96 bg-perplexity-secondary bg-opacity-5 rounded-full animate-float"
        ></div>
      </div>
    </header>

    <!-- ä¸»è¦å…§å®¹å€ -->
    <main class="container mx-auto px-4 py-8 md:py-12">
      <!-- å…Œæ›èªªæ˜å€å¡Š -->
      <section id="redeem" class="mb-12 md:mb-16">
        <div class="max-w-4xl mx-auto">
          <div
            class="bg-dark-bg-card rounded-2xl shadow-2xl p-6 md:p-8 border border-dark-border"
          >
            <h2 class="mobile-text-2xl md:text-3xl font-bold text-center mb-8">
              <span
                class="text-transparent bg-gradient-to-r from-perplexity-primary to-perplexity-primary-light bg-clip-text"
              >
                ğŸ é™æ™‚å…è²»é ˜å–æ–¹å¼
              </span>
            </h2>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
              <div
                class="bg-dark-bg-secondary p-6 rounded-xl border border-dark-border hover:border-perplexity-primary hover:bg-dark-bg-hover transition-all duration-300 transform hover:-translate-y-1"
              >
                <div class="text-center">
                  <div
                    class="w-12 h-12 bg-perplexity-primary text-dark-bg rounded-full flex items-center justify-center text-xl font-bold mx-auto mb-4"
                  >
                    1
                  </div>
                  <h3
                    class="font-semibold text-dark-text mb-2 mobile-text-base md:text-lg"
                  >
                    å‰å¾€å…Œæ›é é¢
                  </h3>
                  <p class="mobile-text-sm md:text-sm text-dark-text-secondary">
                    é»æ“Šä¸‹æ–¹é€£çµå‰å¾€å®˜æ–¹å…Œæ›é é¢
                  </p>
                </div>
              </div>

              <div
                class="bg-dark-bg-secondary p-6 rounded-xl border border-dark-border hover:border-perplexity-accent hover:bg-dark-bg-hover transition-all duration-300 transform hover:-translate-y-1"
              >
                <div class="text-center">
                  <div
                    class="w-12 h-12 bg-perplexity-accent text-dark-bg rounded-full flex items-center justify-center text-xl font-bold mx-auto mb-4"
                  >
                    2
                  </div>
                  <h3
                    class="font-semibold text-dark-text mb-2 mobile-text-base md:text-lg"
                  >
                    è¼¸å…¥å…Œæ›ç¢¼
                  </h3>
                  <p
                    class="mobile-text-sm md:text-sm text-dark-text-secondary mb-2"
                  >
                    ä½¿ç”¨å°ˆå±¬å…Œæ›ç¢¼
                  </p>
                  <code
                    class="bg-dark-bg px-2 py-1 rounded mobile-text-xs md:text-xs text-perplexity-primary border border-dark-border block"
                    >PPLXLIUMBLHOTVAJ2QI</code
                  >
                </div>
              </div>

              <div
                class="bg-dark-bg-secondary p-6 rounded-xl border border-dark-border hover:border-chart-accent1 hover:bg-dark-bg-hover transition-all duration-300 transform hover:-translate-y-1"
              >
                <div class="text-center">
                  <div
                    class="w-12 h-12 bg-chart-accent1 text-dark-bg rounded-full flex items-center justify-center text-xl font-bold mx-auto mb-4"
                  >
                    3
                  </div>
                  <h3
                    class="font-semibold text-dark-text mb-2 mobile-text-base md:text-lg"
                  >
                    ç™»å…¥å¸³è™Ÿ
                  </h3>
                  <p class="mobile-text-sm md:text-sm text-dark-text-secondary">
                    é™æœªè¨‚é–±éçš„æ–°ç”¨æˆ¶
                  </p>
                </div>
              </div>

              <div
                class="bg-dark-bg-secondary p-6 rounded-xl border border-dark-border hover:border-chart-accent2 hover:bg-dark-bg-hover transition-all duration-300 transform hover:-translate-y-1"
              >
                <div class="text-center">
                  <div
                    class="w-12 h-12 bg-chart-accent2 text-white rounded-full flex items-center justify-center text-xl font-bold mx-auto mb-4"
                  >
                    4
                  </div>
                  <h3
                    class="font-semibold text-dark-text mb-2 mobile-text-base md:text-lg"
                  >
                    ç«‹å³å•Ÿç”¨
                  </h3>
                  <p class="mobile-text-sm md:text-sm text-dark-text-secondary">
                    é¦¬ä¸Šç²å¾—ä¸€å¹´Proæœƒå“¡ï¼
                  </p>
                </div>
              </div>
            </div>

            <!-- å…Œæ›é€£çµ -->
            <div class="text-center mt-8">
              <a
                href="https://www.perplexity.ai/join/p/redeem"
                target="_blank"
                class="inline-block bg-gradient-to-r from-perplexity-primary to-perplexity-primary-light text-dark-bg px-6 py-3 md:px-8 md:py-4 rounded-full font-bold mobile-text-lg md:text-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105"
              >
                <i class="fas fa-external-link-alt mr-2"></i>
                ç«‹å³å‰å¾€å…Œæ› ğŸ‘‰
              </a>

              <div
                class="mt-4 p-4 bg-yellow-900 bg-opacity-20 border border-yellow-600 border-opacity-30 rounded-lg"
              >
                <p class="mobile-text-sm md:text-sm text-yellow-300 mb-2">
                  âš ï¸
                  <strong>é‡è¦æé†’ï¼š</strong
                  >æ­¤å„ªæƒ é™æ™‚é™é‡ï¼Œæ‰‹æ…¢å°±æ²’äº†ï¼åƒ…é™å¾æœªè¨‚é–±éçš„ç”¨æˆ¶ä½¿ç”¨ã€‚
                </p>
                <p class="mobile-text-sm md:text-sm text-orange-300">
                  ğŸ”¥
                  <strong>ç¨å®¶æ¶ˆæ¯ï¼š</strong
                  >æ“šå¯é æ¶ˆæ¯ï¼Œæ­¤å…Œæ›ç¢¼ç–‘ä¼¼ç‚ºä¸‰æ˜Ÿå…§éƒ¨å“¡å·¥ç¦åˆ©å¤–æµã€‚æˆåŠŸå…Œæ›çš„ç”¨æˆ¶è«‹ç›¡å¿«ä½¿ç”¨ï¼Œé¿å…å¾ŒçºŒè¢«æ’¤å›ï¼
                </p>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- æ•¸æ“šè¦–è¦ºåŒ–å€å¡Š -->
      <section class="mb-12 md:mb-16">
        <div class="max-w-6xl mx-auto">
          <h2
            class="mobile-text-2xl md:text-3xl font-bold text-center mb-4 text-dark-text"
          >
            Perplexity AI æ•ˆèƒ½æ•¸æ“šåˆ†æ
          </h2>
          <p
            class="mobile-text-lg md:text-lg text-dark-text-secondary text-center mb-8 max-w-3xl mx-auto"
          >
            åŸºæ–¼çœŸå¯¦ä½¿ç”¨æ•¸æ“šçš„æ•ˆèƒ½è©•ä¼°å’Œç”¨æˆ¶æ»¿æ„åº¦èª¿æŸ¥
          </p>

          <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8">
            <!-- ç”¨æˆ¶æ»¿æ„åº¦åœ“é¤…åœ– -->
            <div class="chart-container">
              <h3
                class="mobile-text-lg md:text-xl font-semibold text-dark-text mb-4 text-center"
              >
                ç”¨æˆ¶æ»¿æ„åº¦åˆ†å¸ƒ
              </h3>
              <canvas id="satisfactionChart"></canvas>
            </div>

            <!-- åŠŸèƒ½ä½¿ç”¨é »ç‡é•·æ¢åœ– -->
            <div class="chart-container">
              <h3
                class="mobile-text-lg md:text-xl font-semibold text-dark-text mb-4 text-center"
              >
                åŠŸèƒ½ä½¿ç”¨é »ç‡
              </h3>
              <canvas id="featureUsageChart"></canvas>
            </div>
          </div>

          <!-- æ•ˆèƒ½æ¯”è¼ƒåœ–è¡¨ -->
          <div class="chart-container">
            <h3
              class="mobile-text-lg md:text-xl font-semibold text-dark-text mb-4 text-center"
            >
              AI æœå°‹å¼•æ“æ•ˆèƒ½æ¯”è¼ƒ
            </h3>
            <canvas id="performanceChart"></canvas>
          </div>
        </div>
      </section>

      <!-- Perplexity åŠŸèƒ½ä»‹ç´¹ -->
      <section id="features" class="mb-12 md:mb-16">
        <div class="max-w-6xl mx-auto">
          <h2
            class="mobile-text-2xl md:text-4xl font-bold text-center mb-4 text-dark-text"
          >
            ç‚ºä»€éº¼ Perplexity æ˜¯ç¬¬ä¸€åçš„ AI æœå°‹å¼•æ“ï¼Ÿ
          </h2>
          <p
            class="mobile-text-lg md:text-lg text-dark-text-secondary text-center mb-12 max-w-3xl mx-auto"
          >
            çµåˆæœ€æ–° GPT-4 å’Œå³æ™‚ç¶²è·¯æœå°‹ï¼Œæä¾›æº–ç¢ºã€å³æ™‚ã€æœ‰ä¾†æºçš„ AI å›ç­”
          </p>

          <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
            <!-- åŠŸèƒ½å¡ç‰‡ 1 -->
            <div
              class="bg-dark-bg-card rounded-xl p-6 shadow-lg hover:shadow-2xl hover:shadow-perplexity-primary/10 transition-all duration-300 transform hover:-translate-y-2 border border-dark-border hover:border-perplexity-primary"
            >
              <div class="text-center">
                <div
                  class="w-16 h-16 bg-gradient-to-br from-perplexity-primary to-perplexity-primary-light rounded-full flex items-center justify-center mx-auto mb-4"
                >
                  <i class="fas fa-search text-2xl text-dark-bg"></i>
                </div>
                <h3
                  class="mobile-text-xl md:text-xl font-semibold mb-3 text-dark-text"
                >
                  å³æ™‚ç¶²è·¯æœå°‹
                </h3>
                <p
                  class="text-dark-text-secondary leading-relaxed mobile-text-base md:text-base"
                >
                  ä¸åƒ ChatGPT åªèƒ½å›ç­”è¨“ç·´è³‡æ–™ï¼ŒPerplexity
                  èƒ½å³æ™‚æœå°‹æœ€æ–°è³‡è¨Šï¼Œæä¾›æº–ç¢ºçš„å³æ™‚ç­”æ¡ˆã€‚
                </p>
              </div>
            </div>

            <!-- åŠŸèƒ½å¡ç‰‡ 2 -->
            <div
              class="bg-dark-bg-card rounded-xl p-6 shadow-lg hover:shadow-2xl hover:shadow-perplexity-accent/10 transition-all duration-300 transform hover:-translate-y-2 border border-dark-border hover:border-perplexity-accent"
            >
              <div class="text-center">
                <div
                  class="w-16 h-16 bg-gradient-to-br from-perplexity-accent to-chart-accent1 rounded-full flex items-center justify-center mx-auto mb-4"
                >
                  <i class="fas fa-link text-2xl text-dark-bg"></i>
                </div>
                <h3
                  class="mobile-text-xl md:text-xl font-semibold mb-3 text-dark-text"
                >
                  ä¾†æºå¼•ç”¨
                </h3>
                <p
                  class="text-dark-text-secondary leading-relaxed mobile-text-base md:text-base"
                >
                  æ¯å€‹å›ç­”éƒ½æä¾›å¯é ä¾†æºé€£çµï¼Œè®“æ‚¨é©—è­‰è³‡è¨Šçš„æº–ç¢ºæ€§ï¼Œé©åˆå­¸è¡“ç ”ç©¶å’Œå°ˆæ¥­å·¥ä½œã€‚
                </p>
              </div>
            </div>

            <!-- åŠŸèƒ½å¡ç‰‡ 3 -->
            <div
              class="bg-dark-bg-card rounded-xl p-6 shadow-lg hover:shadow-2xl hover:shadow-chart-accent1/10 transition-all duration-300 transform hover:-translate-y-2 border border-dark-border hover:border-chart-accent1"
            >
              <div class="text-center">
                <div
                  class="w-16 h-16 bg-gradient-to-br from-chart-accent1 to-perplexity-accent rounded-full flex items-center justify-center mx-auto mb-4"
                >
                  <i class="fas fa-brain text-2xl text-dark-bg"></i>
                </div>
                <h3
                  class="mobile-text-xl md:text-xl font-semibold mb-3 text-dark-text"
                >
                  AI æ·±åº¦åˆ†æ
                </h3>
                <p
                  class="text-dark-text-secondary leading-relaxed mobile-text-base md:text-base"
                >
                  çµåˆ GPT-4
                  çš„ç†è§£èƒ½åŠ›ï¼Œä¸åªæœå°‹è³‡æ–™ï¼Œé‚„èƒ½åˆ†æã€æ•´ç†ã€æ¯”è¼ƒå¤šå€‹ä¾†æºçš„è³‡è¨Šã€‚
                </p>
              </div>
            </div>

            <!-- åŠŸèƒ½å¡ç‰‡ 4 -->
            <div
              class="bg-dark-bg-card rounded-xl p-6 shadow-lg hover:shadow-2xl hover:shadow-chart-accent2/10 transition-all duration-300 transform hover:-translate-y-2 border border-dark-border hover:border-chart-accent2"
            >
              <div class="text-center">
                <div
                  class="w-16 h-16 bg-gradient-to-br from-chart-accent2 to-red-500 rounded-full flex items-center justify-center mx-auto mb-4"
                >
                  <i class="fas fa-comments text-2xl text-white"></i>
                </div>
                <h3
                  class="mobile-text-xl md:text-xl font-semibold mb-3 text-dark-text"
                >
                  å°è©±å¼æœå°‹
                </h3>
                <p
                  class="text-dark-text-secondary leading-relaxed mobile-text-base md:text-base"
                >
                  å¯ä»¥è¿½å•ã€å»¶ä¼¸è¨è«–ï¼Œå°±åƒå’Œå°ˆå®¶å°è©±ä¸€æ¨£ï¼Œæ·±å…¥æ¢è¨è¤‡é›œä¸»é¡Œã€‚
                </p>
              </div>
            </div>

            <!-- åŠŸèƒ½å¡ç‰‡ 5 -->
            <div
              class="bg-dark-bg-card rounded-xl p-6 shadow-lg hover:shadow-2xl hover:shadow-purple-500/10 transition-all duration-300 transform hover:-translate-y-2 border border-dark-border hover:border-purple-500"
            >
              <div class="text-center">
                <div
                  class="w-16 h-16 bg-gradient-to-br from-purple-500 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-4"
                >
                  <i class="fas fa-file-alt text-2xl text-white"></i>
                </div>
                <h3
                  class="mobile-text-xl md:text-xl font-semibold mb-3 text-dark-text"
                >
                  æ–‡ä»¶åˆ†æ
                </h3>
                <p
                  class="text-dark-text-secondary leading-relaxed mobile-text-base md:text-base"
                >
                  ä¸Šå‚³ PDFã€æ–‡ä»¶è®“ AI åˆ†æå…§å®¹ï¼Œå¿«é€Ÿæå–é‡é»ã€å›ç­”ç›¸é—œå•é¡Œã€‚
                </p>
              </div>
            </div>

            <!-- åŠŸèƒ½å¡ç‰‡ 6 -->
            <div
              class="bg-dark-bg-card rounded-xl p-6 shadow-lg hover:shadow-2xl hover:shadow-pink-500/10 transition-all duration-300 transform hover:-translate-y-2 border border-dark-border hover:border-pink-500"
            >
              <div class="text-center">
                <div
                  class="w-16 h-16 bg-gradient-to-br from-pink-500 to-pink-600 rounded-full flex items-center justify-center mx-auto mb-4"
                >
                  <i class="fas fa-chart-line text-2xl text-white"></i>
                </div>
                <h3
                  class="mobile-text-xl md:text-xl font-semibold mb-3 text-dark-text"
                >
                  æ•¸æ“šè¦–è¦ºåŒ–
                </h3>
                <p
                  class="text-dark-text-secondary leading-relaxed mobile-text-base md:text-base"
                >
                  Pro ç‰ˆå¯ç”Ÿæˆåœ–è¡¨ã€çµ±è¨ˆåˆ†æï¼Œè®“è¤‡é›œè³‡æ–™è®Šå¾—ä¸€ç›®äº†ç„¶ã€‚
                </p>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- CTA å€å¡Š -->
      <section
        class="text-center py-12 bg-gradient-to-r from-dark-bg-secondary to-dark-bg-tertiary rounded-2xl border border-dark-border-light -mx-4 px-4"
      >
        <div class="max-w-4xl mx-auto">
          <h2 class="mobile-text-2xl md:text-4xl font-bold mb-4 text-dark-text">
            é‚„åœ¨çŒ¶è±«å—ï¼Ÿç¾åœ¨å°±å…è²»é«”é©—ï¼
          </h2>
          <p class="mobile-text-xl md:text-xl mb-8 text-dark-text-secondary">
            åƒ¹å€¼ NT$6,990 çš„å¹´è²»æœƒå“¡ï¼Œå®Œå…¨å…è²»ï¼Œåƒ…æ­¤ä¸€æ¬¡æ©Ÿæœƒ
          </p>

          <div class="flex flex-col sm:flex-row gap-4 justify-center">
            <a
              href="https://www.perplexity.ai/join/p/redeem"
              target="_blank"
              class="bg-chart-accent2 hover:bg-orange-600 text-white px-6 py-3 md:px-8 md:py-4 rounded-full font-bold mobile-text-lg md:text-lg transition-all duration-300 transform hover:scale-105 hover:shadow-xl inline-flex items-center justify-center"
            >
              <i class="fas fa-rocket mr-2"></i>
              ç«‹å³å…è²»é ˜å– Pro æœƒå“¡
            </a>

            <button
              onclick="copyRedeemCode()"
              class="bg-dark-bg-card hover:bg-dark-bg-hover text-dark-text px-6 py-3 md:px-8 md:py-4 rounded-full font-bold mobile-text-lg md:text-lg transition-all duration-300 transform hover:scale-105 border border-dark-border hover:border-perplexity-primary inline-flex items-center justify-center"
            >
              <i class="fas fa-copy mr-2"></i>
              è¤‡è£½å…Œæ›ç¢¼
            </button>
          </div>

          <div
            class="mt-6 p-4 bg-red-900 bg-opacity-20 border border-red-600 border-opacity-40 rounded-lg"
          >
            <p
              class="mobile-text-sm md:text-sm text-red-300 mb-2 font-semibold"
            >
              ğŸš€ ç·Šæ€¥æé†’ï¼šå…Œæ›ç¢¼å¯èƒ½ç‚ºä¸‰æ˜Ÿå…§éƒ¨æµå‡ºï¼Œæœ‰å¯èƒ½ 48
              å°æ™‚å…§å°‡å…¨é¢åœç”¨æ‰€æœ‰å¤–æµå…Œæ›ç¢¼ï¼
            </p>
            <p class="mobile-text-sm md:text-sm text-yellow-300">
              å…Œæ›ç¢¼ï¼š<code
                class="bg-dark-bg-card px-2 py-1 ml-2 rounded text-perplexity-primary border border-dark-border font-mono"
                >PPLXLIUMBLHOTVAJ2QI</code
              >
            </p>
          </div>
        </div>
      </section>
    </main>

    <!-- Footer -->
    <footer
      class="bg-dark-bg-tertiary text-dark-text py-8 mt-16 border-t border-dark-border"
    >
      <div class="container mx-auto px-4 text-center">
        <div class="mb-4">
          <span
            class="created-by text-dark-text-secondary mobile-text-sm md:text-base"
            >Created by</span
          >
          <a
            href="https://www.threads.com/azlife_1224"
            target="_blank"
            class="social-link text-perplexity-primary hover:text-perplexity-primary-light transition-colors duration-200 ml-2 mobile-text-sm md:text-base"
          >
            <i class="fab fa-threads mr-1"></i> azlife_1224
          </a>
        </div>
        <p class="text-dark-text-secondary mobile-text-sm md:text-sm">
          æœ¬ç¶²ç«™åƒ…ç‚ºè³‡è¨Šåˆ†äº«ç”¨é€”ï¼Œè«‹è‡³å®˜æ–¹ç¶²ç«™ç¢ºèªæœ€æ–°å„ªæƒ è³‡è¨Š
        </p>
        <p class="text-dark-text-muted mobile-text-xs md:text-xs mt-2">
          Â© 2024 All rights reserved. Perplexity æ˜¯ Perplexity AI çš„è¨»å†Šå•†æ¨™ã€‚
        </p>
      </div>
    </footer>

    <!-- Easter Egg Button -->
    <button
      class="easter-egg-btn fixed bottom-5 right-5 w-12 h-12 md:w-14 md:h-14 rounded-full z-50 animate-float"
      onclick="triggerEasterEgg()"
      title="é»æ“Šä¸‰æ¬¡è§£é–éš±è—åŠŸèƒ½ï¼"
    >
      <i class="fas fa-star text-white mobile-text-lg md:text-xl"></i>
    </button>

    <script>
      // Enhanced Error Handling and Global Error Boundary
      window.PerplexityApp = {
        isLoaded: false,
        hasErrors: false,
        chartInstances: [],
        errorMessages: [],
      };

      // Global error handler
      window.addEventListener("error", function (event) {
        console.error("Global error:", event.error);
        window.PerplexityApp.hasErrors = true;
        window.PerplexityApp.errorMessages.push(event.error.message);

        if (!window.PerplexityApp.isLoaded) {
          showErrorBoundary();
        }
      });

      // Unhandled promise rejection handler
      window.addEventListener("unhandledrejection", function (event) {
        console.error("Unhandled promise rejection:", event.reason);
        event.preventDefault();
        window.PerplexityApp.hasErrors = true;
        window.PerplexityApp.errorMessages.push(
          "Promise rejection: " + event.reason
        );
      });

      function showErrorBoundary() {
        const errorBoundary = document.getElementById("error-boundary");
        const loadingScreen = document.getElementById("loading-screen");

        if (loadingScreen) {
          loadingScreen.style.display = "none";
        }

        if (errorBoundary) {
          errorBoundary.classList.remove("hidden");
        }
      }

      function hideLoadingScreen() {
        const loadingScreen = document.getElementById("loading-screen");
        if (loadingScreen) {
          loadingScreen.style.opacity = "0";
          setTimeout(() => {
            loadingScreen.style.display = "none";
          }, 500);
        }
        window.PerplexityApp.isLoaded = true;
      }

      // Safe Chart.js check
      function isChartJSLoaded() {
        return typeof Chart !== "undefined";
      }

      // Enhanced toast notification system
      function showToast(message, type = "info") {
        try {
          const toast = document.createElement("div");
          toast.className = `fixed top-5 right-5 z-50 px-4 py-3 rounded-lg text-white font-medium transform translate-x-full transition-transform duration-300 max-w-sm`;

          const colors = {
            success: "bg-green-600",
            error: "bg-red-600",
            info: "bg-blue-600",
            warning: "bg-yellow-600",
          };

          toast.classList.add(colors[type] || colors.info);

          const icon = {
            success: "âœ“",
            error: "âœ—",
            info: "â„¹",
            warning: "âš ",
          };

          toast.innerHTML = `<span class="mr-2">${
            icon[type] || icon.info
          }</span>${message}`;

          document.body.appendChild(toast);

          // Force reflow before animation
          toast.offsetHeight;

          setTimeout(() => {
            toast.classList.remove("translate-x-full");
          }, 100);

          setTimeout(() => {
            toast.classList.add("translate-x-full");
            setTimeout(() => {
              if (document.body.contains(toast)) {
                document.body.removeChild(toast);
              }
            }, 300);
          }, 3000);
        } catch (error) {
          console.error("Toast notification error:", error);
          // Fallback: use alert if toast fails
          alert(message);
        }
      }

      // Enhanced copy function with better error handling
      function copyRedeemCode() {
        const redeemCode = "PPLXLIUMBLHOTVAJ2QI";

        try {
          if (navigator.clipboard && navigator.clipboard.writeText) {
            navigator.clipboard
              .writeText(redeemCode)
              .then(function () {
                showToast("å…Œæ›ç¢¼å·²è¤‡è£½åˆ°å‰ªè²¼ç°¿ï¼", "success");
              })
              .catch(function (err) {
                console.warn("Clipboard API failed:", err);
                fallbackCopyTextToClipboard(redeemCode);
              });
          } else {
            fallbackCopyTextToClipboard(redeemCode);
          }
        } catch (error) {
          console.error("Copy function error:", error);
          showToast("è¤‡è£½åŠŸèƒ½æš«æ™‚ç„¡æ³•ä½¿ç”¨ï¼Œå…Œæ›ç¢¼ç‚ºï¼š" + redeemCode, "warning");
        }
      }

      function fallbackCopyTextToClipboard(text) {
        try {
          const textArea = document.createElement("textarea");
          textArea.value = text;
          textArea.style.position = "fixed";
          textArea.style.top = "0";
          textArea.style.left = "0";
          textArea.style.opacity = "0";

          document.body.appendChild(textArea);
          textArea.focus();
          textArea.select();

          const successful = document.execCommand("copy");
          document.body.removeChild(textArea);

          if (successful) {
            showToast("å…Œæ›ç¢¼å·²è¤‡è£½åˆ°å‰ªè²¼ç°¿ï¼", "success");
          } else {
            showToast("è«‹æ‰‹å‹•è¤‡è£½å…Œæ›ç¢¼ï¼š" + text, "warning");
          }
        } catch (err) {
          console.error("Fallback copy failed:", err);
          showToast("è¤‡è£½å¤±æ•—ï¼Œå…Œæ›ç¢¼ç‚ºï¼š" + text, "error");
        }
      }

      // åœ–è¡¨åˆå§‹åŒ–å’Œæ•¸æ“šè¦–è¦ºåŒ–
      function initializeCharts() {
        if (!isChartJSLoaded()) {
          console.warn("Chart.js not available, skipping chart initialization");
          return;
        }

        try {
          // æ·±è‰²ä¸»é¡Œåœ–è¡¨é…è‰²
          const chartColors = {
            primary: "#20b2aa",
            secondary: "#40e0d0",
            accent1: "#00d084",
            accent2: "#ff6b35",
            accent3: "#ffd60a",
            accent4: "#3742fa",
            accent5: "#ff4757",
          };

          // Common chart options for dark theme with height constraints
          const darkThemeOptions = {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
              legend: {
                labels: {
                  color: "#f5f5f5",
                  font: { size: 12 },
                },
              },
            },
          };

          // ç”¨æˆ¶æ»¿æ„åº¦åœ“é¤…åœ–
          const satisfactionCtx = document.getElementById("satisfactionChart");
          if (satisfactionCtx) {
            const satisfactionChart = new Chart(satisfactionCtx, {
              type: "doughnut",
              data: {
                labels: ["éå¸¸æ»¿æ„", "æ»¿æ„", "æ™®é€š", "ä¸æ»¿æ„"],
                datasets: [
                  {
                    data: [45, 35, 15, 5],
                    backgroundColor: [
                      chartColors.primary,
                      chartColors.accent1,
                      chartColors.accent3,
                      chartColors.accent5,
                    ],
                    borderColor: "#1f1f1f",
                    borderWidth: 2,
                  },
                ],
              },
              options: darkThemeOptions,
            });
            window.PerplexityApp.chartInstances.push(satisfactionChart);
          }

          // åŠŸèƒ½ä½¿ç”¨é »ç‡é•·æ¢åœ–
          const featureCtx = document.getElementById("featureUsageChart");
          if (featureCtx) {
            const featureChart = new Chart(featureCtx, {
              type: "bar",
              data: {
                labels: ["æœå°‹", "åˆ†æ", "æ–‡ä»¶", "å°è©±", "åœ–è¡¨"],
                datasets: [
                  {
                    label: "ä½¿ç”¨é »ç‡(%)",
                    data: [85, 72, 58, 69, 45],
                    backgroundColor: [
                      chartColors.primary,
                      chartColors.secondary,
                      chartColors.accent1,
                      chartColors.accent2,
                      chartColors.accent4,
                    ],
                    borderColor: "#2a2a2a",
                    borderWidth: 1,
                  },
                ],
              },
              options: {
                ...darkThemeOptions,
                scales: {
                  y: {
                    ticks: { color: "#a1a1a1" },
                    grid: { color: "#2a2a2a" },
                  },
                  x: {
                    ticks: { color: "#a1a1a1" },
                    grid: { color: "#2a2a2a" },
                  },
                },
              },
            });
            window.PerplexityApp.chartInstances.push(featureChart);
          }

          // AI æœå°‹å¼•æ“æ•ˆèƒ½æ¯”è¼ƒåœ–
          const performanceCtx = document.getElementById("performanceChart");
          if (performanceCtx) {
            const performanceChart = new Chart(performanceCtx, {
              type: "radar",
              data: {
                labels: [
                  "æº–ç¢ºæ€§",
                  "é€Ÿåº¦",
                  "ä¾†æºå¯é æ€§",
                  "ä½¿ç”¨ä¾¿åˆ©æ€§",
                  "åŠŸèƒ½è±å¯Œåº¦",
                  "åƒ¹æ ¼å„ªå‹¢",
                ],
                datasets: [
                  {
                    label: "Perplexity AI",
                    data: [95, 88, 92, 85, 90, 98],
                    backgroundColor: "rgba(32, 178, 170, 0.2)",
                    borderColor: chartColors.primary,
                    borderWidth: 3,
                  },
                  {
                    label: "ChatGPT",
                    data: [78, 82, 65, 90, 85, 70],
                    backgroundColor: "rgba(255, 107, 53, 0.2)",
                    borderColor: chartColors.accent2,
                    borderWidth: 2,
                  },
                  {
                    label: "Google Search",
                    data: [70, 95, 80, 75, 60, 100],
                    backgroundColor: "rgba(55, 66, 250, 0.2)",
                    borderColor: chartColors.accent4,
                    borderWidth: 2,
                  },
                ],
              },
              options: {
                ...darkThemeOptions,
                scales: {
                  r: {
                    beginAtZero: true,
                    max: 100,
                    ticks: { color: "#a1a1a1" },
                    grid: { color: "#2a2a2a" },
                    pointLabels: { color: "#f5f5f5" },
                  },
                },
              },
            });
            window.PerplexityApp.chartInstances.push(performanceChart);
          }
        } catch (error) {
          console.error("Chart initialization error:", error);
          showToast("åœ–è¡¨è¼‰å…¥å¤±æ•—ï¼Œä½†ä¸å½±éŸ¿å…¶ä»–åŠŸèƒ½ä½¿ç”¨", "warning");
        }
      }

      function setupInteractivity() {
        try {
          // å¹³æ»‘æ²å‹•
          document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
            anchor.addEventListener("click", function (e) {
              e.preventDefault();
              const target = document.querySelector(this.getAttribute("href"));
              if (target) {
                target.scrollIntoView({
                  behavior: "smooth",
                  block: "start",
                });
              }
            });
          });

          // é€²å ´å‹•ç•« with improved performance
          const observer = new IntersectionObserver(
            (entries) => {
              entries.forEach((entry) => {
                if (entry.isIntersecting) {
                  entry.target.style.opacity = "1";
                  entry.target.style.transform = "translateY(0)";
                  // Unobserve after animation to improve performance
                  observer.unobserve(entry.target);
                }
              });
            },
            { threshold: 0.1, rootMargin: "50px" }
          );

          // Apply animation to cards with better selector
          const animatedElements = document.querySelectorAll(
            ".bg-dark-bg-card, .bg-dark-bg-secondary"
          );
          animatedElements.forEach((element) => {
            element.style.opacity = "0";
            element.style.transform = "translateY(20px)";
            element.style.transition = "opacity 0.6s ease, transform 0.6s ease";
            observer.observe(element);
          });
        } catch (error) {
          console.error("Interactivity setup error:", error);
          // Continue without animations if there's an error
        }
      }

      // Enhanced Easter Egg System
      let easterEggClicks = 0;
      let easterEggActive = false;
      let clickResetTimer = null;

      function setupEasterEggSystem() {
        try {
          // Reset variables
          easterEggClicks = 0;
          easterEggActive = false;

          // Konami Code setup
          setupKonamiCode();
        } catch (error) {
          console.error("Easter egg setup error:", error);
        }
      }

      function triggerEasterEgg() {
        try {
          if (easterEggActive) return;

          easterEggClicks++;

          if (clickResetTimer) {
            clearTimeout(clickResetTimer);
          }

          if (easterEggClicks === 3) {
            activateEasterEgg();
            easterEggClicks = 0;
          } else if (easterEggClicks < 3) {
            showToast(`å†é»æ“Š ${3 - easterEggClicks} æ¬¡è§£é–éš±è—åŠŸèƒ½ï¼`, "info");

            clickResetTimer = setTimeout(() => {
              easterEggClicks = 0;
              clickResetTimer = null;
            }, 3000);
          }
        } catch (error) {
          console.error("Easter egg trigger error:", error);
        }
      }

      function activateEasterEgg() {
        try {
          easterEggActive = true;

          createConfettiEffect();
          showToast(
            "ğŸ‰ æ­å–œç™¼ç¾éš±è—å½©è›‹ï¼æ‚¨æ˜¯çœŸæ­£çš„ Perplexity æ¢ç´¢è€…ï¼",
            "success"
          );

          setTimeout(() => {
            easterEggActive = false;
          }, 5000);
        } catch (error) {
          console.error("Easter egg activation error:", error);
        }
      }

      function createConfettiEffect() {
        try {
          for (let i = 0; i < 30; i++) {
            const confetti = document.createElement("div");
            confetti.style.position = "fixed";
            confetti.style.width = "8px";
            confetti.style.height = "8px";
            confetti.style.backgroundColor = `hsl(${
              Math.random() * 360
            }, 70%, 60%)`;
            confetti.style.left = Math.random() * window.innerWidth + "px";
            confetti.style.top = "-10px";
            confetti.style.borderRadius = "50%";
            confetti.style.zIndex = "9999";
            confetti.style.pointerEvents = "none";
            confetti.style.animation = `fall ${
              Math.random() * 3 + 2
            }s linear forwards`;

            document.body.appendChild(confetti);

            setTimeout(() => {
              if (document.body.contains(confetti)) {
                document.body.removeChild(confetti);
              }
            }, 5000);
          }
        } catch (error) {
          console.error("Confetti effect error:", error);
        }
      }

      function setupKonamiCode() {
        try {
          let konami = [];
          const konamiCode = [
            "ArrowUp",
            "ArrowUp",
            "ArrowDown",
            "ArrowDown",
            "ArrowLeft",
            "ArrowRight",
            "ArrowLeft",
            "ArrowRight",
            "KeyB",
            "KeyA",
          ];

          document.addEventListener("keydown", function (e) {
            konami.push(e.code);
            if (konami.length > konamiCode.length) {
              konami.shift();
            }

            if (
              konami.length === konamiCode.length &&
              konami.every((key, i) => key === konamiCode[i])
            ) {
              showToast(
                "ğŸ® Konami Code å·²å•Ÿå‹•ï¼æ‚¨çœŸæ˜¯å€‹å¾©å¤éŠæˆ²è¿·ï¼",
                "success"
              );
              document.body.style.animation = "bounceAnimation 1s ease-in-out";
              setTimeout(() => {
                document.body.style.animation = "";
              }, 1000);
              konami = [];
            }
          });
        } catch (error) {
          console.error("Konami code setup error:", error);
        }
      }

      // Global function exposure
      window.copyRedeemCode = copyRedeemCode;
      window.showToast = showToast;
      window.triggerEasterEgg = triggerEasterEgg;

      // Main initialization function
      function initializeWebsite() {
        // Check if essential libraries are loaded
        if (!isChartJSLoaded()) {
          console.warn("Chart.js not loaded, charts will be disabled");
        }

        // Initialize all components
        initializeCharts();
        setupInteractivity();
        setupEasterEggSystem();

        // Hide loading screen after successful initialization
        setTimeout(() => {
          if (!window.PerplexityApp.hasErrors) {
            hideLoadingScreen();
          }
        }, 1000);
      }

      // Initialize everything when DOM is ready
      document.addEventListener("DOMContentLoaded", function () {
        try {
          initializeWebsite();
        } catch (error) {
          console.error("Initialization error:", error);
          window.PerplexityApp.hasErrors = true;
          showErrorBoundary();
        }
      });

      // Add required animations
      const animationStyle = document.createElement("style");
      animationStyle.textContent = `
        @keyframes fall {
          to {
            transform: translateY(100vh) rotate(360deg);
          }
        }
        @keyframes bounceAnimation {
          0%, 20%, 53%, 80%, 100% {
            transform: translate3d(0,0,0);
          }
          40%, 43% {
            transform: translate3d(0, -30px, 0);
          }
          70% {
            transform: translate3d(0, -15px, 0);
          }
          90% {
            transform: translate3d(0, -4px, 0);
          }
        }
      `;
      document.head.appendChild(animationStyle);
    </script>
  </body>
</html>
