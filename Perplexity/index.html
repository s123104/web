<!DOCTYPE html>
<html lang="zh-TW" class="dark">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="Perplexity AI 免費年費會員優惠 - 價值NT$6990的Pro會員完全免費送！結合GPT-4和即時網路搜尋的AI搜尋神器。"
    />
    <meta
      name="keywords"
      content="Perplexity AI, 免費會員, AI搜尋, GPT-4, 即時搜尋, 兌換碼"
    />
    <meta
      property="og:title"
      content="Perplexity AI - 免費送價值NT$6990年費會員！"
    />
    <meta
      property="og:description"
      content="AI搜尋神器Perplexity，ChatGPT + Google的完美合體。查資料、整理報告、找靈感快到飛起！"
    />
    <meta property="og:type" content="website" />
    <meta property="og:image" content="/og-image.jpg" />
    <meta name="twitter:card" content="summary_large_image" />
    <title>Perplexity AI - 免費送價值NT$6990年費會員！AI搜尋神器</title>

    <!-- Preload Critical Resources -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link rel="preconnect" href="https://cdn.tailwindcss.com" />
    <link rel="preconnect" href="https://cdnjs.cloudflare.com" />

    <!-- Critical CSS First -->
    <style>
      /* Critical CSS for above-the-fold content */
      .loading-screen {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: #0a0a0a;
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 9999;
        transition: opacity 0.5s ease-out;
      }
      .loading-spinner {
        width: 50px;
        height: 50px;
        border: 3px solid #2a2a2a;
        border-top: 3px solid #20b2aa;
        border-radius: 50%;
        animation: spin 1s linear infinite;
      }
      @keyframes spin {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }
      body {
        margin: 0;
        padding: 0;
        background: #0a0a0a;
        color: #f5f5f5;
        font-family: Inter, "Noto Sans TC", system-ui, sans-serif;
      }

      /* Chart container height limits */
      .chart-container {
        background: #1f1f1f;
        border: 1px solid #2a2a2a;
        border-radius: 12px;
        padding: 1.5rem;
        margin: 1rem 0;
        height: 400px; /* Fixed height to prevent infinite expansion */
        position: relative;
      }
      .chart-container canvas {
        max-height: 350px !important; /* Prevent canvas from expanding beyond container */
      }
    </style>

    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Chart.js for Data Visualization -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>

    <!-- Font Awesome Icons -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
      integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />

    <!-- Google Fonts -->
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Noto+Sans+TC:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />

    <script>
      tailwind.config = {
        darkMode: "class",
        theme: {
          extend: {
            colors: {
              // Perplexity 官方深色主題色彩系統
              dark: {
                bg: "#0a0a0a",
                "bg-secondary": "#141414",
                "bg-tertiary": "#1a1a1a",
                "bg-card": "#1f1f1f",
                "bg-hover": "#262626",
                text: "#f5f5f5",
                "text-secondary": "#a1a1a1",
                "text-muted": "#6b7280",
                border: "#2a2a2a",
                "border-light": "#333333",
              },
              perplexity: {
                primary: "#20b2aa",
                "primary-light": "#40e0d0",
                "primary-dark": "#1e8b7b",
                secondary: "#48cae4",
                accent: "#00d084",
              },
              chart: {
                primary: "#20b2aa",
                secondary: "#40e0d0",
                accent1: "#00d084",
                accent2: "#ff6b35",
                accent3: "#ffd60a",
                accent4: "#3742fa",
                accent5: "#ff4757",
              },
            },
            fontFamily: {
              sans: ["Inter", "Noto Sans TC", "system-ui", "sans-serif"],
            },
            spacing: {
              18: "4.5rem",
              88: "22rem",
            },
            animation: {
              glow: "glow 2s ease-in-out infinite alternate",
              float: "float 3s ease-in-out infinite",
              "bounce-subtle": "bounce-subtle 2s infinite",
            },
          },
        },
      };
    </script>

    <style>
      @keyframes glow {
        from {
          box-shadow: 0 0 5px #20b2aa;
        }
        to {
          box-shadow: 0 0 20px #20b2aa, 0 0 30px #20b2aa;
        }
      }

      @keyframes float {
        0%,
        100% {
          transform: translateY(0px);
        }
        50% {
          transform: translateY(-10px);
        }
      }

      @keyframes bounce-subtle {
        0%,
        20%,
        53%,
        80%,
        100% {
          transform: translate3d(0, 0, 0);
        }
        40%,
        43% {
          transform: translate3d(0, -8px, 0);
        }
        70% {
          transform: translate3d(0, -4px, 0);
        }
      }

      /* 行動裝置字體大小優化 */
      @media (max-width: 640px) {
        html {
          font-size: 16px;
        }

        /* 確保主標題區域有足夠的上方間距，避免與作者資訊重疊 */
        header .container {
          padding-top: 3rem;
        }

        .mobile-text-xs {
          font-size: 0.75rem;
          line-height: 1rem;
        }
        .mobile-text-sm {
          font-size: 0.875rem;
          line-height: 1.25rem;
        }
        .mobile-text-base {
          font-size: 1rem;
          line-height: 1.5rem;
        }
        .mobile-text-lg {
          font-size: 1.125rem;
          line-height: 1.75rem;
        }
        .mobile-text-xl {
          font-size: 1.25rem;
          line-height: 1.75rem;
        }
        .mobile-text-2xl {
          font-size: 1.5rem;
          line-height: 2rem;
        }
        .mobile-text-3xl {
          font-size: 1.875rem;
          line-height: 2.25rem;
        }
        .mobile-text-4xl {
          font-size: 2.25rem;
          line-height: 2.5rem;
        }

        /* 優化手機版卡片間距 */
        .bg-dark-bg-card {
          margin: 0.75rem 0;
          padding: 1rem;
        }

        /* 警告訊息框手機版優化 */
        .bg-yellow-900,
        .bg-red-900 {
          margin: 1rem -0.5rem;
          padding: 0.75rem;
        }
      }

      /* Perplexity Logo SVG 優化 */
      .perplexity-logo svg {
        filter: drop-shadow(0 0 8px rgba(32, 178, 170, 0.3));
        transition: all 0.3s ease;
      }

      .perplexity-logo:hover svg {
        filter: drop-shadow(0 0 12px rgba(64, 224, 208, 0.5));
        transform: scale(1.05);
      }

      /* 深色主題最佳化 */
      .glass-effect {
        backdrop-filter: blur(10px);
        background: rgba(20, 178, 170, 0.1);
        border: 1px solid rgba(20, 178, 170, 0.2);
      }

      /* 彩蛋按鈕優化 */
      .easter-egg-btn {
        background: linear-gradient(45deg, #20b2aa, #40e0d0);
        border: 2px solid rgba(32, 178, 170, 0.3);
        transition: all 0.3s ease;
      }

      .easter-egg-btn:hover {
        background: linear-gradient(45deg, #40e0d0, #20b2aa);
        border-color: rgba(64, 224, 208, 0.6);
        box-shadow: 0 0 20px rgba(32, 178, 170, 0.5);
      }
    </style>
  </head>

  <body class="font-sans bg-dark-bg text-dark-text min-h-screen dark">
    <!-- Loading Screen -->
    <div id="loading-screen" class="loading-screen">
      <div class="loading-spinner"></div>
    </div>

    <!-- Error Boundary Container -->
    <div
      id="error-boundary"
      class="hidden fixed inset-0 bg-red-900 bg-opacity-50 flex items-center justify-center z-50"
    >
      <div class="bg-white rounded-lg p-6 max-w-md mx-4">
        <h3 class="text-xl font-bold text-red-600 mb-4">發生錯誤</h3>
        <p class="text-gray-700 mb-4">
          抱歉，網站載入時發生問題。請重新整理頁面或稍後再試。
        </p>
        <button
          onclick="location.reload()"
          class="bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700"
        >
          重新載入
        </button>
      </div>
    </div>

    <!-- Header Section - 深色主題優化 -->
    <header
      class="relative overflow-hidden bg-gradient-to-br from-dark-bg via-dark-bg-secondary to-dark-bg-tertiary text-dark-text py-8 md:py-12 border-b border-dark-border"
    >
      <!-- Perplexity Logo -->
      <div class="absolute top-4 left-4 z-10">
        <div class="perplexity-logo">
          <svg
            viewBox="0 0 101 116"
            stroke="none"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
            class="w-8 h-10 md:w-10 md:h-12"
          >
            <path
              class="stroke-perplexity-primary hover:stroke-perplexity-primary-light transition-colors duration-300"
              d="M86.4325 6.53418L50.4634 36.9696H86.4325V6.53418Z"
              stroke-width="3"
              stroke-miterlimit="10"
            ></path>
            <path
              d="M50.4625 36.9696L17.2603 6.53418V36.9696H50.4625Z"
              class="stroke-perplexity-primary hover:stroke-perplexity-primary-light transition-colors duration-300"
              stroke-width="3"
              stroke-miterlimit="10"
            ></path>
            <path
              d="M50.4634 1L50.4634 114.441"
              class="stroke-perplexity-primary hover:stroke-perplexity-primary-light transition-colors duration-300"
              stroke-width="3"
              stroke-miterlimit="10"
            ></path>
            <path
              d="M83.6656 70.172L50.4634 36.9697V79.3026L83.6656 108.908V70.172Z"
              class="stroke-perplexity-primary hover:stroke-perplexity-primary-light transition-colors duration-300"
              stroke-width="3"
              stroke-miterlimit="10"
            ></path>
            <path
              d="M17.2603 70.172L50.4625 36.9697V78.4497L17.2603 108.908V70.172Z"
              class="stroke-perplexity-primary hover:stroke-perplexity-primary-light transition-colors duration-300"
              stroke-width="3"
              stroke-miterlimit="10"
            ></path>
            <path
              d="M3.42627 36.9697V81.2394H17.2605V70.172L50.4628 36.9697H3.42627Z"
              class="stroke-perplexity-primary hover:stroke-perplexity-primary-light transition-colors duration-300"
              stroke-width="3"
              stroke-miterlimit="10"
            ></path>
            <path
              d="M50.4634 36.9697L83.6656 70.172V81.2394H97.4999V36.9697L50.4634 36.9697Z"
              class="stroke-perplexity-primary hover:stroke-perplexity-primary-light transition-colors duration-300"
              stroke-width="3"
              stroke-miterlimit="10"
            ></path>
          </svg>
        </div>
      </div>

      <!-- 作者資訊區塊 - 行動版優化 -->
      <div class="absolute top-4 right-4 z-10 hidden md:block">
        <div class="glass-effect rounded-lg px-4 py-2">
          <span class="created-by text-sm text-dark-text-secondary block"
            >Created by</span
          >
          <a
            href="https://www.threads.com/azlife_1224"
            target="_blank"
            class="social-link text-perplexity-primary hover:text-perplexity-primary-light transition-colors duration-200 text-base"
          >
            <i class="fab fa-threads mr-1"></i> azlife_1224
          </a>
        </div>
      </div>

      <!-- 行動版作者資訊 - 避免遮蔽主標題 -->
      <div class="md:hidden absolute top-2 right-2 z-10">
        <a
          href="https://www.threads.com/azlife_1224"
          target="_blank"
          class="glass-effect rounded-full px-3 py-1 text-xs text-perplexity-primary hover:text-perplexity-primary-light transition-colors duration-200"
        >
          <i class="fab fa-threads mr-1"></i> azlife_1224
        </a>
      </div>

      <div class="container mx-auto px-4 relative z-10">
        <div class="text-center max-w-4xl mx-auto">
          <!-- 主標題 -->
          <h1
            class="mobile-text-2xl md:text-5xl font-bold leading-tight mb-4 animate-float"
          >
            🎉 市價
            <span class="text-perplexity-accent animate-pulse">NT$6,990</span>
            的 Perplexity Pro 年費會員
            <br class="hidden md:block" />
            <span class="text-chart-accent2">完全免費送！</span>
          </h1>

          <!-- 副標題 -->
          <p
            class="mobile-text-lg md:text-xl text-dark-text-secondary mb-6 leading-relaxed"
          >
            AI 搜尋神器 Perplexity，ChatGPT + Google 的完美合體<br />
            查資料、整理報告、找靈感快到飛起 🚀
          </p>

          <!-- CTA 按鈕 -->
          <div
            class="flex flex-col sm:flex-row gap-4 justify-center items-center"
          >
            <a
              href="#redeem"
              class="bg-chart-accent2 hover:bg-orange-600 text-white px-6 py-3 md:px-8 md:py-4 rounded-full font-semibold mobile-text-lg md:text-lg transition-all duration-300 transform hover:scale-105 hover:shadow-xl animate-glow"
            >
              <i class="fas fa-gift mr-2"></i>
              立即免費領取
            </a>
            <a
              href="#features"
              class="bg-dark-bg-card hover:bg-dark-bg-hover text-dark-text px-6 py-3 md:px-8 md:py-4 rounded-full font-semibold mobile-text-lg md:text-lg transition-all duration-300 transform hover:scale-105 border border-dark-border hover:border-perplexity-primary"
            >
              <i class="fas fa-info-circle mr-2"></i>
              了解更多功能
            </a>
          </div>
        </div>
      </div>

      <!-- 背景裝飾 - 深色主題優化 -->
      <div class="absolute inset-0 overflow-hidden">
        <div
          class="absolute -top-4 -right-4 w-72 h-72 bg-perplexity-primary bg-opacity-10 rounded-full animate-bounce-subtle"
        ></div>
        <div
          class="absolute -bottom-8 -left-8 w-96 h-96 bg-perplexity-secondary bg-opacity-5 rounded-full animate-float"
        ></div>
      </div>
    </header>

    <!-- 主要內容區 -->
    <main class="container mx-auto px-4 py-8 md:py-12">
      <!-- 兌換說明區塊 -->
      <section id="redeem" class="mb-12 md:mb-16">
        <div class="max-w-4xl mx-auto">
          <div
            class="bg-dark-bg-card rounded-2xl shadow-2xl p-6 md:p-8 border border-dark-border"
          >
            <h2 class="mobile-text-2xl md:text-3xl font-bold text-center mb-8">
              <span
                class="text-transparent bg-gradient-to-r from-perplexity-primary to-perplexity-primary-light bg-clip-text"
              >
                🎁 限時免費領取方式
              </span>
            </h2>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
              <div
                class="bg-dark-bg-secondary p-6 rounded-xl border border-dark-border hover:border-perplexity-primary hover:bg-dark-bg-hover transition-all duration-300 transform hover:-translate-y-1"
              >
                <div class="text-center">
                  <div
                    class="w-12 h-12 bg-perplexity-primary text-dark-bg rounded-full flex items-center justify-center text-xl font-bold mx-auto mb-4"
                  >
                    1
                  </div>
                  <h3
                    class="font-semibold text-dark-text mb-2 mobile-text-base md:text-lg"
                  >
                    前往兌換頁面
                  </h3>
                  <p class="mobile-text-sm md:text-sm text-dark-text-secondary">
                    點擊下方連結前往官方兌換頁面
                  </p>
                </div>
              </div>

              <div
                class="bg-dark-bg-secondary p-6 rounded-xl border border-dark-border hover:border-perplexity-accent hover:bg-dark-bg-hover transition-all duration-300 transform hover:-translate-y-1"
              >
                <div class="text-center">
                  <div
                    class="w-12 h-12 bg-perplexity-accent text-dark-bg rounded-full flex items-center justify-center text-xl font-bold mx-auto mb-4"
                  >
                    2
                  </div>
                  <h3
                    class="font-semibold text-dark-text mb-2 mobile-text-base md:text-lg"
                  >
                    輸入兌換碼
                  </h3>
                  <p
                    class="mobile-text-sm md:text-sm text-dark-text-secondary mb-2"
                  >
                    使用專屬兌換碼
                  </p>
                  <code
                    class="bg-dark-bg px-2 py-1 rounded mobile-text-xs md:text-xs text-perplexity-primary border border-dark-border block"
                    >PPLXLIUMBLHOTVAJ2QI</code
                  >
                </div>
              </div>

              <div
                class="bg-dark-bg-secondary p-6 rounded-xl border border-dark-border hover:border-chart-accent1 hover:bg-dark-bg-hover transition-all duration-300 transform hover:-translate-y-1"
              >
                <div class="text-center">
                  <div
                    class="w-12 h-12 bg-chart-accent1 text-dark-bg rounded-full flex items-center justify-center text-xl font-bold mx-auto mb-4"
                  >
                    3
                  </div>
                  <h3
                    class="font-semibold text-dark-text mb-2 mobile-text-base md:text-lg"
                  >
                    登入帳號
                  </h3>
                  <p class="mobile-text-sm md:text-sm text-dark-text-secondary">
                    限未訂閱過的新用戶
                  </p>
                </div>
              </div>

              <div
                class="bg-dark-bg-secondary p-6 rounded-xl border border-dark-border hover:border-chart-accent2 hover:bg-dark-bg-hover transition-all duration-300 transform hover:-translate-y-1"
              >
                <div class="text-center">
                  <div
                    class="w-12 h-12 bg-chart-accent2 text-white rounded-full flex items-center justify-center text-xl font-bold mx-auto mb-4"
                  >
                    4
                  </div>
                  <h3
                    class="font-semibold text-dark-text mb-2 mobile-text-base md:text-lg"
                  >
                    立即啟用
                  </h3>
                  <p class="mobile-text-sm md:text-sm text-dark-text-secondary">
                    馬上獲得一年Pro會員！
                  </p>
                </div>
              </div>
            </div>

            <!-- 兌換連結 -->
            <div class="text-center mt-8">
              <a
                href="https://www.perplexity.ai/join/p/redeem"
                target="_blank"
                class="inline-block bg-gradient-to-r from-perplexity-primary to-perplexity-primary-light text-dark-bg px-6 py-3 md:px-8 md:py-4 rounded-full font-bold mobile-text-lg md:text-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105"
              >
                <i class="fas fa-external-link-alt mr-2"></i>
                立即前往兌換 👉
              </a>

              <div
                class="mt-4 p-4 bg-yellow-900 bg-opacity-20 border border-yellow-600 border-opacity-30 rounded-lg"
              >
                <p class="mobile-text-sm md:text-sm text-yellow-300 mb-2">
                  ⚠️
                  <strong>重要提醒：</strong
                  >此優惠限時限量，手慢就沒了！僅限從未訂閱過的用戶使用。
                </p>
                <p class="mobile-text-sm md:text-sm text-orange-300">
                  🔥
                  <strong>獨家消息：</strong
                  >據可靠消息，此兌換碼疑似為三星內部員工福利外流。成功兌換的用戶請盡快使用，避免後續被撤回！
                </p>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- 數據視覺化區塊 -->
      <section class="mb-12 md:mb-16">
        <div class="max-w-6xl mx-auto">
          <h2
            class="mobile-text-2xl md:text-3xl font-bold text-center mb-4 text-dark-text"
          >
            Perplexity AI 效能數據分析
          </h2>
          <p
            class="mobile-text-lg md:text-lg text-dark-text-secondary text-center mb-8 max-w-3xl mx-auto"
          >
            基於真實使用數據的效能評估和用戶滿意度調查
          </p>

          <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8">
            <!-- 用戶滿意度圓餅圖 -->
            <div class="chart-container">
              <h3
                class="mobile-text-lg md:text-xl font-semibold text-dark-text mb-4 text-center"
              >
                用戶滿意度分布
              </h3>
              <canvas id="satisfactionChart"></canvas>
            </div>

            <!-- 功能使用頻率長條圖 -->
            <div class="chart-container">
              <h3
                class="mobile-text-lg md:text-xl font-semibold text-dark-text mb-4 text-center"
              >
                功能使用頻率
              </h3>
              <canvas id="featureUsageChart"></canvas>
            </div>
          </div>

          <!-- 效能比較圖表 -->
          <div class="chart-container">
            <h3
              class="mobile-text-lg md:text-xl font-semibold text-dark-text mb-4 text-center"
            >
              AI 搜尋引擎效能比較
            </h3>
            <canvas id="performanceChart"></canvas>
          </div>
        </div>
      </section>

      <!-- Perplexity 功能介紹 -->
      <section id="features" class="mb-12 md:mb-16">
        <div class="max-w-6xl mx-auto">
          <h2
            class="mobile-text-2xl md:text-4xl font-bold text-center mb-4 text-dark-text"
          >
            為什麼 Perplexity 是第一名的 AI 搜尋引擎？
          </h2>
          <p
            class="mobile-text-lg md:text-lg text-dark-text-secondary text-center mb-12 max-w-3xl mx-auto"
          >
            結合最新 GPT-4 和即時網路搜尋，提供準確、即時、有來源的 AI 回答
          </p>

          <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
            <!-- 功能卡片 1 -->
            <div
              class="bg-dark-bg-card rounded-xl p-6 shadow-lg hover:shadow-2xl hover:shadow-perplexity-primary/10 transition-all duration-300 transform hover:-translate-y-2 border border-dark-border hover:border-perplexity-primary"
            >
              <div class="text-center">
                <div
                  class="w-16 h-16 bg-gradient-to-br from-perplexity-primary to-perplexity-primary-light rounded-full flex items-center justify-center mx-auto mb-4"
                >
                  <i class="fas fa-search text-2xl text-dark-bg"></i>
                </div>
                <h3
                  class="mobile-text-xl md:text-xl font-semibold mb-3 text-dark-text"
                >
                  即時網路搜尋
                </h3>
                <p
                  class="text-dark-text-secondary leading-relaxed mobile-text-base md:text-base"
                >
                  不像 ChatGPT 只能回答訓練資料，Perplexity
                  能即時搜尋最新資訊，提供準確的即時答案。
                </p>
              </div>
            </div>

            <!-- 功能卡片 2 -->
            <div
              class="bg-dark-bg-card rounded-xl p-6 shadow-lg hover:shadow-2xl hover:shadow-perplexity-accent/10 transition-all duration-300 transform hover:-translate-y-2 border border-dark-border hover:border-perplexity-accent"
            >
              <div class="text-center">
                <div
                  class="w-16 h-16 bg-gradient-to-br from-perplexity-accent to-chart-accent1 rounded-full flex items-center justify-center mx-auto mb-4"
                >
                  <i class="fas fa-link text-2xl text-dark-bg"></i>
                </div>
                <h3
                  class="mobile-text-xl md:text-xl font-semibold mb-3 text-dark-text"
                >
                  來源引用
                </h3>
                <p
                  class="text-dark-text-secondary leading-relaxed mobile-text-base md:text-base"
                >
                  每個回答都提供可靠來源連結，讓您驗證資訊的準確性，適合學術研究和專業工作。
                </p>
              </div>
            </div>

            <!-- 功能卡片 3 -->
            <div
              class="bg-dark-bg-card rounded-xl p-6 shadow-lg hover:shadow-2xl hover:shadow-chart-accent1/10 transition-all duration-300 transform hover:-translate-y-2 border border-dark-border hover:border-chart-accent1"
            >
              <div class="text-center">
                <div
                  class="w-16 h-16 bg-gradient-to-br from-chart-accent1 to-perplexity-accent rounded-full flex items-center justify-center mx-auto mb-4"
                >
                  <i class="fas fa-brain text-2xl text-dark-bg"></i>
                </div>
                <h3
                  class="mobile-text-xl md:text-xl font-semibold mb-3 text-dark-text"
                >
                  AI 深度分析
                </h3>
                <p
                  class="text-dark-text-secondary leading-relaxed mobile-text-base md:text-base"
                >
                  結合 GPT-4
                  的理解能力，不只搜尋資料，還能分析、整理、比較多個來源的資訊。
                </p>
              </div>
            </div>

            <!-- 功能卡片 4 -->
            <div
              class="bg-dark-bg-card rounded-xl p-6 shadow-lg hover:shadow-2xl hover:shadow-chart-accent2/10 transition-all duration-300 transform hover:-translate-y-2 border border-dark-border hover:border-chart-accent2"
            >
              <div class="text-center">
                <div
                  class="w-16 h-16 bg-gradient-to-br from-chart-accent2 to-red-500 rounded-full flex items-center justify-center mx-auto mb-4"
                >
                  <i class="fas fa-comments text-2xl text-white"></i>
                </div>
                <h3
                  class="mobile-text-xl md:text-xl font-semibold mb-3 text-dark-text"
                >
                  對話式搜尋
                </h3>
                <p
                  class="text-dark-text-secondary leading-relaxed mobile-text-base md:text-base"
                >
                  可以追問、延伸討論，就像和專家對話一樣，深入探討複雜主題。
                </p>
              </div>
            </div>

            <!-- 功能卡片 5 -->
            <div
              class="bg-dark-bg-card rounded-xl p-6 shadow-lg hover:shadow-2xl hover:shadow-purple-500/10 transition-all duration-300 transform hover:-translate-y-2 border border-dark-border hover:border-purple-500"
            >
              <div class="text-center">
                <div
                  class="w-16 h-16 bg-gradient-to-br from-purple-500 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-4"
                >
                  <i class="fas fa-file-alt text-2xl text-white"></i>
                </div>
                <h3
                  class="mobile-text-xl md:text-xl font-semibold mb-3 text-dark-text"
                >
                  文件分析
                </h3>
                <p
                  class="text-dark-text-secondary leading-relaxed mobile-text-base md:text-base"
                >
                  上傳 PDF、文件讓 AI 分析內容，快速提取重點、回答相關問題。
                </p>
              </div>
            </div>

            <!-- 功能卡片 6 -->
            <div
              class="bg-dark-bg-card rounded-xl p-6 shadow-lg hover:shadow-2xl hover:shadow-pink-500/10 transition-all duration-300 transform hover:-translate-y-2 border border-dark-border hover:border-pink-500"
            >
              <div class="text-center">
                <div
                  class="w-16 h-16 bg-gradient-to-br from-pink-500 to-pink-600 rounded-full flex items-center justify-center mx-auto mb-4"
                >
                  <i class="fas fa-chart-line text-2xl text-white"></i>
                </div>
                <h3
                  class="mobile-text-xl md:text-xl font-semibold mb-3 text-dark-text"
                >
                  數據視覺化
                </h3>
                <p
                  class="text-dark-text-secondary leading-relaxed mobile-text-base md:text-base"
                >
                  Pro 版可生成圖表、統計分析，讓複雜資料變得一目了然。
                </p>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- CTA 區塊 -->
      <section
        class="text-center py-12 bg-gradient-to-r from-dark-bg-secondary to-dark-bg-tertiary rounded-2xl border border-dark-border-light -mx-4 px-4"
      >
        <div class="max-w-4xl mx-auto">
          <h2 class="mobile-text-2xl md:text-4xl font-bold mb-4 text-dark-text">
            還在猶豫嗎？現在就免費體驗！
          </h2>
          <p class="mobile-text-xl md:text-xl mb-8 text-dark-text-secondary">
            價值 NT$6,990 的年費會員，完全免費，僅此一次機會
          </p>

          <div class="flex flex-col sm:flex-row gap-4 justify-center">
            <a
              href="https://www.perplexity.ai/join/p/redeem"
              target="_blank"
              class="bg-chart-accent2 hover:bg-orange-600 text-white px-6 py-3 md:px-8 md:py-4 rounded-full font-bold mobile-text-lg md:text-lg transition-all duration-300 transform hover:scale-105 hover:shadow-xl inline-flex items-center justify-center"
            >
              <i class="fas fa-rocket mr-2"></i>
              立即免費領取 Pro 會員
            </a>

            <button
              onclick="copyRedeemCode()"
              class="bg-dark-bg-card hover:bg-dark-bg-hover text-dark-text px-6 py-3 md:px-8 md:py-4 rounded-full font-bold mobile-text-lg md:text-lg transition-all duration-300 transform hover:scale-105 border border-dark-border hover:border-perplexity-primary inline-flex items-center justify-center"
            >
              <i class="fas fa-copy mr-2"></i>
              複製兌換碼
            </button>
          </div>

          <div
            class="mt-6 p-4 bg-red-900 bg-opacity-20 border border-red-600 border-opacity-40 rounded-lg"
          >
            <p
              class="mobile-text-sm md:text-sm text-red-300 mb-2 font-semibold"
            >
              🚀 緊急提醒：兌換碼可能為三星內部流出，有可能 48
              小時內將全面停用所有外流兌換碼！
            </p>
            <p class="mobile-text-sm md:text-sm text-yellow-300">
              兌換碼：<code
                class="bg-dark-bg-card px-2 py-1 ml-2 rounded text-perplexity-primary border border-dark-border font-mono"
                >PPLXLIUMBLHOTVAJ2QI</code
              >
            </p>
          </div>
        </div>
      </section>
    </main>

    <!-- Footer -->
    <footer
      class="bg-dark-bg-tertiary text-dark-text py-8 mt-16 border-t border-dark-border"
    >
      <div class="container mx-auto px-4 text-center">
        <div class="mb-4">
          <span
            class="created-by text-dark-text-secondary mobile-text-sm md:text-base"
            >Created by</span
          >
          <a
            href="https://www.threads.com/azlife_1224"
            target="_blank"
            class="social-link text-perplexity-primary hover:text-perplexity-primary-light transition-colors duration-200 ml-2 mobile-text-sm md:text-base"
          >
            <i class="fab fa-threads mr-1"></i> azlife_1224
          </a>
        </div>
        <p class="text-dark-text-secondary mobile-text-sm md:text-sm">
          本網站僅為資訊分享用途，請至官方網站確認最新優惠資訊
        </p>
        <p class="text-dark-text-muted mobile-text-xs md:text-xs mt-2">
          © 2024 All rights reserved. Perplexity 是 Perplexity AI 的註冊商標。
        </p>
      </div>
    </footer>

    <!-- Easter Egg Button -->
    <button
      class="easter-egg-btn fixed bottom-5 right-5 w-12 h-12 md:w-14 md:h-14 rounded-full z-50 animate-float"
      onclick="triggerEasterEgg()"
      title="點擊三次解鎖隱藏功能！"
    >
      <i class="fas fa-star text-white mobile-text-lg md:text-xl"></i>
    </button>

    <script>
      // Enhanced Error Handling and Global Error Boundary
      window.PerplexityApp = {
        isLoaded: false,
        hasErrors: false,
        chartInstances: [],
        errorMessages: [],
      };

      // Global error handler
      window.addEventListener("error", function (event) {
        console.error("Global error:", event.error);
        window.PerplexityApp.hasErrors = true;
        window.PerplexityApp.errorMessages.push(event.error.message);

        if (!window.PerplexityApp.isLoaded) {
          showErrorBoundary();
        }
      });

      // Unhandled promise rejection handler
      window.addEventListener("unhandledrejection", function (event) {
        console.error("Unhandled promise rejection:", event.reason);
        event.preventDefault();
        window.PerplexityApp.hasErrors = true;
        window.PerplexityApp.errorMessages.push(
          "Promise rejection: " + event.reason
        );
      });

      function showErrorBoundary() {
        const errorBoundary = document.getElementById("error-boundary");
        const loadingScreen = document.getElementById("loading-screen");

        if (loadingScreen) {
          loadingScreen.style.display = "none";
        }

        if (errorBoundary) {
          errorBoundary.classList.remove("hidden");
        }
      }

      function hideLoadingScreen() {
        const loadingScreen = document.getElementById("loading-screen");
        if (loadingScreen) {
          loadingScreen.style.opacity = "0";
          setTimeout(() => {
            loadingScreen.style.display = "none";
          }, 500);
        }
        window.PerplexityApp.isLoaded = true;
      }

      // Safe Chart.js check
      function isChartJSLoaded() {
        return typeof Chart !== "undefined";
      }

      // Enhanced toast notification system
      function showToast(message, type = "info") {
        try {
          const toast = document.createElement("div");
          toast.className = `fixed top-5 right-5 z-50 px-4 py-3 rounded-lg text-white font-medium transform translate-x-full transition-transform duration-300 max-w-sm`;

          const colors = {
            success: "bg-green-600",
            error: "bg-red-600",
            info: "bg-blue-600",
            warning: "bg-yellow-600",
          };

          toast.classList.add(colors[type] || colors.info);

          const icon = {
            success: "✓",
            error: "✗",
            info: "ℹ",
            warning: "⚠",
          };

          toast.innerHTML = `<span class="mr-2">${
            icon[type] || icon.info
          }</span>${message}`;

          document.body.appendChild(toast);

          // Force reflow before animation
          toast.offsetHeight;

          setTimeout(() => {
            toast.classList.remove("translate-x-full");
          }, 100);

          setTimeout(() => {
            toast.classList.add("translate-x-full");
            setTimeout(() => {
              if (document.body.contains(toast)) {
                document.body.removeChild(toast);
              }
            }, 300);
          }, 3000);
        } catch (error) {
          console.error("Toast notification error:", error);
          // Fallback: use alert if toast fails
          alert(message);
        }
      }

      // Enhanced copy function with better error handling
      function copyRedeemCode() {
        const redeemCode = "PPLXLIUMBLHOTVAJ2QI";

        try {
          if (navigator.clipboard && navigator.clipboard.writeText) {
            navigator.clipboard
              .writeText(redeemCode)
              .then(function () {
                showToast("兌換碼已複製到剪貼簿！", "success");
              })
              .catch(function (err) {
                console.warn("Clipboard API failed:", err);
                fallbackCopyTextToClipboard(redeemCode);
              });
          } else {
            fallbackCopyTextToClipboard(redeemCode);
          }
        } catch (error) {
          console.error("Copy function error:", error);
          showToast("複製功能暫時無法使用，兌換碼為：" + redeemCode, "warning");
        }
      }

      function fallbackCopyTextToClipboard(text) {
        try {
          const textArea = document.createElement("textarea");
          textArea.value = text;
          textArea.style.position = "fixed";
          textArea.style.top = "0";
          textArea.style.left = "0";
          textArea.style.opacity = "0";

          document.body.appendChild(textArea);
          textArea.focus();
          textArea.select();

          const successful = document.execCommand("copy");
          document.body.removeChild(textArea);

          if (successful) {
            showToast("兌換碼已複製到剪貼簿！", "success");
          } else {
            showToast("請手動複製兌換碼：" + text, "warning");
          }
        } catch (err) {
          console.error("Fallback copy failed:", err);
          showToast("複製失敗，兌換碼為：" + text, "error");
        }
      }

      // 圖表初始化和數據視覺化
      function initializeCharts() {
        if (!isChartJSLoaded()) {
          console.warn("Chart.js not available, skipping chart initialization");
          return;
        }

        try {
          // 深色主題圖表配色
          const chartColors = {
            primary: "#20b2aa",
            secondary: "#40e0d0",
            accent1: "#00d084",
            accent2: "#ff6b35",
            accent3: "#ffd60a",
            accent4: "#3742fa",
            accent5: "#ff4757",
          };

          // Common chart options for dark theme with height constraints
          const darkThemeOptions = {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
              legend: {
                labels: {
                  color: "#f5f5f5",
                  font: { size: 12 },
                },
              },
            },
          };

          // 用戶滿意度圓餅圖
          const satisfactionCtx = document.getElementById("satisfactionChart");
          if (satisfactionCtx) {
            const satisfactionChart = new Chart(satisfactionCtx, {
              type: "doughnut",
              data: {
                labels: ["非常滿意", "滿意", "普通", "不滿意"],
                datasets: [
                  {
                    data: [45, 35, 15, 5],
                    backgroundColor: [
                      chartColors.primary,
                      chartColors.accent1,
                      chartColors.accent3,
                      chartColors.accent5,
                    ],
                    borderColor: "#1f1f1f",
                    borderWidth: 2,
                  },
                ],
              },
              options: darkThemeOptions,
            });
            window.PerplexityApp.chartInstances.push(satisfactionChart);
          }

          // 功能使用頻率長條圖
          const featureCtx = document.getElementById("featureUsageChart");
          if (featureCtx) {
            const featureChart = new Chart(featureCtx, {
              type: "bar",
              data: {
                labels: ["搜尋", "分析", "文件", "對話", "圖表"],
                datasets: [
                  {
                    label: "使用頻率(%)",
                    data: [85, 72, 58, 69, 45],
                    backgroundColor: [
                      chartColors.primary,
                      chartColors.secondary,
                      chartColors.accent1,
                      chartColors.accent2,
                      chartColors.accent4,
                    ],
                    borderColor: "#2a2a2a",
                    borderWidth: 1,
                  },
                ],
              },
              options: {
                ...darkThemeOptions,
                scales: {
                  y: {
                    ticks: { color: "#a1a1a1" },
                    grid: { color: "#2a2a2a" },
                  },
                  x: {
                    ticks: { color: "#a1a1a1" },
                    grid: { color: "#2a2a2a" },
                  },
                },
              },
            });
            window.PerplexityApp.chartInstances.push(featureChart);
          }

          // AI 搜尋引擎效能比較圖
          const performanceCtx = document.getElementById("performanceChart");
          if (performanceCtx) {
            const performanceChart = new Chart(performanceCtx, {
              type: "radar",
              data: {
                labels: [
                  "準確性",
                  "速度",
                  "來源可靠性",
                  "使用便利性",
                  "功能豐富度",
                  "價格優勢",
                ],
                datasets: [
                  {
                    label: "Perplexity AI",
                    data: [95, 88, 92, 85, 90, 98],
                    backgroundColor: "rgba(32, 178, 170, 0.2)",
                    borderColor: chartColors.primary,
                    borderWidth: 3,
                  },
                  {
                    label: "ChatGPT",
                    data: [78, 82, 65, 90, 85, 70],
                    backgroundColor: "rgba(255, 107, 53, 0.2)",
                    borderColor: chartColors.accent2,
                    borderWidth: 2,
                  },
                  {
                    label: "Google Search",
                    data: [70, 95, 80, 75, 60, 100],
                    backgroundColor: "rgba(55, 66, 250, 0.2)",
                    borderColor: chartColors.accent4,
                    borderWidth: 2,
                  },
                ],
              },
              options: {
                ...darkThemeOptions,
                scales: {
                  r: {
                    beginAtZero: true,
                    max: 100,
                    ticks: { color: "#a1a1a1" },
                    grid: { color: "#2a2a2a" },
                    pointLabels: { color: "#f5f5f5" },
                  },
                },
              },
            });
            window.PerplexityApp.chartInstances.push(performanceChart);
          }
        } catch (error) {
          console.error("Chart initialization error:", error);
          showToast("圖表載入失敗，但不影響其他功能使用", "warning");
        }
      }

      function setupInteractivity() {
        try {
          // 平滑捲動
          document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
            anchor.addEventListener("click", function (e) {
              e.preventDefault();
              const target = document.querySelector(this.getAttribute("href"));
              if (target) {
                target.scrollIntoView({
                  behavior: "smooth",
                  block: "start",
                });
              }
            });
          });

          // 進場動畫 with improved performance
          const observer = new IntersectionObserver(
            (entries) => {
              entries.forEach((entry) => {
                if (entry.isIntersecting) {
                  entry.target.style.opacity = "1";
                  entry.target.style.transform = "translateY(0)";
                  // Unobserve after animation to improve performance
                  observer.unobserve(entry.target);
                }
              });
            },
            { threshold: 0.1, rootMargin: "50px" }
          );

          // Apply animation to cards with better selector
          const animatedElements = document.querySelectorAll(
            ".bg-dark-bg-card, .bg-dark-bg-secondary"
          );
          animatedElements.forEach((element) => {
            element.style.opacity = "0";
            element.style.transform = "translateY(20px)";
            element.style.transition = "opacity 0.6s ease, transform 0.6s ease";
            observer.observe(element);
          });
        } catch (error) {
          console.error("Interactivity setup error:", error);
          // Continue without animations if there's an error
        }
      }

      // Enhanced Easter Egg System
      let easterEggClicks = 0;
      let easterEggActive = false;
      let clickResetTimer = null;

      function setupEasterEggSystem() {
        try {
          // Reset variables
          easterEggClicks = 0;
          easterEggActive = false;

          // Konami Code setup
          setupKonamiCode();
        } catch (error) {
          console.error("Easter egg setup error:", error);
        }
      }

      function triggerEasterEgg() {
        try {
          if (easterEggActive) return;

          easterEggClicks++;

          if (clickResetTimer) {
            clearTimeout(clickResetTimer);
          }

          if (easterEggClicks === 3) {
            activateEasterEgg();
            easterEggClicks = 0;
          } else if (easterEggClicks < 3) {
            showToast(`再點擊 ${3 - easterEggClicks} 次解鎖隱藏功能！`, "info");

            clickResetTimer = setTimeout(() => {
              easterEggClicks = 0;
              clickResetTimer = null;
            }, 3000);
          }
        } catch (error) {
          console.error("Easter egg trigger error:", error);
        }
      }

      function activateEasterEgg() {
        try {
          easterEggActive = true;

          createConfettiEffect();
          showToast(
            "🎉 恭喜發現隱藏彩蛋！您是真正的 Perplexity 探索者！",
            "success"
          );

          setTimeout(() => {
            easterEggActive = false;
          }, 5000);
        } catch (error) {
          console.error("Easter egg activation error:", error);
        }
      }

      function createConfettiEffect() {
        try {
          for (let i = 0; i < 30; i++) {
            const confetti = document.createElement("div");
            confetti.style.position = "fixed";
            confetti.style.width = "8px";
            confetti.style.height = "8px";
            confetti.style.backgroundColor = `hsl(${
              Math.random() * 360
            }, 70%, 60%)`;
            confetti.style.left = Math.random() * window.innerWidth + "px";
            confetti.style.top = "-10px";
            confetti.style.borderRadius = "50%";
            confetti.style.zIndex = "9999";
            confetti.style.pointerEvents = "none";
            confetti.style.animation = `fall ${
              Math.random() * 3 + 2
            }s linear forwards`;

            document.body.appendChild(confetti);

            setTimeout(() => {
              if (document.body.contains(confetti)) {
                document.body.removeChild(confetti);
              }
            }, 5000);
          }
        } catch (error) {
          console.error("Confetti effect error:", error);
        }
      }

      function setupKonamiCode() {
        try {
          let konami = [];
          const konamiCode = [
            "ArrowUp",
            "ArrowUp",
            "ArrowDown",
            "ArrowDown",
            "ArrowLeft",
            "ArrowRight",
            "ArrowLeft",
            "ArrowRight",
            "KeyB",
            "KeyA",
          ];

          document.addEventListener("keydown", function (e) {
            konami.push(e.code);
            if (konami.length > konamiCode.length) {
              konami.shift();
            }

            if (
              konami.length === konamiCode.length &&
              konami.every((key, i) => key === konamiCode[i])
            ) {
              showToast(
                "🎮 Konami Code 已啟動！您真是個復古遊戲迷！",
                "success"
              );
              document.body.style.animation = "bounceAnimation 1s ease-in-out";
              setTimeout(() => {
                document.body.style.animation = "";
              }, 1000);
              konami = [];
            }
          });
        } catch (error) {
          console.error("Konami code setup error:", error);
        }
      }

      // Global function exposure
      window.copyRedeemCode = copyRedeemCode;
      window.showToast = showToast;
      window.triggerEasterEgg = triggerEasterEgg;

      // Main initialization function
      function initializeWebsite() {
        // Check if essential libraries are loaded
        if (!isChartJSLoaded()) {
          console.warn("Chart.js not loaded, charts will be disabled");
        }

        // Initialize all components
        initializeCharts();
        setupInteractivity();
        setupEasterEggSystem();

        // Hide loading screen after successful initialization
        setTimeout(() => {
          if (!window.PerplexityApp.hasErrors) {
            hideLoadingScreen();
          }
        }, 1000);
      }

      // Initialize everything when DOM is ready
      document.addEventListener("DOMContentLoaded", function () {
        try {
          initializeWebsite();
        } catch (error) {
          console.error("Initialization error:", error);
          window.PerplexityApp.hasErrors = true;
          showErrorBoundary();
        }
      });

      // Add required animations
      const animationStyle = document.createElement("style");
      animationStyle.textContent = `
        @keyframes fall {
          to {
            transform: translateY(100vh) rotate(360deg);
          }
        }
        @keyframes bounceAnimation {
          0%, 20%, 53%, 80%, 100% {
            transform: translate3d(0,0,0);
          }
          40%, 43% {
            transform: translate3d(0, -30px, 0);
          }
          70% {
            transform: translate3d(0, -15px, 0);
          }
          90% {
            transform: translate3d(0, -4px, 0);
          }
        }
      `;
      document.head.appendChild(animationStyle);
    </script>
  </body>
</html>
