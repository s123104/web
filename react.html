<!DOCTYPE html>
<html lang="zh-TW">
  <head>
    <meta charset="UTF-8" />
    <title>前端學習平台 - 多選篩選 + 單行搜尋示例</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Google 字體 -->
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;700&display=swap"
      rel="stylesheet"
    />
    <!-- Font Awesome 圖示 -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <style>
      :root {
        --primary: #4361ee;
        --primary-light: #4895ef;
        --primary-dark: #3a0ca3;
        --success: #4cc9f0;
        --warning: #f8961e;
        --danger: #f94144;
        --gray-100: #f8f9fa;
        --gray-200: #e9ecef;
        --gray-300: #dee2e6;
        --gray-400: #ced4da;
        --gray-500: #adb5bd;
        --gray-600: #6c757d;
        --gray-700: #495057;
        --gray-800: #343a40;
        --gray-900: #212529;
        --card-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
        --header-height: 140px; /* 方便主內容上方距離計算 */
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: "Noto Sans TC", sans-serif;
      }

      body {
        background: var(--gray-100);
        color: var(--gray-800);
        line-height: 1.6;
        overflow-x: hidden;
      }

      /* ===== Header ===== */
      header {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        z-index: 1500;
      }
      .header-top {
        background: linear-gradient(
          135deg,
          var(--primary),
          var(--primary-dark)
        );
        padding: 0.8rem 2rem;
        display: flex;
        align-items: center;
        justify-content: space-between;
        box-shadow: 0 2px 15px rgba(0, 0, 0, 0.1);
      }
      .logo {
        display: flex;
        align-items: center;
        gap: 0.6rem;
        color: #fff;
        font-size: 1.3rem;
        font-weight: 700;
        text-decoration: none;
        transition: transform 0.3s;
      }
      .logo:hover {
        transform: translateY(-2px);
      }
      .logo i {
        font-size: 1.4rem;
        color: var(--success);
        animation: float 3s ease-in-out infinite; /* 小浮動 */
      }

      /* 桌機導覽 */
      .nav-links {
        display: flex;
        gap: 1.8rem;
      }
      .nav-links a {
        color: rgba(255, 255, 255, 0.9);
        text-decoration: none;
        font-size: 0.95rem;
        font-weight: 500;
        position: relative;
        padding: 0.2rem 0;
        transition: color 0.3s;
      }
      .nav-links a:hover {
        color: #fff;
      }

      /* 漢堡按鈕(手機) */
      .hamburger {
        width: 30px;
        height: 22px;
        display: none;
        position: relative;
        cursor: pointer;
      }
      .hamburger span {
        position: absolute;
        width: 100%;
        height: 3px;
        background: #fff;
        left: 0;
        transition: all 0.3s;
        border-radius: 2px;
      }
      .hamburger span:nth-child(1) {
        top: 0;
      }
      .hamburger span:nth-child(2) {
        top: 50%;
        transform: translateY(-50%);
      }
      .hamburger span:nth-child(3) {
        bottom: 0;
      }
      .hamburger.active span:nth-child(1) {
        transform: rotate(45deg);
        top: 10px;
      }
      .hamburger.active span:nth-child(2) {
        opacity: 0;
        transform: translateX(-20px);
      }
      .hamburger.active span:nth-child(3) {
        transform: rotate(-45deg);
        bottom: 10px;
      }

      /* 手機導覽 */
      .mobile-nav {
        display: none;
        background: linear-gradient(
          to right,
          var(--primary-dark),
          var(--primary)
        );
        flex-direction: column;
        gap: 0.8rem;
        padding: 1rem 2rem;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
      }
      .mobile-nav a {
        color: #fff;
        text-decoration: none;
        font-size: 1rem;
        font-weight: 500;
        padding: 0.5rem 0;
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      }
      .mobile-nav.show {
        display: flex;
      }

      /* 單行搜尋列 + 篩選按鈕 */
      .filter-bar {
        display: flex;
        align-items: center;
        justify-content: flex-end;
        background: #fff;
        padding: 0.8rem 2rem;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.04);
        gap: 0.8rem;
      }
      /* 圓形篩選按鈕 */
      .circle-filter-btn {
        width: 40px;
        height: 40px;
        background: var(--primary);
        color: #fff;
        border: none;
        border-radius: 50%;
        font-size: 1.2rem;
        cursor: pointer;
        transition: background 0.3s, transform 0.3s;
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .circle-filter-btn:hover {
        background: var(--primary-dark);
        transform: translateY(-2px);
      }

      /* 搜尋區塊 (搜尋框 + 按鈕) */
      .search-box {
        display: flex;
        align-items: center;
        border: 1px solid var(--gray-300);
        border-radius: 6px;
        overflow: hidden;
        max-width: 380px;
        width: 100%;
      }
      .search-box input {
        flex: 1;
        border: none;
        padding: 0.5rem 0.8rem;
        font-size: 0.9rem;
        outline: none;
      }
      .search-box input::placeholder {
        color: var(--gray-500);
      }
      .search-box input:focus {
        box-shadow: 0 0 0 3px rgba(67, 97, 238, 0.15);
      }
      .search-box button {
        background: var(--primary);
        color: #fff;
        border: none;
        height: 40px;
        width: 40px;
        border-radius: 6px;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        transition: background 0.3s, transform 0.3s;
      }
      .search-box button:hover {
        background: var(--primary-dark);
        transform: translateY(-2px);
      }

      /* ===== 左側多選篩選面板 ===== */
      .filter-panel {
        position: fixed;
        top: var(--header-height);
        left: 0;
        width: 280px;
        height: calc(100vh - var(--header-height));
        background: #fff;
        box-shadow: 2px 0 10px rgba(0, 0, 0, 0.1);
        padding: 1rem;
        transform: translateX(-100%);
        transition: transform 0.3s ease;
        z-index: 1400;
        overflow-y: auto;
      }
      .filter-panel.show {
        transform: translateX(0);
      }
      .filter-panel-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        margin-bottom: 1rem;
      }
      .filter-panel-header h4 {
        font-size: 1rem;
        color: var(--primary-dark);
      }
      .close-filter {
        background: none;
        border: none;
        color: var(--gray-600);
        font-size: 1.2rem;
        cursor: pointer;
      }
      .filter-panel section {
        margin-bottom: 1.5rem;
      }
      .filter-panel section h5 {
        font-size: 0.95rem;
        color: var(--gray-700);
        margin-bottom: 0.5rem;
        border-bottom: 1px solid var(--gray-300);
        padding-bottom: 0.3rem;
      }

      /* 多選選項改為點擊切換 */
      .multi-select-list {
        display: flex;
        flex-wrap: wrap;
        gap: 0.6rem;
      }
      .multi-item {
        display: flex;
        align-items: center;
        gap: 0.4rem;
        padding: 0.4rem 0.6rem;
        background: var(--gray-100);
        border: 1px solid var(--gray-300);
        border-radius: 6px;
        cursor: pointer;
        font-size: 0.85rem;
        transition: background 0.3s, transform 0.3s, color 0.3s;
      }
      .multi-item i {
        font-size: 1rem;
      }
      .multi-item.selected {
        background: var(--primary);
        border-color: var(--primary);
        color: #fff;
        transform: translateY(-2px);
      }
      .multi-item:hover {
        background: var(--gray-200);
      }
      .multi-item.selected:hover {
        background: var(--primary-light);
      }

      /* 分組標題 (種類) */
      .category-group-title {
        font-size: 0.85rem;
        font-weight: 600;
        color: var(--gray-700);
        margin: 1rem 0 0.3rem;
        border-left: 3px solid var(--primary);
        padding-left: 0.4rem;
      }

      .apply-filter {
        width: 100%;
        background: var(--primary);
        color: #fff;
        border: none;
        border-radius: 6px;
        padding: 0.6rem;
        font-size: 0.9rem;
        font-weight: 500;
        cursor: pointer;
        transition: all 0.3s;
      }
      .apply-filter:hover {
        background: var(--primary-dark);
      }

      /* Main 內容 */
      main {
        max-width: 1300px;
        margin: 0 auto;
        padding: 2rem;
        margin-top: calc(var(--header-height) + 2rem);
      }
      .section-header {
        margin-bottom: 2rem;
      }
      .section-title {
        font-size: 1.8rem;
        margin-bottom: 0.8rem;
        color: var(--primary-dark);
        position: relative;
        display: inline-block;
      }
      .section-title::after {
        content: "";
        position: absolute;
        bottom: -6px;
        left: 0;
        width: 70px;
        height: 4px;
        background: linear-gradient(to right, var(--primary), var(--success));
        border-radius: 2px;
      }
      .section-overview {
        font-size: 1rem;
        color: var(--gray-700);
        margin-bottom: 1.5rem;
        background: #fff;
        border-left: 4px solid var(--primary);
        padding: 1rem 1.2rem;
        border-radius: 6px;
        box-shadow: var(--card-shadow);
        line-height: 1.6;
      }

      /* 卡片容器 */
      .card-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
        gap: 1.5rem;
      }
      .card {
        background-color: #fff;
        border-radius: 12px;
        box-shadow: var(--card-shadow);
        padding: 1.5rem;
        display: flex;
        flex-direction: column;
        transition: all 0.3s;
        position: relative;
        overflow: hidden;
        height: 100%;
      }
      .card:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
      }
      .card-header {
        display: flex;
        align-items: center;
        gap: 0.8rem;
        margin-bottom: 1rem;
      }
      .card-icon {
        width: 40px;
        height: 40px;
        display: flex;
        align-items: center;
        justify-content: center;
        background: rgba(67, 97, 238, 0.1);
        font-size: 1.2rem;
        border-radius: 10px;
      }
      .card-header h3 {
        font-size: 1.1rem;
        color: var(--primary-dark);
        flex: 1;
        transition: color 0.3s;
      }
      .card:hover .card-header h3 {
        color: var(--primary);
      }
      .level-tag {
        font-size: 0.7rem;
        color: #fff;
        border-radius: 30px;
        padding: 0.2rem 0.7rem;
        font-weight: 500;
        text-transform: uppercase;
      }
      .level-tag.beginner {
        background: linear-gradient(to right, #4cc9f0, #4895ef);
      }
      .level-tag.intermediate {
        background: linear-gradient(to right, #f8961e, #f3722c);
      }
      .level-tag.advanced {
        background: linear-gradient(to right, #f72585, #b5179e);
      }

      .desc {
        font-size: 0.95rem;
        color: var(--gray-700);
        margin-bottom: 1rem;
        line-height: 1.6;
      }

      /* 進度條 */
      .progress-section {
        margin-bottom: 1rem;
      }
      .progress-label {
        font-size: 0.85rem;
        color: var(--gray-700);
        font-weight: 500;
        margin-bottom: 0.4rem;
      }
      .progress-bar {
        width: 100%;
        background-color: var(--gray-200);
        height: 8px;
        border-radius: 4px;
        overflow: hidden;
      }
      .progress-bar-fill {
        height: 100%;
        background: linear-gradient(
          to right,
          var(--primary),
          var(--primary-light)
        );
        width: 0;
        transition: width 1s;
        border-radius: 4px;
      }

      /* 關鍵字 */
      .keyword-list {
        margin: auto 0 1rem 0;
        display: flex;
        flex-wrap: wrap;
        gap: 0.4rem;
      }
      .keyword-pill {
        background: var(--gray-100);
        color: var(--gray-700);
        border-radius: 30px;
        font-size: 0.75rem;
        padding: 0.25rem 0.7rem;
        cursor: pointer;
        border: 1px solid var(--gray-200);
        transition: all 0.3s;
      }
      .keyword-pill:hover {
        background: var(--primary-light);
        color: #fff;
        transform: translateY(-2px);
      }

      /* 按鈕區 */
      .btn-area {
        display: flex;
        gap: 0.7rem;
        margin-top: auto;
      }
      .btn {
        background-color: #fff;
        color: var(--primary);
        border: 1px solid var(--primary);
        border-radius: 6px;
        padding: 0.5rem 1rem;
        font-size: 0.85rem;
        font-weight: 500;
        cursor: pointer;
        transition: all 0.3s;
        flex: 1;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 0.4rem;
      }
      .btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(67, 97, 238, 0.2);
      }
      .btn:active {
        transform: translateY(0);
      }

      /* Toast */
      .toast-container {
        position: fixed;
        top: 100px;
        right: 20px;
        display: flex;
        flex-direction: column;
        gap: 0.8rem;
        z-index: 3000;
      }
      .toast {
        background-color: #fff;
        color: var(--gray-800);
        padding: 0.8rem 1rem;
        border-radius: 8px;
        box-shadow: 0 5px 20px rgba(0, 0, 0, 0.15);
        font-size: 0.9rem;
        display: flex;
        align-items: center;
        gap: 0.7rem;
        min-width: 280px;
        border-left: 4px solid var(--primary);
        animation: fadeIn 0.3s forwards; /* 進入 */
      }
      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateX(10px);
        }
        to {
          opacity: 1;
          transform: translateX(0);
        }
      }

      /* Modal */
      .modal-backdrop {
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        background-color: rgba(0, 0, 0, 0.5);
        display: none;
        align-items: center;
        justify-content: center;
        z-index: 4000;
        backdrop-filter: blur(5px);
        opacity: 0;
        transition: opacity 0.3s;
      }
      .modal-backdrop.show {
        opacity: 1;
      }
      .modal-content {
        background: #fff;
        border-radius: 12px;
        width: 90%;
        max-width: 800px;
        max-height: 85vh;
        overflow-y: auto;
        box-shadow: 0 15px 50px rgba(0, 0, 0, 0.2);
        transform: translateY(30px);
        transition: all 0.4s;
      }
      .modal-backdrop.show .modal-content {
        transform: translateY(0);
      }
      .modal-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 1.5rem;
        border-bottom: 1px solid var(--gray-200);
        background: linear-gradient(
          135deg,
          var(--primary),
          var(--primary-dark)
        );
        color: #fff;
        border-radius: 12px 12px 0 0;
      }
      .modal-header h4 {
        font-size: 1.2rem;
        font-weight: 600;
      }
      .close-btn {
        background: rgba(255, 255, 255, 0.2);
        border: none;
        width: 30px;
        height: 30px;
        font-size: 1.2rem;
        cursor: pointer;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        color: #fff;
        transition: all 0.3s;
      }
      .close-btn:hover {
        background: rgba(255, 255, 255, 0.3);
        transform: rotate(90deg);
      }
      .modal-body {
        padding: 1.5rem;
      }
      .info-block {
        background: var(--gray-100);
        border-left: 4px solid var(--primary);
        border-radius: 6px;
        padding: 1rem;
        margin-bottom: 1.5rem;
      }
      .prompt-block {
        background: #fff;
        border: 1px solid var(--gray-300);
        border-radius: 6px;
        padding: 1rem;
        margin-bottom: 1rem;
      }
      .copy-btn {
        display: inline-flex;
        align-items: center;
        gap: 0.4rem;
        background-color: var(--gray-100);
        color: var(--gray-700);
        border: 1px solid var(--gray-300);
        padding: 0.3rem 0.7rem;
        border-radius: 4px;
        font-size: 0.8rem;
        cursor: pointer;
        transition: all 0.3s;
      }
      .copy-btn:hover {
        background-color: var(--primary);
        color: #fff;
        border-color: var(--primary);
      }
      .field-block {
        background: #fff;
        border: 1px solid var(--gray-300);
        border-radius: 6px;
        padding: 1rem;
        margin-bottom: 1.5rem;
      }
      .field-block label {
        display: block;
        font-size: 0.9rem;
        font-weight: 600;
        margin-bottom: 0.5rem;
        color: var(--gray-800);
      }
      .field-block textarea {
        width: 100%;
        min-height: 80px;
        border: 1px solid var(--gray-300);
        border-radius: 6px;
        padding: 0.7rem;
        font-size: 0.9rem;
        resize: vertical;
        transition: all 0.3s;
      }
      .field-block textarea:focus {
        border-color: var(--primary);
        box-shadow: 0 0 0 3px rgba(67, 97, 238, 0.15);
        outline: none;
      }

      /* Footer */
      footer {
        text-align: center;
        font-size: 0.85rem;
        color: var(--gray-600);
        margin-top: 4rem;
        padding: 2rem 0;
        background: var(--gray-100);
        border-top: 1px solid var(--gray-200);
      }
      .footer-content {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 2rem;
      }
      .footer-links {
        display: flex;
        justify-content: center;
        gap: 1.5rem;
        margin-bottom: 1rem;
      }
      .footer-links a {
        color: var(--gray-700);
        text-decoration: none;
        transition: color 0.3s;
      }
      .footer-links a:hover {
        color: var(--primary);
      }
      .social-links {
        display: flex;
        justify-content: center;
        gap: 1rem;
        margin: 1rem 0;
      }
      .social-icon {
        width: 36px;
        height: 36px;
        display: flex;
        align-items: center;
        justify-content: center;
        background: #fff;
        color: var(--primary);
        border-radius: 50%;
        box-shadow: 0 3px 10px rgba(0, 0, 0, 0.08);
        transition: all 0.3s;
      }
      .social-icon:hover {
        background: var(--primary);
        color: #fff;
        transform: translateY(-3px);
      }

      /* RWD */
      @media (max-width: 768px) {
        .nav-links {
          display: none;
        }
        .hamburger {
          display: block;
        }
        .filter-bar {
          padding: 0.8rem 1rem;
        }
        .search-box {
          max-width: 220px;
        }
        main {
          margin-top: calc(var(--header-height) + 1rem);
          padding: 1rem;
        }
      }
      @media (max-width: 576px) {
        .filter-bar {
          padding: 0.8rem;
        }
        .search-box {
          max-width: 160px;
        }
      }
    </style>
  </head>
  <body>
    <!-- 左側篩選面板 -->
    <div class="filter-panel" id="filterPanel">
      <div class="filter-panel-header">
        <h4>篩選</h4>
        <button class="close-filter" id="closeFilterBtn">
          <i class="fas fa-times"></i>
        </button>
      </div>

      <!-- 難易度 (可多選) - 放最上面 -->
      <section>
        <h5>等級 (可多選)</h5>
        <ul class="multi-select-list" id="levelList">
          <li class="multi-item" data-value="beginner">
            <i class="fas fa-star"></i>
            <div>初階</div>
          </li>
          <li class="multi-item" data-value="intermediate">
            <i class="fas fa-star-half-alt"></i>
            <div>中階</div>
          </li>
          <li class="multi-item" data-value="advanced">
            <i class="fas fa-star-of-david"></i>
            <div>高階</div>
          </li>
        </ul>
      </section>

      <!-- 多選：分類 (群組) -->
      <section>
        <h5>分類 (可多選)</h5>

        <!-- 前端技術 -->
        <div class="category-group-title">前端技術</div>
        <ul class="multi-select-list" id="categoryListFront">
          <!-- 之後JS動態插入 -->
        </ul>

        <!-- 後端 / DevOps -->
        <div class="category-group-title">後端 / DevOps</div>
        <ul class="multi-select-list" id="categoryListBack">
          <!-- 之後JS動態插入 -->
        </ul>

        <!-- AI / 測試 / 效能 -->
        <div class="category-group-title">AI / 測試 / 效能</div>
        <ul class="multi-select-list" id="categoryListAI">
          <!-- 之後JS動態插入 -->
        </ul>

        <!-- 其它 / 綜合 -->
        <div class="category-group-title">其它 / 綜合</div>
        <ul class="multi-select-list" id="categoryListOther">
          <!-- 之後JS動態插入 -->
        </ul>
      </section>

      <button class="apply-filter" id="applyFilterBtn">套用篩選</button>
    </div>

    <header>
      <!-- 頂部：LOGO、桌機導航、漢堡(手機) -->
      <div class="header-top">
        <a href="#" class="logo">
          <i class="fas fa-code"></i>
          <span>前端學習平台</span>
        </a>
        <!-- 桌機導覽 -->
        <nav class="nav-links" id="desktopNav">
          <a href="#learning"><i class="fas fa-road"></i> 學習路徑</a>
          <a href="#practical"><i class="fas fa-laptop-code"></i> 實戰應用</a>
          <a href="#functionality"
            ><i class="fas fa-puzzle-piece"></i> 功能實現</a
          >
          <a href="#integrated"
            ><i class="fas fa-project-diagram"></i> 綜合應用</a
          >
        </nav>
        <!-- 漢堡(手機) -->
        <div class="hamburger" id="hamburgerBtn">
          <span></span>
          <span></span>
          <span></span>
        </div>
      </div>
      <!-- 手機導覽 -->
      <nav class="mobile-nav" id="mobileNav">
        <a href="#learning"><i class="fas fa-road"></i> 學習路徑</a>
        <a href="#practical"><i class="fas fa-laptop-code"></i> 實戰應用</a>
        <a href="#functionality"
          ><i class="fas fa-puzzle-piece"></i> 功能實現</a
        >
        <a href="#integrated"
          ><i class="fas fa-project-diagram"></i> 綜合應用</a
        >
      </nav>

      <!-- 單行 搜尋 + 篩選按鈕 -->
      <div class="filter-bar">
        <button class="circle-filter-btn" id="toggleFilterBtn">
          <i class="fas fa-filter"></i>
        </button>

        <div class="search-box">
          <input
            type="text"
            id="searchInput"
            placeholder="搜尋標題、描述或關鍵字..."
          />
          <button id="searchBtn">
            <i class="fas fa-search"></i>
          </button>
        </div>
      </div>
    </header>

    <main>
      <!-- 學習路徑 -->
      <section id="learning">
        <div class="section-header">
          <h2 class="section-title">學習路徑 (Learning)</h2>
        </div>
        <div id="learning-overview" class="section-overview"></div>
        <div class="card-grid" id="learning-container"></div>
      </section>

      <!-- 實戰應用 -->
      <section id="practical">
        <div class="section-header">
          <h2 class="section-title">實戰應用 (Practical)</h2>
        </div>
        <div id="practical-overview" class="section-overview"></div>
        <div class="card-grid" id="practical-container"></div>
      </section>

      <!-- 功能實現 -->
      <section id="functionality">
        <div class="section-header">
          <h2 class="section-title">功能實現 (Functionality)</h2>
        </div>
        <div id="functionality-overview" class="section-overview"></div>
        <div class="card-grid" id="functionality-container"></div>
      </section>

      <!-- 綜合應用 -->
      <section id="integrated">
        <div class="section-header">
          <h2 class="section-title">綜合應用 (Integrated)</h2>
        </div>
        <div id="integrated-overview" class="section-overview"></div>
        <div class="card-grid" id="integrated-container"></div>
      </section>
    </main>

    <!-- Toast -->
    <div class="toast-container" id="toastContainer"></div>

    <!-- Modal 詳細內容 -->
    <div class="modal-backdrop" id="modalBackdrop">
      <div class="modal-content">
        <div class="modal-header">
          <h4 id="modalTitle">詳細內容</h4>
          <button class="close-btn" id="closeModal">
            <i class="fas fa-times"></i>
          </button>
        </div>
        <div class="modal-body" id="modalBody"></div>
      </div>
    </div>

    <footer>
      <div class="footer-content">
        <div class="footer-links">
          <a href="#">關於我們</a>
          <a href="#">服務條款</a>
          <a href="#">隱私政策</a>
        </div>
        <div class="social-links">
          <a href="#" class="social-icon"><i class="fab fa-facebook-f"></i></a>
          <a href="#" class="social-icon"><i class="fab fa-twitter"></i></a>
          <a href="#" class="social-icon"><i class="fab fa-instagram"></i></a>
        </div>
        <p>
          &copy; 2025 前端學習平台 - 多選篩選 + 單行搜尋示例 All rights
          reserved.
        </p>
      </div>
    </footer>

    <script>
      // 手機漢堡
      const hamburgerBtn = document.getElementById("hamburgerBtn");
      const mobileNav = document.getElementById("mobileNav");
      hamburgerBtn.addEventListener("click", () => {
        hamburgerBtn.classList.toggle("active");
        mobileNav.classList.toggle("show");
      });

      // 左側篩選面板
      const filterPanel = document.getElementById("filterPanel");
      const toggleFilterBtn = document.getElementById("toggleFilterBtn");
      const closeFilterBtn = document.getElementById("closeFilterBtn");
      const applyFilterBtn = document.getElementById("applyFilterBtn");

      toggleFilterBtn.addEventListener("click", () => {
        filterPanel.classList.add("show");
      });
      closeFilterBtn.addEventListener("click", () => {
        filterPanel.classList.remove("show");
      });
      applyFilterBtn.addEventListener("click", () => {
        filterPanel.classList.remove("show");
        handleSearchAndFilter();
      });

      // Toast
      function showToast(msg) {
        const container = document.getElementById("toastContainer");
        const toast = document.createElement("div");
        toast.className = "toast";
        toast.textContent = msg;
        container.appendChild(toast);
        setTimeout(() => {
          container.removeChild(toast);
        }, 3000);
      }

      // Modal
      const modalBackdrop = document.getElementById("modalBackdrop");
      const closeModalBtn = document.getElementById("closeModal");
      const modalTitle = document.getElementById("modalTitle");
      const modalBody = document.getElementById("modalBody");

      function openModal(item) {
        modalTitle.textContent = `#${item.number} ${item.title}`;
        modalBody.innerHTML = "";

        // info-block
        const infoDiv = document.createElement("div");
        infoDiv.className = "info-block";

        if (item.description) {
          const p = document.createElement("p");
          p.innerHTML = `<strong>描述：</strong>${item.description}`;
          infoDiv.appendChild(p);
        }
        if (item.category) {
          const p = document.createElement("p");
          p.innerHTML = `<strong>分類：</strong>${item.category}`;
          infoDiv.appendChild(p);
        }
        if (item.level) {
          const p = document.createElement("p");
          p.innerHTML = `<strong>等級：</strong>${levelToZh(item.level)}`;
          infoDiv.appendChild(p);
        }
        if (Array.isArray(item.keywords)) {
          const p = document.createElement("p");
          p.innerHTML = `<strong>關鍵字：</strong>${item.keywords.join(", ")}`;
          infoDiv.appendChild(p);
        }
        if (item.suggestedTimeline) {
          const p = document.createElement("p");
          p.innerHTML = `<strong>建議時程：</strong>${item.suggestedTimeline}`;
          infoDiv.appendChild(p);
        }
        if (item.lastUpdated) {
          const p = document.createElement("p");
          p.innerHTML = `<strong>最後更新：</strong>${item.lastUpdated}`;
          infoDiv.appendChild(p);
        }
        if (item.applicationScenarios) {
          const p = document.createElement("p");
          p.innerHTML = `<strong>應用場景：</strong>${item.applicationScenarios.join(
            "、"
          )}`;
          infoDiv.appendChild(p);
        }

        modalBody.appendChild(infoDiv);

        // prompt
        if (item.prompt) {
          const promptBlock = document.createElement("div");
          promptBlock.className = "prompt-block";
          promptBlock.innerHTML = `
            <strong>Prompt：</strong><br>
            <p style="margin-top:0.3rem;">${item.prompt}</p>
          `;
          modalBody.appendChild(promptBlock);

          // 複製按鈕(帶狀態變化)
          const copyBtn = document.createElement("button");
          copyBtn.className = "copy-btn";
          copyBtn.textContent = "複製 Prompt";
          copyBtn.addEventListener("click", () => {
            navigator.clipboard
              .writeText(item.prompt)
              .then(() => {
                showToast("已複製 Prompt");
                copyBtn.textContent = "已複製";
                copyBtn.style.backgroundColor = "var(--primary)";
                copyBtn.style.color = "#fff";
                copyBtn.style.borderColor = "var(--primary)";
                setTimeout(() => {
                  copyBtn.textContent = "複製 Prompt";
                  copyBtn.removeAttribute("style");
                }, 2000);
              })
              .catch((err) => console.error("複製失敗:", err));
          });
          modalBody.appendChild(copyBtn);
        }

        // requiredInfo
        if (Array.isArray(item.requiredInfo) && item.requiredInfo.length > 0) {
          item.requiredInfo.forEach((field) => {
            const fb = document.createElement("div");
            fb.className = "field-block";
            fb.innerHTML = `
              <label>[${field}]</label>
              <textarea placeholder="請輸入 ${field}..."></textarea>
            `;
            modalBody.appendChild(fb);
          });
        }

        modalBackdrop.style.display = "flex";
        modalBackdrop.classList.add("show");
      }

      function closeModal() {
        modalBackdrop.classList.remove("show");
        modalBackdrop.style.display = "none";
      }
      closeModalBtn.addEventListener("click", closeModal);
      modalBackdrop.addEventListener("click", (e) => {
        if (e.target === modalBackdrop) {
          closeModal();
        }
      });

      // 等級轉中文
      function levelToZh(lv) {
        switch (lv) {
          case "beginner":
            return "初階";
          case "intermediate":
            return "中階";
          case "advanced":
            return "高階";
          default:
            return lv;
        }
      }

      // 分類對應
      const categoryIconMap = {
        HTML: { icon: "fab fa-html5" },
        CSS: { icon: "fab fa-css3-alt" },
        JavaScript: { icon: "fab fa-js" },
        React: { icon: "fab fa-react" },
        Vue: { icon: "fab fa-vuejs" },
        Tools: { icon: "fas fa-tools" },
        Backend: { icon: "fas fa-server" },
        DevOps: { icon: "fas fa-cogs" },
        Performance: { icon: "fas fa-tachometer-alt" },
        Testing: { icon: "fas fa-vial" },
        AI: { icon: "fas fa-robot" },
        "Web Development": { icon: "fas fa-globe" },
        "E-commerce": { icon: "fas fa-shopping-cart" },
        Education: { icon: "fas fa-book-reader" },
        "Social Media": { icon: "fas fa-users" },
        Productivity: { icon: "fas fa-tasks" },
        Booking: { icon: "fas fa-calendar-check" },
        Business: { icon: "fas fa-briefcase" },
        "Customer Support": { icon: "fas fa-headset" },
        Communication: { icon: "fas fa-comments" },
        Community: { icon: "fas fa-users-cog" },
        Travel: { icon: "fas fa-map-marked-alt" },
        "Data Visualization": { icon: "fas fa-chart-bar" },
        "Content Management": { icon: "fas fa-pen-nib" },
        Survey: { icon: "fas fa-poll" },
        Healthcare: { icon: "fas fa-notes-medical" },
        Portfolio: { icon: "fas fa-address-card" },
        "No-Code": { icon: "fas fa-magic" },
        IoT: { icon: "fas fa-microchip" },
        "Full Stack": { icon: "fas fa-layer-group" },
        Architecture: { icon: "fas fa-sitemap" },
        "Build Tools": { icon: "fas fa-hammer" },
        "State Management": { icon: "fas fa-exchange-alt" },
        Visualization: { icon: "fas fa-cube" },
        Payment: { icon: "fas fa-credit-card" },
        Desktop: { icon: "fas fa-desktop" },
        Multimedia: { icon: "fas fa-play-circle" },
      };

      // 對應到前端、後端、AI、其它 ... (僅舉例，依需求可調整)
      const frontCategories = [
        "HTML",
        "CSS",
        "JavaScript",
        "React",
        "Vue",
        "Web Development",
        "Tools",
      ];
      const backCategories = [
        "Backend",
        "DevOps",
        "Build Tools",
        "Architecture",
        "Full Stack",
      ];
      const aiCategories = ["AI", "Testing", "Performance"];
      // 其它 (沒有歸類到上面三組的，就放到這)
      const otherCategories = [
        "E-commerce",
        "Education",
        "Social Media",
        "Productivity",
        "Booking",
        "Business",
        "Customer Support",
        "Communication",
        "Community",
        "Travel",
        "Data Visualization",
        "Content Management",
        "Survey",
        "Healthcare",
        "Portfolio",
        "No-Code",
        "IoT",
        "State Management",
        "Visualization",
        "Payment",
        "Desktop",
        "Multimedia",
      ];

      // 動態產生分類的多選方塊
      function generateCategoryMultiSelect(containerId, catArray) {
        const container = document.getElementById(containerId);
        catArray.forEach((cat) => {
          const li = document.createElement("li");
          li.className = "multi-item";
          li.setAttribute("data-value", cat);

          const iconName = categoryIconMap[cat]?.icon || "fas fa-layer-group";
          li.innerHTML = `<i class="${iconName}"></i><div>${cat}</div>`;

          container.appendChild(li);
        });
      }

      generateCategoryMultiSelect("categoryListFront", frontCategories);
      generateCategoryMultiSelect("categoryListBack", backCategories);
      generateCategoryMultiSelect("categoryListAI", aiCategories);
      generateCategoryMultiSelect("categoryListOther", otherCategories);

      // 點擊切換「選取」的函式
      function setupMultiSelectClick(listId, selectedArray) {
        const ul = document.getElementById(listId);
        ul.addEventListener("click", (e) => {
          const li = e.target.closest(".multi-item");
          if (!li) return;
          li.classList.toggle("selected");
          const val = li.getAttribute("data-value");
          if (li.classList.contains("selected")) {
            // 加入
            if (!selectedArray.includes(val)) {
              selectedArray.push(val);
            }
          } else {
            // 移除
            const idx = selectedArray.indexOf(val);
            if (idx > -1) {
              selectedArray.splice(idx, 1);
            }
          }
        });
      }

      // 建立兩個全域陣列存放「已選取的等級」「已選取的分類」
      const selectedLevels = [];
      const selectedCategories = [];

      // 等級多選
      setupMultiSelectClick("levelList", selectedLevels);
      // 分類多選 (四大容器)
      setupMultiSelectClick("categoryListFront", selectedCategories);
      setupMultiSelectClick("categoryListBack", selectedCategories);
      setupMultiSelectClick("categoryListAI", selectedCategories);
      setupMultiSelectClick("categoryListOther", selectedCategories);

      // 解析"第X週"
      function parseTimeline(str) {
        if (!str) return 0;
        const match = str.match(/第\s*(\d+)\s*週/);
        if (!match) return 0;
        const w = parseInt(match[1], 10);
        let ratio = (w / 12) * 100;
        if (ratio > 100) ratio = 100;
        return ratio;
      }

      // 建立卡片
      function createCard(item) {
        const card = document.createElement("div");
        card.className = "card";

        const header = document.createElement("div");
        header.className = "card-header";

        // icon
        const catObj = categoryIconMap[item.category] || {
          icon: "fas fa-layer-group",
        };
        const iconEl = document.createElement("i");
        iconEl.className = catObj.icon;
        iconEl.style.fontSize = "1.2rem";
        iconEl.style.minWidth = "40px";
        header.appendChild(iconEl);

        // title
        const h3 = document.createElement("h3");
        h3.textContent = `${item.number}. ${item.title}`;
        header.appendChild(h3);

        // level-tag
        if (item.level) {
          const lvSpan = document.createElement("span");
          lvSpan.classList.add("level-tag", item.level);
          lvSpan.textContent = levelToZh(item.level);
          header.appendChild(lvSpan);
        }
        card.appendChild(header);

        // desc
        const desc = document.createElement("div");
        desc.className = "desc";
        desc.textContent = item.description || "";
        card.appendChild(desc);

        // progress
        if (item.suggestedTimeline) {
          const progSec = document.createElement("div");
          progSec.className = "progress-section";

          const label = document.createElement("div");
          label.className = "progress-label";
          label.textContent = item.suggestedTimeline;
          progSec.appendChild(label);

          const bar = document.createElement("div");
          bar.className = "progress-bar";
          const fill = document.createElement("div");
          fill.className = "progress-bar-fill";
          fill.style.width = parseTimeline(item.suggestedTimeline) + "%";
          bar.appendChild(fill);
          progSec.appendChild(bar);

          card.appendChild(progSec);
        }

        // keywords
        if (Array.isArray(item.keywords) && item.keywords.length > 0) {
          const kwList = document.createElement("div");
          kwList.className = "keyword-list";
          item.keywords.forEach((kw) => {
            const pill = document.createElement("span");
            pill.className = "keyword-pill";
            pill.textContent = kw;
            pill.addEventListener("click", () => {
              document.getElementById("searchInput").value = kw;
              handleSearchAndFilter();
            });
            kwList.appendChild(pill);
          });
          card.appendChild(kwList);
        }

        // btn-area
        const btnArea = document.createElement("div");
        btnArea.className = "btn-area";

        const detailBtn = document.createElement("button");
        detailBtn.className = "btn";
        detailBtn.textContent = "檢視詳情";
        detailBtn.addEventListener("click", () => openModal(item));
        btnArea.appendChild(detailBtn);

        if (item.prompt) {
          const copyBtn = document.createElement("button");
          copyBtn.className = "btn";
          copyBtn.textContent = "複製 Prompt";
          copyBtn.addEventListener("click", () => {
            navigator.clipboard
              .writeText(item.prompt)
              .then(() => {
                showToast("已複製 Prompt");
                // 狀態變色
                copyBtn.textContent = "已複製";
                copyBtn.style.backgroundColor = "var(--primary)";
                copyBtn.style.color = "#fff";
                copyBtn.style.borderColor = "var(--primary)";
                setTimeout(() => {
                  copyBtn.textContent = "複製 Prompt";
                  copyBtn.removeAttribute("style");
                }, 2000);
              })
              .catch((err) => console.error("複製失敗:", err));
          });
          btnArea.appendChild(copyBtn);
        }

        card.appendChild(btnArea);
        return card;
      }

      // 渲染
      function renderCards(containerId, items) {
        const container = document.getElementById(containerId);
        container.innerHTML = "";
        items.forEach((obj) => {
          const cardElem = createCard(obj);
          container.appendChild(cardElem);
        });
      }

      // 搜尋 & 篩選
      let dataLearning = [];
      let dataPractical = [];
      let dataFunctionality = [];
      let dataIntegrated = [];

      function handleSearchAndFilter() {
        const searchVal = document
          .getElementById("searchInput")
          .value.trim()
          .toLowerCase();

        // 收集多選 category -> 用 selectedCategories
        // 收集多選 level -> 用 selectedLevels

        const matchFn = (item) => {
          // 關鍵字 (標題/描述/關鍵字/分類)
          if (searchVal) {
            const text =
              (item.title || "") +
              (item.description || "") +
              (item.keywords || []) +
              (item.category || "");
            if (!text.toLowerCase().includes(searchVal)) return false;
          }
          // 分類多選
          if (
            selectedCategories.length > 0 &&
            !selectedCategories.includes(item.category)
          ) {
            return false;
          }
          // 等級多選
          if (
            selectedLevels.length > 0 &&
            !selectedLevels.includes(item.level)
          ) {
            return false;
          }
          return true;
        };

        renderCards("learning-container", dataLearning.filter(matchFn));
        renderCards("practical-container", dataPractical.filter(matchFn));
        renderCards(
          "functionality-container",
          dataFunctionality.filter(matchFn)
        );
        renderCards("integrated-container", dataIntegrated.filter(matchFn));
      }

      document.addEventListener("DOMContentLoaded", () => {
        // 搜尋事件
        document
          .getElementById("searchBtn")
          .addEventListener("click", handleSearchAndFilter);
        document
          .getElementById("searchInput")
          .addEventListener("keyup", (e) => {
            if (e.key === "Enter") handleSearchAndFilter();
          });

        // 載入 JSON (示例檔 react_prompt.json)
        fetch("react_prompt.json")
          .then((res) => res.json())
          .then((data) => {
            // learning
            const l = data.learning || {};
            document.getElementById("learning-overview").textContent =
              l.overview || "";
            dataLearning = l.items || [];

            // practical
            const p = data.practicalApplication || {};
            document.getElementById("practical-overview").textContent =
              p.overview || "";
            dataPractical = p.items || [];

            // functionality
            const f = data.functionality || {};
            document.getElementById("functionality-overview").textContent =
              f.overview || "";
            dataFunctionality = f.items || [];

            // integrated
            const i = data.integratedExample || {};
            document.getElementById("integrated-overview").textContent =
              i.overview || "";
            dataIntegrated = i.items || [];

            // 初始顯示
            renderCards("learning-container", dataLearning);
            renderCards("practical-container", dataPractical);
            renderCards("functionality-container", dataFunctionality);
            renderCards("integrated-container", dataIntegrated);
          })
          .catch((err) => {
            console.error("載入 react_prompt.json 發生錯誤：", err);
          });
      });
    </script>
  </body>
</html>
