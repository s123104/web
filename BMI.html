<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <title>ä½ é€™è‚¥è±¬ï¼è¶…é åŒ—æ¸›è‚¥æª¢æ¸¬å™¨</title>
  <style>
    /* è¶…ç´šé›æ°ã€é åŒ—åˆé…¸æ°‘çš„é åŒ—é¢¨æ ¼ */
    body {
      background: #111;
      color: #ff5555;
      font-family: "å¾®è»Ÿæ­£é»‘é«”", sans-serif;
      margin: 0;
      padding: 0;
      text-align: center;
    }
    .container {
      max-width: 700px;
      margin: 40px auto;
      padding: 30px;
      border: 4px solid #ff5555;
      background: #222;
      box-shadow: 0 0 30px #ff5555;
    }
    h1 {
      font-size: 32px;
      margin-bottom: 20px;
    }
    label {
      display: block;
      margin: 15px 0 5px;
      font-size: 20px;
    }
    input, select {
      width: 80%;
      padding: 10px;
      font-size: 18px;
      border: 2px solid #ff5555;
      background: #333;
      color: #fff;
      margin-bottom: 10px;
    }
    button {
      margin-top: 20px;
      padding: 12px 25px;
      font-size: 20px;
      color: #fff;
      background: #ff5555;
      border: none;
      cursor: pointer;
      transition: background 0.3s;
    }
    button:hover {
      background: #cc4444;
    }
    #result {
      margin-top: 30px;
      text-align: left;
      font-size: 20px;
      line-height: 1.6;
      white-space: pre-wrap;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>ä½ é€™è‚¥è±¬ï¼ä¾†æ¸¬æ¸¬ä½ é‚£å †è‚¥è‚‰åˆ°åº•æœ‰å¤šä»–åª½çš„å¯ç¬‘ï¼ğŸ˜¡ğŸ¤¬ğŸ’©</h1>
    <form id="bmiForm">
      <label for="gender">é¸æ“‡æ€§åˆ¥ï¼š</label>
      <select id="gender" required>
        <option value="">è«‹é¸æ“‡ï¼Œä½ é€™è…¦æ®˜... ğŸ¤¡</option>
        <option value="male">ç”·ç”Ÿï¼ˆåˆ¥ä»¥ç‚ºä½ é‚£ç ´è‚Œè‚‰èƒ½æ©é£¾ä½ è‚¥è‚‰ ğŸ¤¬ï¼‰</option>
        <option value="female">å¥³ç”Ÿï¼ˆæ³¡èŠ™æ—ï¼Œåˆ¥å†è£ç˜¦å•¦ ğŸ˜¤ï¼‰</option>
      </select>
      <label for="height">èº«é«˜ (å…¬åˆ†)ï¼š</label>
      <input type="number" id="height" placeholder="ä½ ä»–åª½çš„èº«é«˜å¤šå°‘ï¼Ÿ ğŸ¤¬" required>
      <label for="weight">é«”é‡ (å…¬æ–¤)ï¼š</label>
      <input type="number" id="weight" placeholder="å¿«é»è¼¸å…¥ä½ çš„æ­»è‚¥è‚‰é‡é‡ï¼ ğŸ’©" required>
      <button type="submit">é–‹å§‹æ¸¬è©¦ï¼Œåˆ¥å†æµªè²»ä½ é‚£èƒ–èƒ–çš„èº«é«”äº†ï¼ğŸ˜¡ğŸ¤¬</button>
    </form>
    <div id="result"></div>
  </div>

  <script>
    document.getElementById("bmiForm").addEventListener("submit", function(e) {
      e.preventDefault();
      var gender = document.getElementById("gender").value;
      var height = parseFloat(document.getElementById("height").value);
      var weight = parseFloat(document.getElementById("weight").value);
      var resultDiv = document.getElementById("result");

      if (!gender || isNaN(height) || isNaN(weight) || height <= 0 || weight <= 0) {
        resultDiv.innerText = "ä½ é€™ä»–åª½çš„æ•¸å­—åˆè¼¸éŒ¯äº†ï¼èªçœŸé»ï¼Œåˆ¥å†çµ¦æˆ‘äº‚è¼¸å…¥ï¼ğŸ˜¤ğŸ’©";
        return;
      }

      // è¨ˆç®—BMI
      var bmi = weight / Math.pow(height / 100, 2);
      bmi = bmi.toFixed(1);

      // è¨ˆç®—æ¨™æº–é«”é‡ (æ ¹æ“šæ€§åˆ¥)
      var stdWeight;
      if (gender === "male") {
        stdWeight = (height - 80) * 0.7;
      } else {
        stdWeight = (height - 70) * 0.6;
      }
      stdWeight = stdWeight.toFixed(1);
      // æ­£å¸¸ç¯„åœï¼šæ¨™æº–é«”é‡ Â± 10%
      var normalLow = stdWeight * 0.9;
      var normalHigh = stdWeight * 1.1;
      // å¾®èƒ–ç¯„åœï¼šè¶…éæ­£å¸¸ä¸Šé™10%~20%
      var microFatLow = normalHigh;
      var microFatHigh = stdWeight * 1.2;
      // è‚¥èƒ–ç¯„åœï¼šè¶…éæ¨™æº–é«”é‡20%
      var obesityThreshold = stdWeight * 1.2;

      // é•·ç¯‡é åŒ—å˜²è«·èªå¥
      var msg = "ä½ é€™å‚»é€¼ï¼Œæ¸¬è©¦çµæœå‡ºçˆå•¦ï¼ğŸ˜¡ğŸ¤¬\n\n";
      msg += "ã€åŸºæœ¬æ•¸æ“šã€‘\n";
      msg += "èº«é«˜ï¼š " + height + " å…¬åˆ†\n";
      msg += "é«”é‡ï¼š " + weight + " å…¬æ–¤\n";
      msg += "æ€§åˆ¥ï¼š " + (gender === "male" ? "ç”·ç”Ÿ" : "å¥³ç”Ÿ") + "\n";
      msg += "è¨ˆç®—å‡ºä¾†çš„BMIï¼š " + bmi + " (æ¨™æº–ç¯„åœï¼š18.5ï½24)\n";
      msg += "ä¾ä½ é‚£è©²æ­»çš„æ•¸æ“šï¼Œä½ æ‡‰è©²æœ‰ " + stdWeight + " å…¬æ–¤å·¦å³\n";
      msg += "æ­£å¸¸ç¯„åœå¤§ç´„æ˜¯ " + normalLow.toFixed(1) + "ï½" + normalHigh.toFixed(1) + " å…¬æ–¤\n";
      msg += "\nã€é åŒ—åˆ†æã€‘\n";

      if (bmi < 18.5) {
        msg += "é åŒ—ï¼Œä½ ç˜¦å¾—è·Ÿæ ¹ç«¹ç«¿ä¼¼çš„ï¼Œé€£æ—©é¤éƒ½ä¸æ•¢åƒå§ï¼Ÿè£œè£œè‚‰å•¦ï¼Œå¦å‰‡é€£ä½ åª½çœ‹äº†éƒ½æœƒèªªï¼š'é€™å­©å­æ€éº¼é€™éº¼è™›å¼±ï¼Ÿ' ğŸ¤¬ğŸ˜¤\n";
      } else if (bmi >= 18.5 && bmi < 24) {
        if (weight > normalHigh && weight <= microFatHigh) {
          msg += "å—¯ï¼Œçœ‹ä½ é‚£é»å°è‚‰ï¼Œå¾®å¾®æœ‰é»èƒ–å•¦ï¼åˆ¥ä»¥ç‚ºæ­£é»å°±èƒ½æ··æ—¥å­ï¼Œå‹•èµ·ä¾†ï¼Œåˆ¥å†è®“é‚£é»è‚¥è‚‰æ‹–ç´¯ä½ ï¼é€£ä½ åª½éƒ½æœƒç¬‘ä½ ï¼š'ä½ å°±é€™é»è‚‰ä¹Ÿæ•¢èªªè‡ªå·±æ­£å¸¸ï¼Ÿ' ğŸ¤¡ğŸ’©\n";
        } else {
          msg += "é‚„ç®—æ­£å¸¸å•¦ï¼Œä½†åˆ¥ä»¥ç‚ºä½ é‚£åŠæ¡¶æ°´å°±èƒ½æ··éæ—¥å­ï¼å‹•èµ·ä¾†é»ï¼Œä¸ç„¶é€£è€å¤–çœ‹åˆ°ä½ éƒ½æœƒèªªï¼š'é€™å‚¢ä¼™ä¹Ÿå¤ªè©²æ­»äº†ï¼' ğŸ˜¤ğŸ¤¬\n";
        }
      } else if (bmi >= 24 && bmi < 27) {
        msg += "å¹¹ï¼Œä½ çš„BMIæ•¸å­—å‘Šè¨´æˆ‘ï¼šéé‡å•¦ï¼ä½ é‚£å †è‚¥è‚‰å †å¾—æ¯”åƒåœ¾æ¡¶é‚„é«˜ï¼Œå¿«æ¨æ£„ä½ é‚£ç ´å¤–è³£ï¼Œå‹•èµ·ä¾†æ¸›æ¸›è„‚ï¼Œå¦å‰‡æ°¸é åªèƒ½åšå€‹è‚¥å®…ï¼ ğŸ¤¬ğŸ’©\n";
      } else if (bmi >= 27 && bmi < 30) {
        msg += "é åŒ—ï¼ä½ çš„BMIå·²ç¶“é€²å…¥è¼•åº¦è‚¥èƒ–å€äº†ï¼Œè‚¥è‚‰å¤šå¾—å¯ä»¥æ‹¿ä¾†ç•¶é æ•äº†ï¼è¶•å¿«å»å¥èº«æˆ¿æ®æ®æ±—ï¼Œåˆ¥å†åƒåƒç¡ç¡ï¼Œå¦å‰‡é€£é¡å­éƒ½æœƒå™´ä½ ä¸€è‡‰è‚¥æ²¹ï¼ ğŸ¤¡ğŸ˜¤\n";
      } else if (bmi >= 30 && bmi < 35) {
        msg += "çœŸä»–åª½çš„ä¸­åº¦è‚¥èƒ–ï¼Œä½ èº«ä¸Šçš„è‚‰æ¯”ä½ è…¦å­é‚„å¤šï¼Œå¿«å»æ‰¾è—¥ç‰©æˆ–æ‰‹è¡“ï¼Œå¦å‰‡ä½ å°±æ³¨å®šç•¶å€‹æ°¸é çš„è‚¥å®…ï¼Œè®“äººçœ‹äº†ç›´å‘¼ï¼š'ä½ çœŸçš„æ˜¯æ´»è©²ï¼' ğŸ¤¬ğŸ’©ğŸ˜¡\n";
      } else {
        msg += "å“‡é ï¼Œé‡åº¦è‚¥èƒ–å•¦ï¼ä½ é‚£ä¸€å¤§å †è‚¥è‚‰ç°¡ç›´èƒ½æ‹¿ä¾†ç‚¸æ²¹æ¢ï¼Œè¶•ç·Šä¸‹å®šæ±ºå¿ƒæ¸›è‚¥ï¼Œä¸ç„¶ä½ é€£è·¯äººçœ‹åˆ°éƒ½æœƒé–ƒè‘—æ·šèªªï¼š'é€™å€‹èƒ–å­ï¼ŒçœŸä»–åª½çš„å™å¿ƒï¼' ğŸ¤¬ğŸ˜¤ğŸ’©\n";
      }

      // é•·ç¯‡å°ç£å¼é åŒ—ç¸½çµ
      msg += "\nã€é›æ°ç¸½çµã€‘\n";
      msg += "æ ¹æ“šå°ç£æ™®ä¸–çš„æ•¸æ“šï¼Œä½ é‚£èº«é«”ç‹€æ…‹å·²ç¶“é è¶…æ­£å¸¸ç¯„åœï¼Œä¸ç®¡æ˜¯BMIã€æ¨™æº–é«”é‡é‚„æ˜¯è…°åœå’Œé«”è„‚ç‡ï¼Œéƒ½åœ¨å‘Šè¨´ä½ ï¼šè¶•ç·Šå‹•èµ·ä¾†æ¸›è‚¥ï¼Œå¦å‰‡ä¸€è¼©å­åªèƒ½æˆç‚ºç¤¾æœƒç¬‘æŸ„ï¼ ğŸ¤¡ğŸ’©ğŸ˜¡\n";
      msg += "åˆ¥å†æ•´å¤©æŠ±è‘—æ‰‹æ©Ÿæ‰“æ©Ÿã€åƒå¤–è³£ï¼Œä½ é‚£é»è‚¥è‚‰å°±åƒä¸€å †åƒåœ¾ï¼Œå †æ»¿å…¨èº«ã€‚è¨˜ä½ï¼Œå¥åº·æ‰æ˜¯ç‹é“ï¼Œåˆ¥å†è®“é‚£è©²æ­»çš„è‚¥è‚‰æ‹–ç´¯ä½ çš„äººç”Ÿï¼\n";
      msg += "\nå¿«é»èµ·ä¾†é‹å‹•ã€å°‘åƒåƒåœ¾ã€æˆ’æ‰ä½ é‚£ç ´ç¿’æ…£ï¼Œå¦å‰‡æº–ä¿é€£ä½ åª½éƒ½çœ‹ä¸ä¸‹å»ä½ é€™å‰¯æ‚²æ…˜çš„æ¨¡æ¨£ï¼ ğŸ¤¬ğŸ˜¤ğŸ’©\n";
      msg += "\nâ€”â€” ä¾†è‡ªä¸€å€‹è¶…é åŒ—ã€è¶…é…¸æ°‘çš„å°ç£å­¸éœ¸æœ‹å‹ç‹ ç‹ å—†ä½ çš„å»ºè­°ï¼ ğŸ¤¡ğŸ˜¡";

      resultDiv.innerText = msg;
    });
  </script>
</body>
</html>