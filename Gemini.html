<!DOCTYPE html>
<html lang="zh-TW" class="scroll-smooth">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Google Gemini API 新手快速指南</title>
  
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Noto+Sans+TC:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
  <script src="https://cdn.tailwindcss.com"></script>

  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: {
              50: '#f0f9ff', 100: '#e0f2fe', 200: '#bae6fd', 300: '#7dd3fc',
              400: '#38bdf8', 500: '#0ea5e9', 600: '#0284c7', 700: '#0369a1',
              800: '#075985', 900: '#0c4a6e'
            },
            google: {
              50: '#f8faff', 100: '#e8f4fd', 200: '#d1e9fb', 300: '#a8d8f8',
              400: '#4285f4', 500: '#1a73e8', 600: '#1557b0', 700: '#0f4c81',
              800: '#0d3a5c', 900: '#0a2e47'
            },
            accent: {
              50: '#fef3c7', 100: '#fde68a', 200: '#fcd34d', 300: '#fbbf24',
              400: '#f59e0b', 500: '#d97706', 600: '#b45309'
            },
            success: '#10b981',
            warning: '#f59e0b',
            danger: '#ef4444',
            neutral: {
              50: '#f8fafc', 100: '#f1f5f9', 200: '#e2e8f0', 300: '#cbd5e1',
              400: '#94a3b8', 500: '#64748b', 600: '#475569', 700: '#334155',
              800: '#1e293b', 900: '#0f172a'
            }
          },
          fontFamily: {
            sans: ['Inter', 'Noto Sans TC', 'system-ui', 'sans-serif']
          },
          animation: {
            'fade-in': 'fadeIn 0.5s ease-out',
            'slide-up': 'slideUp 0.6s ease-out',
            'bounce-gentle': 'bounceGentle 2s infinite',
            'pulse-soft': 'pulseSoft 2s infinite',
            'float': 'float 3s ease-in-out infinite'
          },
          keyframes: {
            fadeIn: {
              '0%': { opacity: '0', transform: 'translateY(20px)' },
              '100%': { opacity: '1', transform: 'translateY(0)' }
            },
            slideUp: {
              '0%': { opacity: '0', transform: 'translateY(30px)' },
              '100%': { opacity: '1', transform: 'translateY(0)' }
            },
            bounceGentle: {
              '0%, 100%': { transform: 'translateY(0)' },
              '50%': { transform: 'translateY(-5px)' }
            },
            pulseSoft: {
              '0%, 100%': { opacity: '1' },
              '50%': { opacity: '0.7' }
            },
            float: {
              '0%, 100%': { transform: 'translateY(0px)' },
              '50%': { transform: 'translateY(-10px)' }
            }
          }
        }
      }
    }
  </script>

  <style>
    body {
      background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
      font-family: theme('fontFamily.sans');
    }
    
    .glass-card {
      background: rgba(255, 255, 255, 0.85);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.2);
      box-shadow: 0 8px 32px rgba(31, 38, 135, 0.1);
    }
    
    .step-card {
      position: relative;
      overflow: hidden;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    .step-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
      transition: left 0.5s;
    }
    
    .step-card:hover::before {
      left: 100%;
    }
    
    .step-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 20px 40px rgba(0,0,0,0.1);
    }
    
    .code-editor {
      background: linear-gradient(135deg, #1e293b 0%, #334155 100%);
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 10px 25px rgba(0,0,0,0.2);
    }
    
    .code-header {
      background: rgba(255,255,255,0.1);
      padding: 12px 16px;
      border-bottom: 1px solid rgba(255,255,255,0.1);
      display: flex;
      align-items: center;
      gap: 8px;
    }
    
    .code-dot {
      width: 12px;
      height: 12px;
      border-radius: 50%;
    }
    
    .parameter-card {
      border: 2px solid transparent;
      transition: all 0.3s ease;
      cursor: pointer;
    }
    
    .parameter-card:hover {
      border-color: theme('colors.google.300');
      box-shadow: 0 4px 12px rgba(66, 133, 244, 0.15);
    }
    
    .parameter-card.selected {
      border-color: theme('colors.google.500');
      background: linear-gradient(135deg, rgba(66, 133, 244, 0.05), rgba(66, 133, 244, 0.02));
    }
    
    .tooltip {
      position: relative;
    }
    
    .tooltip::after {
      content: attr(data-tooltip);
      position: absolute;
      bottom: 100%;
      left: 50%;
      transform: translateX(-50%);
      background: #1e293b;
      color: white;
      padding: 8px 12px;
      border-radius: 6px;
      font-size: 12px;
      white-space: nowrap;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.3s;
      z-index: 1000;
    }
    
    .tooltip:hover::after {
      opacity: 1;
    }
    
    .progress-bar {
      height: 4px;
      background: linear-gradient(90deg, #4285f4, #1a73e8);
      transition: width 0.3s ease;
    }
  </style>
</head>

<body class="min-h-screen">
  <!-- Header -->
  <header class="sticky top-0 z-50 glass-card">
    <div class="max-w-7xl mx-auto px-4 py-4">
      <div class="flex items-center justify-between">
        <div class="flex items-center space-x-3">
          <div class="w-10 h-10 bg-gradient-to-r from-google-500 to-google-600 rounded-lg flex items-center justify-center">
            <i class="fab fa-google text-white text-lg"></i>
          </div>
          <div>
            <h1 class="text-xl font-bold text-neutral-800">Google Gemini API</h1>
            <p class="text-sm text-neutral-500">新手快速指南</p>
          </div>
        </div>
        
        <div class="flex items-center space-x-4">
          <div class="hidden md:flex items-center space-x-2 text-sm text-neutral-600">
            <span>進度:</span>
            <div class="w-24 h-2 bg-neutral-200 rounded-full overflow-hidden">
              <div id="progressBar" class="progress-bar w-0"></div>
            </div>
            <span id="progressText">0/4</span>
          </div>
          <button class="bg-google-500 hover:bg-google-600 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors">
            開始使用
          </button>
        </div>
      </div>
    </div>
  </header>

  <!-- Hero Section -->
  <section class="py-16 px-4">
    <div class="max-w-4xl mx-auto text-center">
      <div class="inline-flex items-center space-x-2 bg-accent-50 text-accent-600 px-4 py-2 rounded-full text-sm font-medium mb-6">
        <i class="fab fa-google"></i>
        <span>Google 官方 AI API，免費開始使用</span>
      </div>
      
      <h1 class="text-4xl md:text-5xl font-bold text-neutral-800 mb-6 leading-tight">
        讓你的應用擁有<br/>
        <span class="bg-gradient-to-r from-google-500 to-google-600 bg-clip-text text-transparent">Google AI 智能</span>
      </h1>
      
      <p class="text-xl text-neutral-600 mb-12 max-w-2xl mx-auto leading-relaxed">
        Google Gemini API 提供強大的多模態 AI 能力，支援文字、圖像、程式碼生成，讓你輕鬆打造智能應用
      </p>
      
      <div class="grid md:grid-cols-3 gap-6 mb-12">
        <div class="glass-card p-6 rounded-xl">
          <div class="w-12 h-12 bg-google-100 rounded-lg flex items-center justify-center mb-4 mx-auto">
            <i class="fas fa-brain text-google-600 text-xl"></i>
          </div>
          <h3 class="font-semibold mb-2">多模態 AI</h3>
          <p class="text-sm text-neutral-600">文字、圖像、程式碼一體化處理</p>
        </div>
        
        <div class="glass-card p-6 rounded-xl">
          <div class="w-12 h-12 bg-accent-100 rounded-lg flex items-center justify-center mb-4 mx-auto">
            <i class="fas fa-gift text-accent-600 text-xl"></i>
          </div>
          <h3 class="font-semibold mb-2">免費開始</h3>
          <p class="text-sm text-neutral-600">無需信用卡，立即獲取 API 金鑰</p>
        </div>
        
        <div class="glass-card p-6 rounded-xl">
          <div class="w-12 h-12 bg-success/20 rounded-lg flex items-center justify-center mb-4 mx-auto">
            <i class="fas fa-rocket text-success text-xl"></i>
          </div>
          <h3 class="font-semibold mb-2">快速整合</h3>
          <p class="text-sm text-neutral-600">官方 SDK 支援多種程式語言</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Quick Start Steps -->
  <section class="py-16 px-4">
    <div class="max-w-6xl mx-auto">
      <div class="text-center mb-12">
        <h2 class="text-3xl font-bold text-neutral-800 mb-4">4 步驟快速開始</h2>
        <p class="text-neutral-600">跟著步驟走，5 分鐘就能讓你的應用擁有 Google AI 能力</p>
      </div>
      
      <!-- Step 1: Get API Key -->
      <div class="step-card glass-card p-8 rounded-2xl mb-8" data-step="1">
        <div class="flex items-start space-x-6">
          <div class="flex-shrink-0">
            <div class="w-12 h-12 bg-google-500 text-white rounded-full flex items-center justify-center font-bold text-lg">1</div>
          </div>
          
          <div class="flex-1">
            <h3 class="text-2xl font-bold text-neutral-800 mb-4">申請 API 金鑰</h3>
            <p class="text-neutral-600 mb-6">前往 Google AI Studio 免費取得 Gemini API 金鑰，無需綁定信用卡</p>
            
            <div class="grid md:grid-cols-2 gap-6">
              <div>
                <div class="bg-neutral-50 p-6 rounded-xl mb-4">
                  <h4 class="font-semibold mb-3 flex items-center">
                    <i class="fab fa-google text-google-500 mr-2"></i>
                    前往 AI Studio
                  </h4>
                  <ol class="space-y-2 text-sm text-neutral-700">
                    <li>1. 訪問 <a href="https://aistudio.google.com" class="text-google-500 hover:underline" target="_blank">aistudio.google.com</a></li>
                    <li>2. 使用 Google 帳號登入</li>
                    <li>3. 點擊「Get API Key」</li>
                  </ol>
                </div>
                
                <div class="bg-accent-50 p-6 rounded-xl">
                  <h4 class="font-semibold mb-3 flex items-center">
                    <i class="fas fa-key text-accent-500 mr-2"></i>
                    建立金鑰
                  </h4>
                  <ol class="space-y-2 text-sm text-neutral-700">
                    <li>1. 選擇「Create API key in new project」</li>
                    <li>2. 系統自動生成金鑰</li>
                    <li>3. 複製並安全保存金鑰</li>
                  </ol>
                </div>
              </div>
              
              <div>
                <div class="bg-success/10 border border-success/20 p-4 rounded-xl mb-4">
                  <div class="flex items-start space-x-3">
                    <i class="fas fa-check-circle text-success mt-1"></i>
                    <div>
                      <h5 class="font-semibold text-success mb-1">免費方案</h5>
                      <ul class="text-sm text-neutral-700 space-y-1">
                        <li>• 無需信用卡或 GCP 帳戶</li>
                        <li>• 每分鐘 15 次請求額度</li>
                        <li>• 適合測試和原型開發</li>
                      </ul>
                    </div>
                  </div>
                </div>
                
                <div class="code-editor">
                  <div class="code-header">
                    <div class="code-dot bg-red-400"></div>
                    <div class="code-dot bg-yellow-400"></div>
                    <div class="code-dot bg-green-400"></div>
                    <span class="text-white text-sm ml-2">環境變數設定</span>
                  </div>
                  <div class="p-4">
                    <pre class="text-green-400 text-sm"><code># 在你的 .env 檔案中
GEMINI_API_KEY=your_api_key_here

# 或在終端機中設定
export GEMINI_API_KEY="your_api_key_here"</code></pre>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Step 2: Choose Model -->
      <div class="step-card glass-card p-8 rounded-2xl mb-8" data-step="2">
        <div class="flex items-start space-x-6">
          <div class="flex-shrink-0">
            <div class="w-12 h-12 bg-google-500 text-white rounded-full flex items-center justify-center font-bold text-lg">2</div>
          </div>
          
          <div class="flex-1">
            <h3 class="text-2xl font-bold text-neutral-800 mb-4">選擇 Gemini 模型</h3>
            <p class="text-neutral-600 mb-6">根據你的需求選擇適合的模型，每個模型都有不同的能力和特色</p>
            
            <!-- Interactive Model Selector -->
            <div class="bg-neutral-50 p-6 rounded-xl mb-6">
              <h4 class="font-semibold mb-4">💎 Gemini 模型選擇器</h4>
              
              <div class="grid md:grid-cols-2 gap-4 mb-6">
                <!-- Gemini Flash -->
                <div class="parameter-card bg-white p-4 rounded-lg" data-model="flash">
                  <h5 class="font-semibold mb-2 flex items-center">
                    <i class="fas fa-bolt text-accent-500 mr-2"></i>
                    Gemini 2.0 Flash
                  </h5>
                  <p class="text-sm text-neutral-600 mb-3">快速回應，適合對話和簡單任務</p>
                  <div class="flex justify-between text-xs mb-2">
                    <span>速度: ⚡⚡⚡⚡⚡</span>
                    <span>成本: 💰</span>
                  </div>
                  <div class="text-xs text-neutral-500">
                    <span class="bg-green-100 text-green-700 px-2 py-1 rounded">推薦新手</span>
                  </div>
                </div>
                
                <!-- Gemini Pro -->
                <div class="parameter-card bg-white p-4 rounded-lg" data-model="pro">
                  <h5 class="font-semibold mb-2 flex items-center">
                    <i class="fas fa-brain text-google-500 mr-2"></i>
                    Gemini 2.5 Pro
                  </h5>
                  <p class="text-sm text-neutral-600 mb-3">高級推理，複雜任務和程式碼生成</p>
                  <div class="flex justify-between text-xs mb-2">
                    <span>智能: 🧠🧠🧠🧠🧠</span>
                    <span>成本: 💰💰💰</span>
                  </div>
                  <div class="text-xs text-neutral-500">
                    <span class="bg-blue-100 text-blue-700 px-2 py-1 rounded">高階功能</span>
                  </div>
                </div>
              </div>
              
              <!-- Model Features -->
              <details class="mb-4">
                <summary class="cursor-pointer font-semibold text-neutral-700 hover:text-google-500">
                  <i class="fas fa-info-circle mr-2"></i>模型能力比較（點擊展開）
                </summary>
                <div class="grid md:grid-cols-3 gap-4 mt-4">
                  <div class="bg-white p-4 rounded-lg">
                    <h6 class="font-medium mb-2">文字處理</h6>
                    <div class="space-y-2 text-sm">
                      <div>Flash: 一般對話 ✓</div>
                      <div>Pro: 複雜推理 ✓✓</div>
                    </div>
                  </div>
                  
                  <div class="bg-white p-4 rounded-lg">
                    <h6 class="font-medium mb-2">多模態</h6>
                    <div class="space-y-2 text-sm">
                      <div>Flash: 圖像理解 ✓</div>
                      <div>Pro: 進階視覺 ✓✓</div>
                    </div>
                  </div>
                  
                  <div class="bg-white p-4 rounded-lg">
                    <h6 class="font-medium mb-2">程式碼</h6>
                    <div class="space-y-2 text-sm">
                      <div>Flash: 基本生成 ✓</div>
                      <div>Pro: 複雜專案 ✓✓</div>
                    </div>
                  </div>
                </div>
              </details>
              
              <!-- Live Preview -->
              <div class="bg-white p-4 rounded-lg border-2 border-dashed border-neutral-200">
                <h5 class="font-semibold mb-2 flex items-center">
                  <i class="fas fa-eye text-google-500 mr-2"></i>
                  推薦配置
                </h5>
                <div class="code-editor text-sm">
                  <div class="code-header">
                    <span class="text-white text-xs">model_config.json</span>
                    <button onclick="copyConfig()" class="ml-auto text-white hover:text-green-400 transition-colors">
                      <i class="fas fa-copy"></i>
                    </button>
                  </div>
                  <pre id="configPreview" class="p-4 text-green-400 text-xs"><code>{
  "model": "gemini-2.0-flash",
  "temperature": 0.7,
  "max_output_tokens": 2048,
  "safety_settings": "default"
}</code></pre>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Step 3: Write Code -->
      <div class="step-card glass-card p-8 rounded-2xl mb-8" data-step="3">
        <div class="flex items-start space-x-6">
          <div class="flex-shrink-0">
            <div class="w-12 h-12 bg-google-500 text-white rounded-full flex items-center justify-center font-bold text-lg">3</div>
          </div>
          
          <div class="flex-1">
            <h3 class="text-2xl font-bold text-neutral-800 mb-4">撰寫程式碼</h3>
            <p class="text-neutral-600 mb-6">選擇你熟悉的程式語言，使用官方 SDK 快速整合 Gemini API</p>
            
            <!-- Language Tabs -->
            <div class="flex space-x-1 mb-6 bg-neutral-100 p-1 rounded-lg w-fit">
              <button class="lang-tab active px-4 py-2 rounded-md text-sm font-medium" data-lang="python">
                <i class="fab fa-python mr-2"></i>Python
              </button>
              <button class="lang-tab px-4 py-2 rounded-md text-sm font-medium" data-lang="javascript">
                <i class="fab fa-js-square mr-2"></i>JavaScript
              </button>
              <button class="lang-tab px-4 py-2 rounded-md text-sm font-medium" data-lang="curl">
                <i class="fas fa-terminal mr-2"></i>cURL
              </button>
            </div>
            
            <!-- Code Examples -->
            <div id="pythonCode" class="code-example">
              <div class="code-editor">
                <div class="code-header">
                  <div class="code-dot bg-red-400"></div>
                  <div class="code-dot bg-yellow-400"></div>
                  <div class="code-dot bg-green-400"></div>
                  <span class="text-white text-sm ml-2">gemini_chat.py</span>
                  <button onclick="copyCode('python')" class="ml-auto text-white hover:text-green-400 transition-colors tooltip" data-tooltip="複製代碼">
                    <i class="fas fa-copy"></i>
                  </button>
                </div>
                <pre class="p-6 text-sm overflow-x-auto"><code class="text-green-400" id="pythonCodeContent">import os
from google import genai

def chat_with_gemini(message, model="gemini-2.0-flash"):
    """使用 Google Gemini API 進行對話"""
    
    # 從環境變數取得 API 金鑰
    api_key = os.getenv("GEMINI_API_KEY")
    if not api_key:
        raise ValueError("請設定 GEMINI_API_KEY 環境變數")
    
    # 初始化客戶端
    client = genai.Client(api_key=api_key)
    
    try:
        # 發送請求給 Gemini
        response = client.models.generate_content(
            model=model,
            contents=message
        )
        
        return {
            "response": response.text,
            "model": model,
            "success": True
        }
    except Exception as e:
        return {
            "error": str(e),
            "success": False
        }

def start_chat_session(model="gemini-2.0-flash"):
    """開始一個對話會話"""
    api_key = os.getenv("GEMINI_API_KEY")
    client = genai.Client(api_key=api_key)
    
    # 建立對話會話
    chat = client.models.start_chat(model=model, history=[])
    return chat

# 使用範例
if __name__ == "__main__":
    # 單次對話
    result = chat_with_gemini("請介紹一下台灣的特色美食")
    if result["success"]:
        print("Gemini:", result["response"])
    else:
        print("錯誤:", result["error"])
    
    # 連續對話
    chat = start_chat_session()
    response1 = chat.send_message("你好，我想學習 Python")
    print("Gemini:", response1.text)
    
    response2 = chat.send_message("可以推薦一些學習資源嗎？")
    print("Gemini:", response2.text)</code></pre>
              </div>
            </div>
            
            <div id="javascriptCode" class="code-example hidden">
              <div class="code-editor">
                <div class="code-header">
                  <div class="code-dot bg-red-400"></div>
                  <div class="code-dot bg-yellow-400"></div>
                  <div class="code-dot bg-green-400"></div>
                  <span class="text-white text-sm ml-2">gemini-chat.js</span>
                  <button onclick="copyCode('javascript')" class="ml-auto text-white hover:text-green-400 transition-colors tooltip" data-tooltip="複製代碼">
                    <i class="fas fa-copy"></i>
                  </button>
                </div>
                <pre class="p-6 text-sm overflow-x-auto"><code class="text-green-400" id="javascriptCodeContent">import { GoogleGenAI } from "@google/genai";

class GeminiChat {
    constructor(apiKey, model = "gemini-2.0-flash") {
        this.client = new GoogleGenAI({ apiKey });
        this.model = model;
    }
    
    async sendMessage(message) {
        try {
            const response = await this.client.models.generateContent({
                model: this.model,
                contents: message,
            });
            
            return {
                response: response.text,
                success: true,
                model: this.model
            };
        } catch (error) {
            return {
                error: error.message,
                success: false
            };
        }
    }
    
    async startChatSession() {
        // 建立持續對話會話
        return await this.client.models.startChat({
            model: this.model,
            history: []
        });
    }
}

// 使用範例
async function main() {
    // 從環境變數取得 API 金鑰
    const apiKey = process.env.GEMINI_API_KEY;
    
    if (!apiKey) {
        console.error("請設定 GEMINI_API_KEY 環境變數");
        return;
    }
    
    const geminiChat = new GeminiChat(apiKey);
    
    // 單次對話
    const result = await geminiChat.sendMessage("請解釋什麼是人工智慧？");
    if (result.success) {
        console.log("Gemini:", result.response);
    } else {
        console.error("錯誤:", result.error);
    }
    
    // 連續對話
    const chatSession = await geminiChat.startChatSession();
    
    const response1 = await chatSession.sendMessage("你好，我是前端開發者");
    console.log("Gemini:", response1.text);
    
    const response2 = await chatSession.sendMessage("可以推薦一些 React 學習資源嗎？");
    console.log("Gemini:", response2.text);
}

// 瀏覽器環境使用範例
function createChatInterface() {
    const apiKey = "your_api_key_here"; // 注意：實際應用中不要在前端暴露 API 金鑰
    const geminiChat = new GeminiChat(apiKey);
    
    document.getElementById('sendButton').addEventListener('click', async () => {
        const userInput = document.getElementById('userInput').value;
        const result = await geminiChat.sendMessage(userInput);
        
        if (result.success) {
            document.getElementById('chatOutput').innerHTML += 
                `<div><strong>你:</strong> ${userInput}</div>
                 <div><strong>Gemini:</strong> ${result.response}</div>`;
        }
    });
}

main().catch(console.error);</code></pre>
              </div>
            </div>
            
            <div id="curlCode" class="code-example hidden">
              <div class="code-editor">
                <div class="code-header">
                  <div class="code-dot bg-red-400"></div>
                  <div class="code-dot bg-yellow-400"></div>
                  <div class="code-dot bg-green-400"></div>
                  <span class="text-white text-sm ml-2">terminal</span>
                  <button onclick="copyCode('curl')" class="ml-auto text-white hover:text-green-400 transition-colors tooltip" data-tooltip="複製代碼">
                    <i class="fas fa-copy"></i>
                  </button>
                </div>
                <pre class="p-6 text-sm overflow-x-auto"><code class="text-green-400" id="curlCodeContent"># 基本文字生成
curl -X POST "https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=$GEMINI_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "contents": [
      {
        "parts": [
          {
            "text": "請介紹一下台灣的文化特色"
          }
        ]
      }
    ],
    "generationConfig": {
      "temperature": 0.7,
      "maxOutputTokens": 2048
    }
  }'

# 帶有系統指示的請求
curl -X POST "https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=$GEMINI_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "systemInstruction": {
      "parts": [
        {
          "text": "你是一個專業的程式教學助手，請用簡單易懂的方式回答問題。"
        }
      ]
    },
    "contents": [
      {
        "parts": [
          {
            "text": "請解釋什麼是遞迴函數？"
          }
        ]
      }
    ]
  }'

# 多輪對話範例
curl -X POST "https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=$GEMINI_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "contents": [
      {
        "role": "user",
        "parts": [{"text": "我想學習機器學習"}]
      },
      {
        "role": "model", 
        "parts": [{"text": "太好了！機器學習是很有趣的領域。你有什麼特定的興趣方向嗎？"}]
      },
      {
        "role": "user",
        "parts": [{"text": "我對電腦視覺比較有興趣"}]
      }
    ]
  }'</code></pre>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Step 4: Test & Deploy -->
      <div class="step-card glass-card p-8 rounded-2xl mb-8" data-step="4">
        <div class="flex items-start space-x-6">
          <div class="flex-shrink-0">
            <div class="w-12 h-12 bg-google-500 text-white rounded-full flex items-center justify-center font-bold text-lg">4</div>
          </div>
          
          <div class="flex-1">
            <h3 class="text-2xl font-bold text-neutral-800 mb-4">測試與部署</h3>
            <p class="text-neutral-600 mb-6">在 Google AI Studio 中測試功能，確認效果後整合到你的應用中</p>
            
            <div class="grid md:grid-cols-2 gap-6">
              <div>
                <h4 class="font-semibold mb-4 flex items-center">
                  <i class="fas fa-play text-success mr-2"></i>
                  AI Studio 測試
                </h4>
                
                <div class="space-y-3">
                  <div class="bg-neutral-50 p-4 rounded-lg hover:bg-neutral-100 transition-colors cursor-pointer" onclick="testQuestion(this)">
                    <div class="flex items-center justify-between">
                      <span class="text-sm">"幫我寫一個 Python 函數計算費波納契數列"</span>
                      <i class="fas fa-play text-google-500"></i>
                    </div>
                  </div>
                  
                  <div class="bg-neutral-50 p-4 rounded-lg hover:bg-neutral-100 transition-colors cursor-pointer" onclick="testQuestion(this)">
                    <div class="flex items-center justify-between">
                      <span class="text-sm">"分析這張圖片的內容"（上傳圖片）</span>
                      <i class="fas fa-play text-google-500"></i>
                    </div>
                  </div>
                  
                  <div class="bg-neutral-50 p-4 rounded-lg hover:bg-neutral-100 transition-colors cursor-pointer" onclick="testQuestion(this)">
                    <div class="flex items-center justify-between">
                      <span class="text-sm">"解釋機器學習的基本概念"</span>
                      <i class="fas fa-play text-google-500"></i>
                    </div>
                  </div>
                </div>
                
                <div class="mt-6 p-4 bg-success/10 border border-success/20 rounded-lg">
                  <h5 class="font-semibold text-success mb-2">✅ 測試檢查清單</h5>
                  <ul class="text-sm space-y-1">
                    <li>□ API 金鑰設定正確</li>
                    <li>□ 程式碼執行無錯誤</li>
                    <li>□ 模型回應符合預期</li>
                    <li>□ 安全設定適當</li>
                  </ul>
                </div>
              </div>
              
              <div>
                <h4 class="font-semibold mb-4 flex items-center">
                  <i class="fas fa-cloud text-google-500 mr-2"></i>
                  部署最佳實踐
                </h4>
                
                <div class="space-y-4">
                  <div class="bg-white p-4 rounded-lg border border-neutral-200">
                    <h5 class="font-medium mb-2">🔐 安全性</h5>
                    <ul class="text-sm text-neutral-700 space-y-1">
                      <li>• 使用環境變數儲存 API 金鑰</li>
                      <li>• 不在前端暴露金鑰</li>
                      <li>• 設定 API 金鑰使用限制</li>
                    </ul>
                  </div>
                  
                  <div class="bg-white p-4 rounded-lg border border-neutral-200">
                    <h5 class="font-medium mb-2">⚡ 效能優化</h5>
                    <ul class="text-sm text-neutral-700 space-y-1">
                      <li>• 選擇適合的模型（Flash vs Pro）</li>
                      <li>• 實作請求重試機制</li>
                      <li>• 監控 API 使用量</li>
                    </ul>
                  </div>
                  
                  <div class="bg-white p-4 rounded-lg border border-neutral-200">
                    <h5 class="font-medium mb-2">💰 成本控制</h5>
                    <ul class="text-sm text-neutral-700 space-y-1">
                      <li>• 監控 Token 使用量</li>
                      <li>• 適時升級至付費方案</li>
                      <li>• 優化提示內容長度</li>
                    </ul>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Use Cases -->
  <section class="py-16 px-4 bg-gradient-to-r from-google-50 to-accent-50">
    <div class="max-w-6xl mx-auto">
      <div class="text-center mb-12">
        <h2 class="text-3xl font-bold text-neutral-800 mb-4">實際應用場景</h2>
        <p class="text-neutral-600">看看其他開發者如何使用 Google Gemini API</p>
      </div>
      
      <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
        <div class="glass-card p-6 rounded-xl hover:scale-105 transition-transform">
          <div class="w-12 h-12 bg-google-100 rounded-lg flex items-center justify-center mb-4">
            <i class="fas fa-comments text-google-600 text-xl"></i>
          </div>
          <h3 class="font-semibold mb-2">智能客服機器人</h3>
          <p class="text-sm text-neutral-600 mb-4">24/7 即時回應客戶問題，支援多語言對話</p>
          <div class="text-xs text-neutral-500">
            <span class="bg-google-100 text-google-700 px-2 py-1 rounded">自然對話</span>
            <span class="bg-accent-100 text-accent-700 px-2 py-1 rounded ml-1">多語言</span>
          </div>
        </div>
        
        <div class="glass-card p-6 rounded-xl hover:scale-105 transition-transform">
          <div class="w-12 h-12 bg-accent-100 rounded-lg flex items-center justify-center mb-4">
            <i class="fas fa-code text-accent-600 text-xl"></i>
          </div>
          <h3 class="font-semibold mb-2">程式碼助手</h3>
          <p class="text-sm text-neutral-600 mb-4">自動生成、除錯和優化程式碼，支援多種語言</p>
          <div class="text-xs text-neutral-500">
            <span class="bg-success/20 text-success px-2 py-1 rounded">代碼生成</span>
            <span class="bg-google-100 text-google-700 px-2 py-1 rounded ml-1">自動除錯</span>
          </div>
        </div>
        
        <div class="glass-card p-6 rounded-xl hover:scale-105 transition-transform">
          <div class="w-12 h-12 bg-success/20 rounded-lg flex items-center justify-center mb-4">
            <i class="fas fa-graduation-cap text-success text-xl"></i>
          </div>
          <h3 class="font-semibold mb-2">教育學習平台</h3>
          <p class="text-sm text-neutral-600 mb-4">個人化學習內容，即時問答和進度追蹤</p>
          <div class="text-xs text-neutral-500">
            <span class="bg-accent-100 text-accent-700 px-2 py-1 rounded">個人化</span>
            <span class="bg-google-100 text-google-700 px-2 py-1 rounded ml-1">即時問答</span>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- FAQ -->
  <section class="py-16 px-4">
    <div class="max-w-4xl mx-auto">
      <div class="text-center mb-12">
        <h2 class="text-3xl font-bold text-neutral-800 mb-4">常見問題</h2>
        <p class="text-neutral-600">快速解答使用 Google Gemini API 的常見疑問</p>
      </div>
      
      <div class="space-y-4">
        <details class="glass-card p-6 rounded-xl">
          <summary class="font-semibold cursor-pointer hover:text-google-500">
            Gemini API 是免費的嗎？
          </summary>
          <p class="mt-4 text-neutral-600">Google 提供免費方案，每分鐘可發送 15 次請求，適合測試和原型開發。正式應用建議升級至付費方案以獲得更高額度和企業級支援。</p>
        </details>
        
        <details class="glass-card p-6 rounded-xl">
          <summary class="font-semibold cursor-pointer hover:text-google-500">
            Gemini 與 ChatGPT 有什麼不同？
          </summary>
          <p class="mt-4 text-neutral-600">Gemini 是 Google 開發的多模態 AI，原生支援圖像、影片分析，與 Google 生態系整合度高。ChatGPT 主要專注於文字對話，各有優勢適合不同應用場景。</p>
        </details>
        
        <details class="glass-card p-6 rounded-xl">
          <summary class="font-semibold cursor-pointer hover:text-google-500">
            如何選擇適合的 Gemini 模型？
          </summary>
          <p class="mt-4 text-neutral-600">Flash 模型速度快成本低，適合簡單對話；Pro 模型智能程度高，適合複雜推理和程式碼生成。建議先用 Flash 測試，有需要再升級 Pro。</p>
        </details>
        
        <details class="glass-card p-6 rounded-xl">
          <summary class="font-semibold cursor-pointer hover:text-google-500">
            API 金鑰安全性如何保障？
          </summary>
          <p class="mt-4 text-neutral-600">務必將金鑰存在環境變數中，不要硬編碼在程式裡。可在 Google Cloud Console 設定金鑰使用限制，包括 IP 白名單、每日額度等。</p>
        </details>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="bg-neutral-800 text-white py-12 px-4">
    <div class="max-w-6xl mx-auto">
      <div class="grid md:grid-cols-4 gap-8">
        <div>
          <div class="flex items-center space-x-2 mb-4">
            <div class="w-8 h-8 bg-google-500 rounded-lg flex items-center justify-center">
              <i class="fab fa-google text-white"></i>
            </div>
            <span class="font-bold">Gemini Guide</span>
          </div>
          <p class="text-neutral-400 text-sm">讓每個開發者都能輕鬆使用 Google AI 技術</p>
        </div>
        
        <div>
          <h3 class="font-semibold mb-4">快速連結</h3>
          <ul class="space-y-2 text-sm text-neutral-400">
            <li><a href="https://aistudio.google.com" class="hover:text-white">AI Studio</a></li>
            <li><a href="https://ai.google.dev" class="hover:text-white">開發文檔</a></li>
            <li><a href="#" class="hover:text-white">API 參考</a></li>
          </ul>
        </div>
        
        <div>
          <h3 class="font-semibold mb-4">學習資源</h3>
          <ul class="space-y-2 text-sm text-neutral-400">
            <li><a href="#" class="hover:text-white">教學範例</a></li>
            <li><a href="#" class="hover:text-white">最佳實踐</a></li>
            <li><a href="#" class="hover:text-white">社群討論</a></li>
          </ul>
        </div>
        
        <div>
          <h3 class="font-semibold mb-4">支援</h3>
          <ul class="space-y-2 text-sm text-neutral-400">
            <li><a href="#" class="hover:text-white">常見問題</a></li>
            <li><a href="#" class="hover:text-white">技術支援</a></li>
            <li><a href="#" class="hover:text-white">回報問題</a></li>
          </ul>
        </div>
      </div>
      
      <div class="border-t border-neutral-700 mt-8 pt-8 text-center text-neutral-400 text-sm">
        <p>© 2025 Google Gemini API Guide. 本指南為教學目的，請遵循 Google 官方服務條款。</p>
      </div>
    </div>
  </footer>

  <!-- Easter Egg Button -->
  <button id="easterEgg" class="fixed bottom-6 right-6 w-14 h-14 bg-gradient-to-r from-accent-400 to-accent-500 hover:from-accent-500 hover:to-accent-600 text-white rounded-full shadow-lg hover:shadow-xl transition-all duration-300 animate-float">
    <i class="fab fa-google text-xl"></i>
  </button>

  <script>
    // Progress tracking
    let currentStep = 0;
    const totalSteps = 4;
    
    function updateProgress() {
      const progress = (currentStep / totalSteps) * 100;
      document.getElementById('progressBar').style.width = progress + '%';
      document.getElementById('progressText').textContent = `${currentStep}/${totalSteps}`;
    }
    
    // Step tracking with Intersection Observer
    const stepCards = document.querySelectorAll('[data-step]');
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          const step = parseInt(entry.target.dataset.step);
          if (step > currentStep) {
            currentStep = step;
            updateProgress();
          }
        }
      });
    }, { threshold: 0.5 });
    
    stepCards.forEach(card => observer.observe(card));
    
    // Model configurator
    function updateConfigPreview() {
      const config = {
        model: "gemini-2.0-flash",
        temperature: 0.7,
        max_output_tokens: 2048,
        safety_settings: "default"
      };
      
      document.getElementById('configPreview').textContent = JSON.stringify(config, null, 2);
    }
    
    // Language tabs
    document.querySelectorAll('.lang-tab').forEach(tab => {
      tab.addEventListener('click', function() {
        // Remove active class from all tabs
        document.querySelectorAll('.lang-tab').forEach(t => {
          t.classList.remove('active', 'bg-white', 'text-google-600');
          t.classList.add('text-neutral-600');
        });
        
        // Add active class to clicked tab
        this.classList.add('active', 'bg-white', 'text-google-600');
        this.classList.remove('text-neutral-600');
        
        // Hide all code examples
        document.querySelectorAll('.code-example').forEach(example => {
          example.classList.add('hidden');
        });
        
        // Show selected code example
        const lang = this.dataset.lang;
        document.getElementById(lang + 'Code').classList.remove('hidden');
      });
    });
    
    // Copy functions
    function copyConfig() {
      const config = document.getElementById('configPreview').textContent;
      copyToClipboard(config);
    }
    
    function copyCode(language) {
      const code = document.getElementById(language + 'CodeContent').textContent;
      copyToClipboard(code);
    }
    
    function copyToClipboard(text) {
      navigator.clipboard.writeText(text).then(() => {
        // Show toast notification
        showToast('已複製到剪貼簿！', 'success');
      }).catch(() => {
        showToast('複製失敗，請手動複製', 'error');
      });
    }
    
    function showToast(message, type) {
      const toast = document.createElement('div');
      toast.className = `fixed top-4 right-4 z-50 p-4 rounded-lg text-white transition-all duration-300 transform translate-x-full`;
      toast.className += type === 'success' ? ' bg-success' : ' bg-danger';
      toast.textContent = message;
      
      document.body.appendChild(toast);
      
      setTimeout(() => {
        toast.classList.remove('translate-x-full');
      }, 100);
      
      setTimeout(() => {
        toast.classList.add('translate-x-full');
        setTimeout(() => document.body.removeChild(toast), 300);
      }, 3000);
    }
    
    // Test question functionality
    function testQuestion(element) {
      const question = element.querySelector('span').textContent.replace(/"/g, '');
      element.style.background = '#f3f4f6';
      element.querySelector('i').className = 'fas fa-spinner fa-spin text-google-500';
      
      setTimeout(() => {
        element.style.background = '#ecfdf5';
        element.querySelector('i').className = 'fas fa-check text-success';
        showToast(`已測試問題：${question}`, 'success');
      }, 2000);
    }
    
    // Easter egg
    let eggClickCount = 0;
    document.getElementById('easterEgg').addEventListener('click', function() {
      eggClickCount++;
      
      if (eggClickCount >= 3) {
        const modal = document.createElement('div');
        modal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4';
        modal.innerHTML = `
          <div class="glass-card p-8 rounded-2xl max-w-md w-full text-center animate-slide-up">
            <div class="text-6xl mb-4">🤖</div>
            <h3 class="text-2xl font-bold mb-4">發現 Google 彩蛋！</h3>
            <p class="text-neutral-600 mb-6">
              恭喜你發現了隱藏功能！專業提示：
              使用 <code>temperature: 0.7</code> 可以平衡創意與準確性，
              讓 Gemini 的回答既有創意又不失準確度！
            </p>
            <button onclick="this.parentElement.parentElement.remove()" 
                    class="bg-google-500 hover:bg-google-600 text-white px-6 py-2 rounded-lg">
              太棒了！
            </button>
          </div>
        `;
        document.body.appendChild(modal);
        eggClickCount = 0;
      }
    });
    
    // Initialize
    updateConfigPreview();
    updateProgress();
  </script>
</body>
</html>