<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>C++ 建構子順序兩派修正 Demo</title>

<!-- =========== 內嵌 CSS（支援 RWD） =========== -->
<style>
:root{
  --bg:#f4f6fa;
  --card:#fff;
  --primary:#3f7dff;
  --mono:ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
  --radius:12px;
  --shadow:0 4px 10px rgba(0,0,0,.08);
  --code-bg:#272822;
  --code-fg:#f8f8f2;
}
*{box-sizing:border-box;}
body{margin:0;font-family:"Noto Sans TC",sans-serif;background:var(--bg);color:#333;line-height:1.7;}
header{background:var(--primary);color:#fff;padding:1.2rem;text-align:center;font-size:1.4rem;font-weight:600;}
.tab-bar{display:flex;justify-content:center;gap:1rem;margin:1rem 0;flex-wrap:wrap;}
button.tab{
  border:none;cursor:pointer;padding:.6rem 1.2rem;border-radius:var(--radius);
  background:var(--card);box-shadow:var(--shadow);font-weight:600;font-size:1rem;
  transition:.2s;
}
button.tab.active,button.tab:hover{background:var(--primary);color:#fff;}
section.card{
  max-width:960px;margin:0 auto 1.5rem;background:var(--card);
  padding:1.5rem;border-radius:var(--radius);box-shadow:var(--shadow);
}
h2{margin-top:0;color:var(--primary);}
pre,code{
  background:var(--code-bg);color:var(--code-fg);padding:1rem;border-radius:var(--radius);
  overflow-x:auto;font-family:var(--mono);font-size:.9rem;
}
@media(max-width:600px){
  pre{font-size:.8rem;}
}
.hidden{display:none;}
</style>
</head>

<body>
<header>C++ 多重繼承「兩派修正」Demo</header>

<!-- ========= 切換按鈕 ========= -->
<div class="tab-bar">
  <button class="tab active" data-target="c">版本 C：<small>保留繼承、靜音 Person</small></button>
  <button class="tab" data-target="a">版本 A：<small>斷開繼承、各自獨立</small></button>
</div>

<!-- ========= 版本 C 內容 ========= -->
<section id="c" class="card">
  <h2>版本 C –「靜音魚缸」策略 🐟</h2>
  <p><strong>比喻</strong>：<br>
     想像 <code>Person</code> 是一座會「咕嚕咕嚕」冒泡泡的<span style="color:#3f7dff">大魚缸</span>，<br>
     <code>Faculty</code>、<code>Student</code> 都把魚缸搬進自己房間。<br>
     冒泡聲很吵，但魚缸本身仍得存在（維持水循環）。<br>
     <mark>我們做法是「留著魚缸但關掉打氣馬達」</mark> → 把 <code>cout</code> 拔掉，泡泡聲消失，輸出乾淨！</p>

  <h3>程式碼（專業註解）</h3>
<pre>
// Version C: Keep inheritance, mute Person's constructor
#include &lt;iostream&gt;
using namespace std;

/* Person 仍是公共基底，但建構子不再輸出 ----------- */
class Person{
public:
    Person(int /*x*/){ /* 仍被呼叫，但靜音 */ }
};

/* Faculty &amp; Student 照舊 public 繼承 Person --------- */
class Faculty : public Person{
public:
    Faculty(int x):Person(x){
        cout &lt;&lt; "Faculty::Faculty(int ) called" &lt;&lt; endl;
    }
};
class Student : public Person{
public:
    Student(int x):Person(x){
        cout &lt;&lt; "Student::Student(int ) called" &lt;&lt; endl;
    }
};

/* TA 同時繼承，初始化清單順序 = 繼承列表順序 ------- */
class TA : public Faculty, public Student{
public:
    TA(int x):Faculty(x), Student(x){
        cout &lt;&lt; "TA::TA(int ) called" &lt;&lt; endl;
    }
};

int main(){ TA ta1(128); }
</pre>

  <h3>預期輸出</h3>
<pre>
Faculty::Faculty(int ) called
Student::Student(int ) called
TA::TA(int ) called
</pre>
</section>

<!-- ========= 版本 A 內容 ========= -->
<section id="a" class="card hidden">
  <h2>版本 A –「分家養魚」策略 🐠</h2>
  <p><strong>比喻</strong>：<br>
     覺得大魚缸太吵？乾脆 <mark>每人買自己的小魚缸</mark>！<br>
     我們把 <code>Faculty</code>、<code>Student</code> 與 <code>Person</code> <u>完全脫鉤</u>，<br>
     各養各的魚，就不會冒泡兩次。</p>

  <h3>程式碼（專業註解）</h3>
<pre>
// Version A: Remove inheritance, each class stands alone
#include &lt;iostream&gt;
using namespace std;

/* Person 保留，但此題不再被繼承 -------------------- */
class Person{
public:
    Person(int x){ cout &lt;&lt; "Person::Person(int ) called" &lt;&lt; endl; }
};

/* Faculty / Student 變獨立 ------------------------- */
class Faculty{
public:
    Faculty(int){ cout &lt;&lt; "Faculty::Faculty(int ) called" &lt;&lt; endl; }
};
class Student{
public:
    Student(int){ cout &lt;&lt; "Student::Student(int ) called" &lt;&lt; endl; }
};

/* TA 多重繼承獨立類別 ------------------------------ */
class TA : public Faculty, public Student{
public:
    TA(int x):Faculty(x), Student(x){
        cout &lt;&lt; "TA::TA(int ) called" &lt;&lt; endl;
    }
};

int main(){ TA ta1(128); }
</pre>

  <h3>預期輸出</h3>
<pre>
Faculty::Faculty(int ) called
Student::Student(int ) called
TA::TA(int ) called
</pre>
</section>

<!-- =========== 內嵌 JS（切換邏輯） =========== -->
<script>
const tabs = document.querySelectorAll('.tab');
const sections = { c:document.getElementById('c'), a:document.getElementById('a') };

tabs.forEach(btn=>{
  btn.addEventListener('click',()=>{
    // 切換 active 樣式
    tabs.forEach(b=>b.classList.remove('active'));
    btn.classList.add('active');
    // 顯示對應內容
    const target = btn.dataset.target;
    Object.keys(sections).forEach(k=>{
      sections[k].classList.toggle('hidden', k!==target);
    });
    // 捲動到頂（行動版 UX）
    window.scrollTo({top:0,behavior:'smooth'});
  });
});
</script>
</body>
</html>